(function(e){function t(t){for(var i,o,s=t[0],c=t[1],l=t[2],u=0,m=[];u<s.length;u++)o=s[u],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&m.push(r[o][0]),r[o]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(e[i]=c[i]);d&&d(t);while(m.length)m.shift()();return n.push.apply(n,l||[]),a()}function a(){for(var e,t=0;t<n.length;t++){for(var a=n[t],i=!0,s=1;s<a.length;s++){var c=a[s];0!==r[c]&&(i=!1)}i&&(n.splice(t--,1),e=o(o.s=a[0]))}return e}var i={},r={app:0},n=[];function o(t){if(i[t])return i[t].exports;var a=i[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=i,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(a,i,function(t){return e[t]}.bind(null,i));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var d=c;n.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"03d2":function(e,t,a){},"0407":function(e,t,a){"use strict";var i=a("abe6"),r=a.n(i);r.a},"0af4":function(e,t,a){"use strict";var i=a("3345"),r=a.n(i);r.a},"0e40":function(e,t,a){"use strict";var i=a("6033"),r=a.n(i);r.a},1:function(e,t){},1939:function(e,t,a){"use strict";var i=a("b6fd"),r=a.n(i);r.a},"1ff8":function(e,t,a){"use strict";var i=a("f0e2"),r=a.n(i);r.a},"25fd":function(e,t,a){"use strict";var i=a("29ce"),r=a.n(i);r.a},"29ce":function(e,t,a){},"2a70":function(e,t,a){},"2c32":function(e,t,a){},"2f8b":function(e,t,a){"use strict";var i=a("03d2"),r=a.n(i);r.a},3345:function(e,t,a){},4678:function(e,t,a){var i={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function r(e){var t=n(e);return a(t)}function n(e){if(!a.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}r.keys=function(){return Object.keys(i)},r.resolve=n,e.exports=r,r.id="4678"},"4f5f":function(e,t,a){},"4ff0":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var i=a("2b0e"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",{style:"login"==this.$route.name?"background:  linear-gradient(340deg, rgba(0,0,0,1) 9%, rgba(255,28,0,0.7777311608237045) 100%);":"background:  linear-gradient(270deg, rgba(112,43,43,0.05504208519345233) 2%, rgba(50,48,48,0.8869748583026961) 100%);"},[e.isLoggedIn?a("Navbar"):e._e(),e.isLoggedIn?a("Toolbar"):e._e(),a("div",{staticStyle:{display:"flex","flex-direction":"column",height:"100vh"}},[a("v-content",{staticStyle:{flex:"1"}},[a("router-view")],1)],1),e.isLoggedIn?a("Footer"):e._e(),a("Snackbar")],1)},n=[],o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("nav",[a("v-navigation-drawer",{attrs:{value:e.drawer,app:"",clipped:""}},[a("v-list",{attrs:{dense:""}},[a("v-list-item",[a("v-list-item-content",[a("v-list-item-title",{staticClass:"title"},[e._v(" "+e._s(e.currentUser.first_name)+" "+e._s(e.currentUser.last_name)+" ")]),a("v-list-item-subtitle",[e._v(" "+e._s(e.currentUser.employment&&e.currentUser.employment.position?e.currentUser.employment.position.name:"None")+" ")])],1)],1),a("v-divider"),e._l(e.permissions,(function(t,i){return a("span",{key:i},[a("v-list-group",{attrs:{"append-icon":t.subLinks?"keyboard_arrow_down":"","prepend-icon":t.icon},on:{click:function(a){return e.toRoute(t.route)}},scopedSlots:e._u([{key:"activator",fn:function(){return[a("v-list-item-title",{domProps:{textContent:e._s(t.text)}})]},proxy:!0}],null,!0)},[e._l(t.subLinks,(function(t,i){return a("span",{key:i,attrs:{to:t.route}},[t.links?e._e():a("v-list-item",[a("v-list-item-action"),a("v-list-item-title",{staticClass:"text-wrap",domProps:{textContent:e._s(t.text)}}),a("v-list-item-action",[a("v-icon",{domProps:{textContent:e._s(t.icon)}})],1)],1)],1)})),e._l(t.subLinks,(function(t,i){return a("span",{key:i},[t.links?a("v-list-group",{attrs:{"no-action":"","sub-group":""},scopedSlots:e._u([{key:"activator",fn:function(){return[a("v-list-item-content",[a("v-list-item-title",{staticClass:"text-wrap",domProps:{textContent:e._s(t.text)}})],1)]},proxy:!0}],null,!0)},e._l(t.links,(function(t,i){return a("v-list-item",{key:i,attrs:{router:"",to:t.route,link:""}},[a("v-list-item-title",{staticClass:"text-wrap",domProps:{textContent:e._s(t.text)}}),a("v-list-item-action",[a("v-icon",{domProps:{textContent:e._s(t.icon)}})],1)],1)})),1):e._e()],1)}))],2)],1)}))],2)],1)],1)},s=[],c=a("5530"),l=a("2f62"),d={data:function(){return{}},computed:Object(c["a"])(Object(c["a"])({},Object(l["b"])({permissions:"userPermissions/getPermissions"})),{},{drawer:function(){return this.$store.state.drawer},currentUser:function(){return this.$store.getters.currentUser},getCurrentRoutePath:function(){return this.$route.path}}),created:function(){this.$store.dispatch("userPermissions/fetchPermissions")},methods:{toRoute:function(e){e&&this.getCurrentRoutePath!=e&&this.$router.push(e)}}},u=d,m=a("2877"),p=a("6544"),v=a.n(p),h=a("ce7e"),f=a("132d"),_=a("8860"),g=a("56b0"),b=a("da13"),x=a("1800"),T=a("5d23"),y=a("f774"),S=Object(m["a"])(u,o,s,!1,null,null,null),D=S.exports;v()(S,{VDivider:h["a"],VIcon:f["a"],VList:_["a"],VListGroup:g["a"],VListItem:b["a"],VListItemAction:x["a"],VListItemContent:T["b"],VListItemSubtitle:T["c"],VListItemTitle:T["d"],VNavigationDrawer:y["a"]});var k=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("nav",[a("v-app-bar",{staticStyle:{background:"linear-gradient(137deg,rgba(0, 0, 0, 1) 9%,rgba(231, 95, 94, 0.5872549703475141) 100% )","border-radius":"10px",color:"white"},attrs:{dark:"",app:"","clipped-left":""}},[a("v-btn",{attrs:{icon:""},on:{click:function(t){return t.stopPropagation(),e.drawer(t)}}},[a("v-icon",[e._v(e._s(e.toggleDrawer?"mdi-menu":"mdi-menu-open"))])],1),a("v-img",{staticStyle:{margin:"5px"},attrs:{src:"/logo.jpg","max-width":"40","max-height":"40"}}),a("v-toolbar-title",[a("strong",[e._v("Appletronics Portal ")]),a("p",{staticStyle:{"font-size":"11px"}},[e._v(" Appletronics Services Inc. ")])]),a("v-spacer"),a("v-spacer"),a("v-spacer"),a("strong",{staticStyle:{"text-align":"center"}},[e._v(e._s(e.currentUser.branch?"":e.currentUser.branch.name))]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{icon:""},on:{click:e.goDark}},i),[a("v-icon",[e._v(" "+e._s(e.isDark?"mdi-brightness-4":"mdi-brightness-7")+" ")])],1)]}}])},[a("span",[e._v(e._s(e.isDark?"Go Dark":"Go Light"))])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{icon:""},on:{click:e.logout}},i),[a("v-icon",[e._v("logout")])],1)]}}])},[a("span",[e._v("Logout")])]),[a("div",{staticClass:"text-center"},[a("v-menu",{attrs:{"close-on-content-click":!1},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,r=t.attrs;return[a("vs-avatar",e._g(e._b({attrs:{primary:""},scopedSlots:e._u([{key:"badge",fn:function(){return[e._v(" "+e._s(e.items.count)+" ")]},proxy:!0}],null,!0)},"vs-avatar",r,!1),i),[a("v-icon",[e._v("mdi-bell-ring-outline")])],1)]}}]),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[a("v-card",[a("v-list",[a("v-list-item",[a("v-list-item-content",[a("strong",[e._v("Notification")])]),a("v-list-item-action",[a("v-btn",{class:e.fav?"red--text":"",attrs:{icon:""},on:{click:function(t){e.fav=!e.fav}}},[a("v-icon",[e._v("mdi-email-open-outline")])],1)],1)],1)],1),a("v-divider"),a("v-list",{attrs:{"two-line":"","max-width":"400"}},[a("v-list-item-group",{attrs:{multiple:""}},[a("v-sheet",{staticClass:"overflow-y-auto",attrs:{id:"scrolling-techniques-7","max-height":"400"}},[e._l(e.items.data,(function(t,i){return[a("v-list-item",{key:t.categories,on:{click:function(a){return e.view(t)}}},[[a("v-list-item-content",[a("strong",[e._v("From: "+e._s(t.name))]),a("v-list-item-subtitle",{staticClass:"text--primary",domProps:{textContent:e._s(t.categories)}}),a("v-list-item-subtitle",{domProps:{textContent:e._s(t.customername)}}),e._v(" Updates:"),a("v-list-item-subtitle",{domProps:{textContent:e._s(t.event_logs)}})],1),a("v-list-item-action",[a("v-list-item-action-text",{domProps:{textContent:e._s(t.created_at)}})],1)]],2),i<e.items.length-1?a("v-divider",{key:i}):e._e()]})),e._l(e.items.notify,(function(t,i){return[a("v-list-item",{key:t.callid,on:{click:function(a){return e.seen(t)}}},[[a("v-list-item-content",[a("strong",[e._v("BRANCH:")]),a("v-list-item-subtitle",{staticClass:"text--primary",domProps:{textContent:e._s(t.branch.SAP_BRANCH)}}),t.requestid?a("strong",[e._v("TICKET-NO:")]):e._e(),a("v-list-item-subtitle",{staticClass:"text--primary",domProps:{textContent:e._s(t.ticketno)}}),t.callid?a("strong",[e._v("CALL-ID:")]):e._e(),a("v-list-item-subtitle",{staticClass:"text--primary",domProps:{textContent:e._s(t.callid)}}),t.callid?e._e():a("strong",{staticStyle:{color:"green"}},[e._v("NEW FILED")]),t.created_at?a("strong",[e._v("FILING DATE:")]):e._e(),a("v-list-item-subtitle",{domProps:{textContent:e._s(t.created_at)}}),t.reason?a("strong",[e._v("STATUS:")]):e._e(),a("v-list-item-subtitle",{domProps:{textContent:e._s(t.reason)}}),t.installer?a("strong",[e._v("TECH/INST:")]):e._e(),a("v-list-item-subtitle",{domProps:{textContent:e._s(t.installer)}}),t.installationdate?a("strong",[e._v("DATE:")]):e._e(),a("v-list-item-subtitle",{domProps:{textContent:e._s(t.installationdate)}})],1)]],2),i<e.items.length-1?a("v-divider",{key:i}):e._e()]}))],2)],1)],1)],1)],1),a("v-dialog",{attrs:{"hide-overlay":"",persistent:"",width:"300"},model:{value:e.loadings,callback:function(t){e.loadings=t},expression:"loadings"}},[a("v-card",{attrs:{color:"primary",dark:""}},[a("v-card-text",[e._v(" Please stand by "),a("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1)],1),a("v-dialog",{attrs:{"max-width":"700px"},model:{value:e.viewThreads,callback:function(t){e.viewThreads=t},expression:"viewThreads"}},[a("v-card",[a("v-card-title",[e._v(" Escalation Details ")]),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"4"}},[a("v-list",{staticClass:"pa-6",attrs:{"three-line":""}},[e._v(" Customer "),a("br"),a("strong",[e._v(e._s(e.threadsData.data.customername))]),a("br"),e._v(" Status"),a("br"),a("v-chip",{attrs:{color:"1"==e.threadsData.data.status?"orange":"green",label:"",outlined:""}},[e._v(" "+e._s("1"==e.threadsData.data.status?"Pending":"Resolved"))]),a("br"),e._v(" Category "),a("v-select",{attrs:{items:e.categories,"item-text":"name","item-value":"value",label:"",dense:"",solo:"",disabled:2==e.threadsData.data.status},model:{value:e.category,callback:function(t){e.category=t},expression:"category"}}),1==e.threadsData.data.status?a("v-btn",{staticClass:"ma-2",attrs:{outlined:"",color:"indigo"},on:{click:function(t){return e.updateScalate(e.threadsData.data.id)}}},[e._v(" UPDATE")]):e._e()],1)],1),a("v-col",{attrs:{cols:"12",sm:"8"}},[2==e.threadsData.data.status&&e.checkpermission?a("v-btn",{staticClass:"ma-2",attrs:{outlined:"",color:"indigo"},on:{click:function(t){return e.reopen(e.threadsData.data.id)}}},[e._v(" RE OPEN")]):e._e(),a("br"),e._v("Escalation Date"),a("br"),e._v(" "+e._s(new Date(e.threadsData.data.created_at).toLocaleString())+" "),a("v-card-text",[a("div",{staticClass:"font-weight-bold"},[e._v("Updates")]),a("v-timeline",{attrs:{"align-top":"",dense:""}},[a("v-sheet",{staticClass:"overflow-y-auto",attrs:{id:"scrolling-techniques-7","max-height":"200"}},e._l(e.threadsData.threads,(function(t){return a("v-timeline-item",{key:t.created_at,attrs:{color:"green",small:""}},[a("div",[a("div",{staticClass:"font-weight-normal"},[a("strong",[e._v(e._s(t.from_bys))]),e._v(" @"+e._s(t.created_at)+" ")]),a("div",[e._v(e._s(t.threads))])])])})),1)],1)],1),a("v-list",{staticClass:"pa-6",attrs:{"three-line":""}},[1==e.threadsData.data.status?a("v-textarea",{attrs:{outlined:"",name:"input-7-4",value:""},model:{value:e.note,callback:function(t){e.note=t},expression:"note"}}):e._e(),a("v-col",{staticClass:"text-right"},[1==e.threadsData.data.status?a("v-btn",{staticClass:"ma-2",attrs:{disabled:!e.note,color:"grey"},on:{click:function(t){return e.sendThreads(e.threadsData.data.id)}}},[e._v(" SEND ")]):e._e()],1)],1)],1)],1),a("v-card-actions")],1)],1)],1)]],2),a("v-dialog",{attrs:{"hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:e.jobsInfo,callback:function(t){e.jobsInfo=t},expression:"jobsInfo"}},[a("v-card",[a("v-toolbar",{staticStyle:{background:"linear-gradient("},attrs:{color:"success"}},[a("v-btn",{attrs:{icon:"",dark:""},on:{click:function(t){e.jobsInfo=!1}}},[a("v-icon",[e._v("mdi-close")])],1),a("v-toolbar-title",[e._v("Job Status Update: "),a("strong",[e._v(e._s(0==e.jobsData.status?"Unassigned":1==e.jobsData.status?"Accepted":2==e.jobsData.status?"Dispatch to Other ASC":"Rejected")+" / "+e._s(e.jobsData.callid))])]),a("v-spacer"),a("v-toolbar-items")],1),a("v-list",{attrs:{"three-line":"",subheader:""}},[a("v-subheader",[e._v("Product Information")]),a("v-list-item",[a("v-list-item-content",[a("v-data-table",{attrs:{dense:"",headers:e.unitsHeader,items:e.unitsData}})],1)],1)],1),a("v-list",{attrs:{"three-line":"",subheader:""}},[a("v-subheader",[e._v("Customer Information")]),a("v-list-item",[a("v-list-item-content",[a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{attrs:{cols:"12",sm:"3"}},["INSTALLATION"==e.reqtype?a("v-card",{staticClass:"pa-2",staticStyle:{height:"185px"}},[a("strong",[e._v("Contact Phone Number")]),a("br"),e._v(" "+e._s(e.jobsData.customer.cpnumber?e.jobsData.customer.cpnumber:"N/A")),a("br"),a("strong",[e._v("Last Name")]),a("br"),e._v(" "+e._s(e.jobsData.customer.lastname?e.jobsData.customer.lastname:"N/A")),a("br"),a("strong",[e._v("Municipality")]),a("br"),e._v(" "+e._s(e.jobsData.customer.mcity?e.jobsData.customer.mcity:"N/A")),a("br"),a("strong",[e._v("Dealer Name")]),a("br"),e._v(" "+e._s(e.jobsData.branch.name)),a("br"),0!=e.jobsData.status?a("strong",[e._v("Date of Installation")]):e._e(),a("br"),e._v(" "+e._s(0!=e.jobsData.status?e.jobsData.installationdate?e.jobsData.installationdate:"N/A":"")+" ")]):e._e(),"SITE SURVEY"==e.reqtype?a("v-card",{staticClass:"pa-2",staticStyle:{height:"185px"}},[a("strong",[e._v("Contact Phone Number")]),a("br"),e._v(" "+e._s(e.jobsData.customer.cpnumber?e.jobsData.customer.cpnumber:"N/A")),a("br"),a("strong",[e._v("Last Name")]),a("br"),e._v(" "+e._s(e.jobsData.customer.lastname?e.jobsData.customer.lastname:"N/A")),a("br"),a("strong",[e._v("Municipality")]),a("br"),e._v(" "+e._s(e.jobsData.customer.mcity?e.jobsData.customer.mcity:"N/A")),a("br"),a("strong",[e._v("Dealer Name")]),a("br"),e._v(" "+e._s(e.jobsData.branch.name)),a("br"),0!=e.jobsData.status?a("strong",[e._v("Date of Survey")]):e._e(),a("br"),e._v(" "+e._s(0!=e.jobsData.status?e.jobsData.installationdate?e.jobsData.installationdate:"N/A":"")+" ")]):e._e(),"REPAIR"==e.reqtype||"CLEANING"==e.reqtype?a("v-card",{staticClass:"pa-2",staticStyle:{height:"185px"}},[a("strong",[e._v("Contact Phone Number")]),a("br"),e._v(" "+e._s(e.jobsData.customer.cpnumber?e.jobsData.customer.cpnumber:"N/A")),a("br"),a("strong",[e._v("Last Name")]),a("br"),e._v(" "+e._s(e.jobsData.customer.lastname?e.jobsData.customer.lastname:"N/A")),a("br"),a("strong",[e._v("Municipality")]),a("br"),e._v(" "+e._s(e.jobsData.customer.mcity?e.jobsData.customer.mcity:"N/A")),a("br"),a("strong",[e._v("Dealer Name")]),a("br"),e._v(" "+e._s(e.jobsData.branch.name)),a("br")]):e._e()],1),a("v-col",{attrs:{cols:"12",sm:"3"}},["INSTALLATION"==e.reqtype?a("v-card",{staticClass:"pa-2",staticStyle:{height:"185px"}},[a("strong",[e._v("Contact Email Address")]),a("br"),e._v(" "+e._s(e.jobsData.customer.emailaddress?e.jobsData.customer.emailaddress:"N/A")),a("br"),a("strong",[e._v("First Name")]),a("br"),e._v(" "+e._s(e.jobsData.customer.firstname?e.jobsData.customer.firstname:"N/A")),a("br"),a("strong",[e._v("Barangay")]),a("br"),e._v(" "+e._s(e.jobsData.customer.barangay?e.jobsData.customer.barangay:"N/A")),a("br"),a("strong",[e._v("Name Of Organization")]),a("br"),e._v(" "+e._s(e.jobsData.organizationname?e.jobsData.organizationname:"N/A")),a("br")]):e._e(),"SITE SURVEY"==e.reqtype?a("v-card",{staticClass:"pa-2",staticStyle:{height:"185px"}},[a("strong",[e._v("Contact Email Address")]),a("br"),e._v(" "+e._s(e.jobsData.customer.emailaddress?e.jobsData.customer.emailaddress:"N/A")),a("br"),a("strong",[e._v("First Name")]),a("br"),e._v(" "+e._s(e.jobsData.customer.firstname?e.jobsData.customer.firstname:"N/A")),a("br"),a("strong",[e._v("Barangay")]),a("br"),e._v(" "+e._s(e.jobsData.customer.barangay?e.jobsData.customer.barangay:"N/A")),a("br"),a("strong",[e._v("Name Of Organization")]),a("br"),e._v(" "+e._s(e.jobsData.organizationname?e.jobsData.organizationname:"N/A")),a("br")]):e._e(),"REPAIR"==e.reqtype||"CLEANING"==e.reqtype?a("v-card",{staticClass:"pa-2",staticStyle:{height:"185px"}},[a("strong",[e._v("Contact Email Address")]),a("br"),e._v(" "+e._s(e.jobsData.customer.emailaddress?e.jobsData.customer.emailaddress:"N/A")),a("br"),a("strong",[e._v("First Name")]),a("br"),e._v(" "+e._s(e.jobsData.customer.firstname?e.jobsData.customer.firstname:"N/A")),a("br"),a("strong",[e._v("Barangay")]),a("br"),e._v(" "+e._s(e.jobsData.customer.barangay?e.jobsData.customer.barangay:"N/A")),a("br"),a("strong",[e._v("Special Request")]),a("br"),e._v(" "+e._s(e.jobsData.customer.specialinstruction?e.jobsData.customer.specialinstruction:"N/A")+" ")]):e._e()],1),a("v-col",{attrs:{cols:"12",sm:"3"}},["INSTALLATION"==e.reqtype?a("v-card",{staticClass:"pa-2",staticStyle:{height:"185px"}},[a("strong",[e._v("Telephone No. ")]),a("br"),e._v(" "+e._s(e.jobsData.customer.telephoneno?e.jobsData.customer.telephoneno:"N/A")),a("br"),a("strong",[e._v("Middle Name")]),a("br"),e._v(" "+e._s(e.jobsData.customer.middlename?e.jobsData.customer.middlename:"N/A")),a("br"),a("strong",[e._v("Street")]),a("br"),e._v(" "+e._s(e.jobsData.customer.street?e.jobsData.customer.street:"N/A")),a("br"),a("strong",[e._v("Special Request")]),a("br"),e._v(" "+e._s(e.jobsData.customer.specialinstruction?e.jobsData.customer.specialinstruction:"N/A")+" ")]):e._e(),"SITE SURVEY"==e.reqtype?a("v-card",{staticClass:"pa-2",staticStyle:{height:"185px"}},[a("strong",[e._v("Telephone No. ")]),a("br"),e._v(" "+e._s(e.jobsData.customer.telephoneno?e.jobsData.customer.telephoneno:"N/A")),a("br"),a("strong",[e._v("Middle Name")]),a("br"),e._v(" "+e._s(e.jobsData.customer.middlename?e.jobsData.customer.middlename:"N/A")),a("br"),a("strong",[e._v("Street")]),a("br"),e._v(" "+e._s(e.jobsData.customer.street?e.jobsData.customer.street:"N/A")),a("br"),a("strong",[e._v("Special Request")]),a("br"),e._v(" "+e._s(e.jobsData.customer.specialinstruction?e.jobsData.customer.specialinstruction:"N/A")+" ")]):e._e(),"REPAIR"==e.reqtype||"CLEANING"==e.reqtype?a("v-card",{staticClass:"pa-2",staticStyle:{height:"185px"}},[a("strong",[e._v("Telephone No. ")]),a("br"),e._v(" "+e._s(e.jobsData.customer.telephoneno?e.jobsData.customer.telephoneno:"N/A")),a("br"),a("strong",[e._v("Middle Name")]),a("br"),e._v(" "+e._s(e.jobsData.customer.middlename?e.jobsData.customer.middlename:"N/A")),a("br"),a("strong",[e._v("Street")]),a("br"),e._v(" "+e._s(e.jobsData.customer.street?e.jobsData.customer.street:"N/A")),a("br"),0!=e.jobsData.status?a("strong",[e._v("Technician")]):e._e(),a("br"),e._v(" "+e._s(0!=e.jobsData.status?e.jobsData.installer?e.jobsData.installer:" ":"")),a("br")]):e._e()],1),a("v-col",{attrs:{cols:"12",sm:"3"}},["INSTALLATION"==e.reqtype?a("v-card",{staticClass:"pa-2",staticStyle:{height:"185px"}},[a("strong",[e._v("Contact Person")]),a("br"),e._v(" "+e._s(e.jobsData.customer.contactperson?e.jobsData.customer.contactperson:"N/A")),a("br"),a("strong",[e._v("Province")]),a("br"),e._v(" "+e._s(e.jobsData.customer.province)),a("br"),a("strong",[e._v("House No.")]),a("br"),e._v(" "+e._s(e.jobsData.customer.houseno?e.jobsData.customer.houseno:"N/A")),a("br"),0!=e.jobsData.status?a("strong",[e._v("Installer")]):e._e(),a("br"),e._v(" "+e._s(0!=e.jobsData.status?e.jobsData.installer?e.jobsData.installer:"N/A":"")),a("br")]):e._e(),"SITE SURVEY"==e.reqtype?a("v-card",{staticClass:"pa-2",staticStyle:{height:"185px"}},[a("strong",[e._v("Contact Person")]),a("br"),e._v(" "+e._s(e.jobsData.customer.contactperson?e.jobsData.customer.contactperson:"N/A")),a("br"),a("strong",[e._v("Province")]),a("br"),e._v(" "+e._s(e.jobsData.customer.province)),a("br"),a("strong",[e._v("House No.")]),a("br"),e._v(" "+e._s(e.jobsData.customer.houseno?e.jobsData.customer.houseno:"N/A")),a("br"),0!=e.jobsData.status?a("strong",[e._v("Technician")]):e._e(),a("br"),e._v(" "+e._s(0!=e.jobsData.status?e.jobsData.installer?e.jobsData.installer:"N/A":"")),a("br")]):e._e(),"REPAIR"==e.reqtype||"CLEANING"==e.reqtype?a("v-card",{staticClass:"pa-2",staticStyle:{height:"185px"}},[a("strong",[e._v("Contact Person")]),a("br"),e._v(" "+e._s(e.jobsData.customer.contactperson?e.jobsData.customer.contactperson:"N/A")),a("br"),a("strong",[e._v("Province")]),a("br"),e._v(" "+e._s(e.jobsData.customer.province)),a("br"),a("strong",[e._v("House No.")]),a("br"),e._v(" "+e._s(e.jobsData.customer.houseno?e.jobsData.customer.houseno:"N/A")),a("br"),0!=e.jobsData.status?a("strong",[e._v("Date of Service")]):e._e(),a("br"),e._v(" "+e._s(0!=e.jobsData.status?e.jobsData.installationdate?e.jobsData.installationdate:"N/A":"")+" ")]):e._e()],1)],1)],1)],1)],1)],1)],1)],1)},E=[],A={data:function(){return{threadsData:{data:{status:""}},viewThreads:!1,categories:[{name:"Request-Wty Con",value:"Request-Wty Con"},{name:"Request-Replacement",value:"Request-Replacement"},{name:"Request-Technical Support",value:"Request-Technical Support"},{name:"Request-Admin Support",value:"Request-Admin Support"},{name:"Follow Up-Parts/Unit Arrival",value:"Follow Up-Parts/Unit Arrival"},{name:"Follow Up-Request Status",value:"Follow Up-Request Status"},{name:"Follow Up-Billing Related",value:"Follow Up-Billing Related"}],category:"",category2:"",note:"",loadings:!1,fav:!0,menu:!1,message:!1,hints:!0,usersData:[],callid:"",selectedID:0,bgselected0:"success",bgselected1:"",bgselected2:"",bgselected3:"",requestID:"",updatesData:"",reason:"",items:[],jobsCounts:"",unitsHeader:[{text:"Product Category",value:"prodcategories"},{text:"Appliance Type",value:"appliancetype"},{text:"Brand",value:"brand"},{text:"Model",value:"model"},{text:"Serial No.",value:"serialno"},{text:"Unit Condition",value:"unitcondition"},{text:"Warranty Condition",value:"warrantycondition"},{text:"Date of Purchase",value:"datepurchase"},{text:"Priority",value:"priority"}],jobupdateDialog:!1,unitsData:[],perm:[],reqtype:"",tech:{name:"N/A",value:"N/A"},jobstatus:"",jobsInfo:!1,jobsData:{customer:{firstname:"",lastname:"",middlename:"",barangay:"",contactperson:"",cpnumber:"",emailaddress:"",houseno:"",mcity:"",organization:"",province:"",specialinstruction:"",street:"",telephoneno:""},branch:{name:"N/A"}},search:"",data:[],headers:[{text:"Ticket No",align:"start",sortable:!1,value:"ticketno"},{text:"Request Type",align:"start",sortable:!1,value:"requestid"},{text:"Branch",value:"branch.name"},{text:"Customer Name",value:"customer.fullname"},{text:"Date of Complain",value:"created_at"},{text:"Appliance Type/Item",value:"producttype"},{text:"Province",value:"customer.province"},{text:"City",value:"customer.mcity"},{text:"Barangay",value:"customer.barangay"},{text:"Action",value:"action"}],jobstat:[{name:"Unassigned",value:"Unassigned"},{name:"Accepted",value:"Accepted"}],installer:[{name:"N/A",value:"N/A"},{name:"Mike Doe",value:"Mike Doe"},{name:"Linux Doe",value:"Linux Doe"},{name:"James Doe",value:"James Doe"}],reasonItem:[{name:"Rescheduled",value:"Rescheduled"},{name:"Parts",value:"Parts"},{name:"Under Observation",value:"Under Observation"},{name:"Quotation Approval",value:"Quotation Approval"},{name:"Waiting Permit",value:"Waiting Permit"},{name:"Follow-Up",value:"Follow-Up"},{name:"BP-Service Update",value:"BP-Service Update"},{name:"Unit Replacement",value:"Unit Replacement"}]}},methods:{change:function(){var e={id:this.connections.connection};this.$store.dispatch("updateDB",e)},drawer:function(){this.$store.state.drawer=!this.$store.state.drawer},logout:function(){this.$store.commit("logout"),this.$router.push("/login")},goDark:function(){this.$store.state.goDark=!this.$store.state.goDark},view:function(e){var t=this;this.$store.dispatch("app_booking_sys/ViewNotification",e.event_id).then((function(e){t.threadsData=e.data[0],console.log(e.data)})),this.viewThreads=!0,this.$socket.emit("notification",1),this.$store.dispatch("app_booking_sys/Notification").then((function(e){t.items=e.data}))},seen:function(e){var t,a=this;"REPAIR"==e.requesttype?this.unitsHeader=[{text:"PRODUCT CATEGORY",value:"prodcategories"},{text:"APPLIANCE TYPE",value:"appliancetype"},{text:"Request Type",value:"problem"},{text:"BRAND",value:"brand"},{text:"MODEL",value:"model"},{text:"SERIAL NO.",value:"serialno"},{text:"UNIT CONDITION",value:"unitcondition"},{text:"WARRANTY CON",value:"warrantycondition"},{text:"DOP",value:"datepurchase"},{text:"LOCATION OF UNIT",value:"locationofinstallation"},{text:"PRIORITY",value:"priority"}]:"CLEANING"==e.requesttype?this.unitsHeader=[{text:"Product Category",value:"prodcategories"},{text:"Appliance Type",value:"appliancetype"},{text:"Brand",value:"brand"},{text:"Model",value:"model"},{text:"Serial No.",value:"serialno"},{text:"Unit Condition",value:"unitcondition"},{text:"Warranty Condition",value:"warrantycondition"},{text:"Date of Purchase",value:"datepurchase"},{text:"LOCATION OF UNIT",value:"locationofinstallation"},{text:"Priority",value:"priority"}]:"INSTALLATION"==e.requesttype?this.unitsHeader=[{text:"Product Category",value:"prodcategories"},{text:"Appliance Type",value:"appliancetype"},{text:"Brand",value:"brand"},{text:"Model",value:"model"},{text:"Serial No.",value:"serialno"},{text:"Unit Condition",value:"unitcondition"},{text:"Warranty Condition",value:"warrantycondition"},{text:"Date of Purchase",value:"datepurchase"},{text:"INSTALLATION ADDRESS",value:"locationofinstallation"},{text:"Priority",value:"priority"}]:"SITE SURVEY"==e.requesttype&&(this.unitsHeader=[{text:"Product Category",value:"prodcategories"},{text:"Appliance Type",value:"appliancetype"},{text:"Brand",value:"brand"},{text:"Model",value:"model"},{text:"Serial No.",value:"serialno"},{text:"Unit Condition",value:"unitcondition"},{text:"Warranty Condition",value:"warrantycondition"},{text:"Date of Purchase",value:"datepurchase"},{text:"SURVEY LOCATION",value:"locationofinstallation"},{text:"Priority",value:"priority"}]),0==e.status?t="Unassigned":1==e.status?t="Accepted":2==e.status?t="Dispatch to Other ASC":10==e.status&&(t="Rejected"),this.tech=e.installer,this.reqtype=e.requesttype,this.jobstatus=t,this.callid=e.callid,this.installationdateData=e.installationdate,this.jobsInfo=!0,this.jobsData=e,this.unitsData=e.units,this.requestID=e.requestid,this.$store.dispatch("app_booking_sys/SeenNotification",e.id),this.$store.dispatch("app_booking_sys/Notification").then((function(e){a.items=e.data}))},Sound:function(){var e=new Audio("/notify.wav");e.play()},sendThreads:function(e){var t=this,a={scalate_id:e,thread:this.note};this.$store.dispatch("app_booking_sys/scalateSendThreadsBk",a).then((function(e){t.loadings=!0,setTimeout((function(){return t.loadings=!1,t.threadsData.threads.push(e.data[0])}),2e3),t.$socket.emit("notification",1)}))}},created:function(){var e=this;this.$store.dispatch("app_booking_sys/Notification").then((function(t){e.items=t.data})),this.usersData=this.$store.state.currentUser,this.sockets.subscribe("notification",(function(t){e.$store.dispatch("app_booking_sys/Notification").then((function(t){if(JSON.stringify(e.items)!==JSON.stringify(t.data)){e.items=t.data;var a="Branch: "+e.items.notify[0].branch.SAP_BRANCH+", Ticket-No: "+e.items.notify[0].ticketno+", Created: "+e.items.notify[0].created_at;e.$toast.open({message:a,type:"success"}),console.log(a),e.Sound()}}))})),this.usersData.branch_id},computed:{counting:function(){return this.items},connections:function(){return this.$store.state.connections},currentUser:function(){return this.$store.getters.currentUser},loadingStatus:function(){return this.$store.state.loading},isDark:function(){return this.$store.state.goDark},toggleDrawer:function(){return this.$store.state.drawer}}},I=A,C=a("40dc"),O=a("8336"),N=a("b0af"),$=a("99d9"),w=a("cc20"),R=a("62ad"),P=a("8fea"),V=a("169a"),q=a("adda"),L=a("1baa"),U=a("e449"),j=a("8e36"),B=a("0fd9"),M=a("b974"),G=a("8dd9"),F=a("2fa4"),Y=a("e0c7"),z=a("a844"),H=a("8414"),K=a("1e06"),W=a("71d9"),J=a("2a7f"),Q=a("3a2f"),X=Object(m["a"])(I,k,E,!1,null,null,null),Z=X.exports;v()(X,{VAppBar:C["a"],VBtn:O["a"],VCard:N["a"],VCardActions:$["a"],VCardText:$["c"],VCardTitle:$["d"],VChip:w["a"],VCol:R["a"],VDataTable:P["a"],VDialog:V["a"],VDivider:h["a"],VIcon:f["a"],VImg:q["a"],VList:_["a"],VListItem:b["a"],VListItemAction:x["a"],VListItemActionText:T["a"],VListItemContent:T["b"],VListItemGroup:L["a"],VListItemSubtitle:T["c"],VMenu:U["a"],VProgressLinear:j["a"],VRow:B["a"],VSelect:M["a"],VSheet:G["a"],VSpacer:F["a"],VSubheader:Y["a"],VTextarea:z["a"],VTimeline:H["a"],VTimelineItem:K["a"],VToolbar:W["a"],VToolbarItems:J["a"],VToolbarTitle:J["b"],VTooltip:Q["a"]});var ee=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("footer",[a("v-footer",{staticStyle:{background:"linear-gradient(137deg, rgba(0,0,0,0.6768908246892507) 9%, rgba(231,95,94,0.5032213569021359) 100%)"},attrs:{app:""}},[a("v-card",{staticClass:"flex",attrs:{flat:""}},[a("v-card-actions",{staticClass:"justify-center",staticStyle:{background:"linear-gradient(270deg, rgba(112,43,43,0.05504208519345233) 2%, rgba(50,48,48,0.8869748583026961) 100%)"}},[e._v(" © "+e._s((new Date).getFullYear())+" - "),a("strong",[e._v(" Appletronics System All Rights Reserved.")])])],1)],1)],1)},te=[],ae={data:function(){return{icons:["fab fa-facebook","fab fa-twitter","fab fa-google-plus","fab fa-linkedin","fab fa-instagram"]}}},ie=ae,re=a("553a"),ne=Object(m["a"])(ie,ee,te,!1,null,null,null),oe=ne.exports;v()(ne,{VCard:N["a"],VCardActions:$["a"],VFooter:re["a"]});var se=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-snackbar",{attrs:{value:e.snackbar,bottom:"",timeout:e.snackbarTimeout}},[e._v(" "+e._s(e.snackbarText)+" "),a("v-btn",{attrs:{color:"accent",text:""},on:{click:e.closeSnackbar}},[e._v(" Close ")])],1)},ce=[],le={computed:{snackbar:function(){return this.$store.state.snackbar},snackbarText:function(){return this.$store.state.snackbarText},snackbarTimeout:function(){return this.$store.state.snackbarTimeout}},methods:{closeSnackbar:function(){this.$store.state.snackbar=!1}}},de=le,ue=a("2db4"),me=Object(m["a"])(de,se,ce,!1,null,null,null),pe=me.exports;v()(me,{VBtn:O["a"],VSnackbar:ue["a"]});var ve={components:{Navbar:D,Toolbar:Z,Footer:oe,Snackbar:pe},data:function(){return{options:{mouseControls:!0,touchControls:!0,minHeight:800,minWidth:100,scale:1,scaleMobile:1}}},created:function(){window.addEventListener("resize",this.handleResize),this.handleResize();var e=this.$store.state.windowSize.width;e<769&&this.$store.commit("DRAWER_STATUS",!1)},destroyed:function(){window.removeEventListener("resize",this.handleResize)},methods:{handleResize:function(){this.$store.commit("WINDOW_SIZE")}},computed:{isLoggedIn:function(){return this.$store.getters.isLoggedIn},goDark:function(){return this.$store.getters.goDark}}},he=ve,fe=a("7496"),_e=a("a75b"),ge=Object(m["a"])(he,r,n,!1,null,null,null),be=ge.exports;v()(ge,{VApp:fe["a"],VContent:_e["a"]});a("99af"),a("b0c0");var xe=a("8c4f"),Te=a("323e"),ye=a.n(Te),Se=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:"","fill-height":""}},[a("v-layout",{attrs:{"align-center":"","justify-center":""}},[a("v-flex",{attrs:{xs12:"",sm8:"",md5:""}},[a("v-card",{staticClass:"elevation-12",staticStyle:{background:"linear-gradient(356deg, rgba(0,0,0,1) 9%, rgba(255,255,255,0.5872549703475141) 100%)"}},[a("v-toolbar",{attrs:{dark:""}},[a("v-img",{staticClass:"mr-2",attrs:{src:"/logo.jpg","max-width":"50","max-height":"50"}}),a("v-toolbar-title",[a("strong",[e._v("Appletronics Service")]),a("p",{staticStyle:{"font-size":"11px"}},[e._v("Appletronics System INC.")])])],1),a("v-card-text",[a("v-form",[a("v-text-field",{attrs:{autofocus:"",dense:"","prepend-icon":"person",label:"Username",type:"text"},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.authenticate(t)}},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}}),a("v-text-field",{attrs:{"prepend-icon":"lock",dense:"",label:"Password",type:"password"},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.authenticate(t)}},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{dark:"",loading:e.loadingStatus},on:{click:e.authenticate}},[e._v("Login")])],1)],1)],1)],1)],1)},De=[],ke=(a("d3b7"),a("bc3a")),Ee=a.n(ke);a("c975"),a("45fc");function Ae(e,t){t.beforeEach((function(t,a,i){var r=t.matched.some((function(e){return e.meta.requiresAuth})),n=e.state.currentUser;r&&!n?i("/login"):"/login"==t.path&&n?i("/"):i()})),Ee.a.interceptors.response.use(null,(function(a){if("Network Error"==a.message){var i="Network Error",r=[{status:!0,message:i,timeout:3e3}];e.commit("SNACKBAR_STATUS",r,{root:!0}),e.commit("LOADING_STATUS",!1,{root:!0})}else if("Model have child records"==a.response.data.message){var n="Model have child records",o=[{status:!0,message:n,timeout:3e3}];e.commit("SNACKBAR_STATUS",o,{root:!0}),e.commit("LOADING_STATUS",!1,{root:!0})}if(401==a.response.status){var s="Session expired. Please re-login.",c=[{status:!0,message:s,timeout:12e3}];e.commit("SNACKBAR_STATUS",c,{root:!0}),e.commit("LOADING_STATUS",!1,{root:!0}),e.commit("logout"),t.push("/login")}if(403==a.response.status&&t.push("/403"),418==a.response.status){var l="Forbidden",d=[{status:!0,message:l,timeout:3e3}];e.commit("SNACKBAR_STATUS",d,{root:!0}),e.commit("LOADING_STATUS",!1,{root:!0})}return"blob"===a.request.responseType&&a.response.data instanceof Blob&&a.response.data.type&&-1!=a.response.data.type.toLowerCase().indexOf("json")?new Promise((function(e,t){var i=new FileReader;i.onload=function(){a.response.data=JSON.parse(i.result),e(Promise.reject(a))},i.onerror=function(){t(a)},i.readAsText(a.response.data)})):Promise.reject(a)})),e.getters.currentUser&&Ie(e.getters.currentUser.token)}function Ie(e){Ee.a.defaults.headers.common["Authorization"]="Bearer ".concat(e)}function Ce(e){return new Promise((function(t,a){Ee.a.post("http://appletronics.com.ph:8009/api/auth/login",e).then((function(e){Ie(e.data.access_token),t(e.data)})).catch((function(e){console.log(e),a("Wrong email or password")}))}))}function Oe(){var e=localStorage.getItem("user");return e?JSON.parse(e):null}var Ne={name:"login",data:function(){return{form:{email:"",password:""}}},methods:{authenticate:function(){var e=this;this.$store.dispatch("login"),Ce(this.$data.form).then((function(t){e.$store.commit("loginSuccess",t),e.$router.push({path:"/"})})).catch((function(t){var a=t,i=[{status:!0,message:a,timeout:3e3}];e.$store.commit("SNACKBAR_STATUS",i,{root:!0})}))}},computed:{loadingStatus:function(){return this.$store.state.loading}},created:function(){this.$store.commit("LOADING_STATUS",!1,{root:!0})}},$e=Ne,we=a("a5238"),Re=a("0e8f"),Pe=a("4bd4"),Ve=a("a722"),qe=a("8654"),Le=Object(m["a"])($e,Se,De,!1,null,null,null),Ue=Le.exports;v()(Le,{VBtn:O["a"],VCard:N["a"],VCardActions:$["a"],VCardText:$["c"],VContainer:we["a"],VFlex:Re["a"],VForm:Pe["a"],VImg:q["a"],VLayout:Ve["a"],VSpacer:F["a"],VTextField:qe["a"],VToolbar:W["a"],VToolbarTitle:J["b"]});var je=[{path:"/login",component:Ue,name:"login"}],Be=je,Me=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{staticClass:"full-height",attrs:{fluid:""}},[a("v-layout",{staticClass:"full-height",attrs:{column:""}},[a("v-flex",{attrs:{xs12:""}},[a("div",{staticClass:"full-height"},[a("v-layout",{attrs:{"align-center":"","justify-center":"",column:"","fill-height":""}},[a("p",{staticClass:"display-4 font-weight-black"},[e._v("403")]),a("p",{staticClass:"headline"},[e._v("Forbidden")])])],1)])],1)],1)},Ge=[],Fe=(a("0407"),{}),Ye=Object(m["a"])(Fe,Me,Ge,!1,null,"5c499973",null),ze=Ye.exports;v()(Ye,{VContainer:we["a"],VFlex:Re["a"],VLayout:Ve["a"]});var He=[{path:"/403",component:ze,name:"unauthorize"}],Ke=He,We=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{staticClass:"mt-16",attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:""}},[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"3"}},[a("v-skeleton-loader",{staticClass:"mx-auto",attrs:{"max-height":"80",type:"card",loading:e.loadingForCount}},[a("v-card",{staticClass:"pa-2",attrs:{outlined:"",tile:""}},[a("v-icon",{staticStyle:{"margin-right":"5px",color:"red"}},[e._v("mdi-email-alert")]),a("strong",[e._v("Unassigned "),a("h2",[e._v(e._s(e.jobsCounts.unsigned))])])],1)],1)],1),a("v-col",{attrs:{cols:"12",sm:"3"}},[a("v-skeleton-loader",{staticClass:"mx-auto",attrs:{"max-height":"80",type:"card",loading:e.loadingForCount}},[a("v-card",{staticClass:"pa-2",attrs:{outlined:"",tile:""}},[a("v-icon",{staticStyle:{"margin-right":"5px",color:"yellowgreen"}},[e._v("mdi-account-check")]),a("strong",[e._v("Accepted "),a("h2",[e._v(e._s(e.jobsCounts.accepted))])])],1)],1)],1),a("v-col",{attrs:{cols:"12",sm:"3"}},[a("v-skeleton-loader",{staticClass:"mx-auto",attrs:{"max-height":"80",type:"card",loading:e.loadingForCount}},[a("v-card",{staticClass:"pa-2",attrs:{outlined:"",tile:""}},[a("v-icon",{staticStyle:{"margin-right":"5px",color:"blue"}},[e._v("mdi-teamviewer")]),a("strong",[e._v("Dispatch to Other ASC "),a("h2",[e._v(e._s(e.jobsCounts.asc))])])],1)],1)],1),a("v-col",{attrs:{cols:"12",sm:"3"}},[a("v-skeleton-loader",{staticClass:"mx-auto",attrs:{"max-height":"80",type:"card",loading:e.loadingForCount}},[a("v-card",{staticClass:"pa-2",attrs:{outlined:"",tile:""}},[a("v-icon",{staticStyle:{"margin-right":"5px",color:"red"}},[e._v("mdi-account-off")]),a("strong",[e._v("Rejected "),a("h2",[e._v(e._s(e.jobsCounts.rejected))])])],1)],1)],1),a("v-col",[a("v-skeleton-loader",{staticClass:"mx-auto",attrs:{type:"table-heading, list-item-two-line, image, table-tfoot",loading:e.loadingForTable}},[a("v-sheet",{attrs:{height:"50"}},[a("v-toolbar",{attrs:{flat:""}},[a("v-btn",{staticClass:"mr-2",attrs:{outlined:"",color:"grey darken-2"},on:{click:e.setToday}},[e._v(" Today ")]),a("v-btn",{attrs:{fab:"",text:"",small:"",color:"grey darken-2"},on:{click:e.prev}},[a("v-icon",{attrs:{small:""}},[e._v(" mdi-chevron-left ")])],1),a("v-btn",{attrs:{fab:"",text:"",small:"",color:"grey darken-2"},on:{click:e.next}},[a("v-icon",{attrs:{small:""}},[e._v(" mdi-chevron-right ")])],1),e.$refs.calendar?a("v-toolbar-title",[e._v(" "+e._s(e.$refs.calendar.title)+" ")]):e._e(),a("v-spacer"),a("v-menu",{attrs:{bottom:"",right:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,r=t.attrs;return[a("v-btn",e._g(e._b({attrs:{outlined:"",color:"grey darken-2"}},"v-btn",r,!1),i),[a("span",[e._v(e._s(e.typeToLabel[e.type]))]),a("v-icon",{attrs:{right:""}},[e._v(" mdi-menu-down ")])],1)]}}])},[a("v-list",[a("v-list-item",{on:{click:function(t){e.type="day"}}},[a("v-list-item-title",[e._v("Day")])],1),a("v-list-item",{on:{click:function(t){e.type="week"}}},[a("v-list-item-title",[e._v("Week")])],1),a("v-list-item",{on:{click:function(t){e.type="month"}}},[a("v-list-item-title",[e._v("Month")])],1),a("v-list-item",{on:{click:function(t){e.type="4day"}}},[a("v-list-item-title",[e._v("4 days")])],1)],1)],1)],1)],1),a("v-sheet",{attrs:{height:"500"}},[a("v-calendar",{ref:"calendar",attrs:{color:"primary",events:e.events,type:e.type,"interval-height":60},on:{"click:event":e.showEvent,"click:more":e.viewDay,"click:date":e.viewDay},scopedSlots:e._u([{key:"event",fn:function(t){var a=t.event;return[e._v(" "+e._s(a.name)+" ")]}}]),model:{value:e.focus,callback:function(t){e.focus=t},expression:"focus"}}),a("v-menu",{attrs:{"close-on-content-click":!1,activator:e.selectedElement,"offset-x":""},model:{value:e.selectedOpen,callback:function(t){e.selectedOpen=t},expression:"selectedOpen"}},[a("v-card",{attrs:{color:"grey lighten-4","min-width":"350px",flat:""}},[a("v-toolbar",{attrs:{color:e.selectedEvent.color,dark:""}},[a("v-toolbar-title",[e._v(e._s(new Date(e.selectedEvent.start).toLocaleDateString("en-CA",{hour:"numeric"})))]),a("v-spacer")],1),a("v-card-text",[e.selectedEvent.events&&e.selectedEvent.events.length?a("div",{staticClass:"overflow-y-auto",staticStyle:{"max-height":"600px",width:"500px"}},[a("v-list",e._l(e.selectedEvent.events,(function(t){return a("div",{key:t.id},[new Date(t.start).toLocaleDateString("en-CA",{hour:"numeric"})===new Date(e.selectedEvent.start).toLocaleDateString("en-CA",{hour:"numeric"})?[a("v-subheader",[e._v(" "+e._s(t.name)+" ")]),a("v-list-item",[a("v-list-item-content",[a("strong",[e._v(" SCHEDULE: "),a("span",{staticStyle:{color:"red"}},[e._v(e._s(t.start))])]),a("strong",[e._v("CALLID:")]),e._v(" "),a("span",{domProps:{innerHTML:e._s(t.details.callid)}}),a("br"),a("strong",[e._v("ADDRESS:")]),e._v(" "),a("span",{domProps:{innerHTML:e._s(t.details.customer.barangay+","+t.details.customer.mcity+","+t.details.customer.province)}}),a("br"),a("strong",[e._v("TELEPHONE:")]),e._v(" "),a("span",{domProps:{innerHTML:e._s(t.details.customer.telephoneno)}}),a("br"),a("strong",[e._v("CONTACT PERSON:")]),e._v(" "),a("span",{domProps:{innerHTML:e._s(t.details.customer.contactperson)}}),a("br"),a("strong",[e._v("CP NUMBER:")]),e._v(" "),a("span",{domProps:{innerHTML:e._s(t.details.customer.cpnumber)}}),a("br"),a("strong",[e._v("EMAIL:")]),e._v(" "),a("span",{domProps:{innerHTML:e._s(t.details.customer.emailaddress)}}),a("br")])],1),a("v-divider")]:e._e()],2)})),0)],1):e._e()])],1)],1)],1)],1)],1)],1)],1)],1)],1)],1)},Je=[],Qe=(a("4de4"),{data:function(){return{jobsCounts:"",focus:"",type:"month",typeToLabel:{month:"Month",week:"Week",day:"Day","4day":"4 Days"},selectedEvent:{name:"",color:"",details:{callid:"",customer:{barangay:"",mcity:"",province:"",telephoneno:"",contactperson:"",cpnumber:"",emailaddress:""}}},selectedElement:null,selectedOpen:!1,events:[],loadingForCount:!0,loadingForTable:!1}},mounted:function(){var e=this;this.$refs.calendar.checkChange(),this.$store.dispatch("app_booking_sys/JobsCount").then((function(t){e.jobsCounts=t.data,e.loadingForCount=!1})),this.loadingForTable=!0,this.$store.dispatch("app_booking_sys/JobsSchedule").then((function(t){e.events=t.data,e.loadingForTable=!1}))},methods:{viewDay:function(e){var t=e.date;this.focus=t,this.type="day"},getEventColor:function(e){return e.color},setToday:function(){this.focus=""},prev:function(){this.$refs.calendar.prev()},next:function(){this.$refs.calendar.next()},showEvent:function(e){e.nativeEvent;var t=e.event,a=this.events.filter((function(e){return e.time===t.time}));this.selectedEvent=Object(c["a"])(Object(c["a"])({},t),{},{events:a}),this.selectedElement=t.target,this.selectedOpen=!0}}}),Xe=Qe,Ze=a("a4f6"),et=a("3129"),tt=Object(m["a"])(Xe,We,Je,!1,null,null,null),at=tt.exports;v()(tt,{VBtn:O["a"],VCalendar:Ze["a"],VCard:N["a"],VCardText:$["c"],VCol:R["a"],VContainer:we["a"],VDivider:h["a"],VFlex:Re["a"],VIcon:f["a"],VLayout:Ve["a"],VList:_["a"],VListItem:b["a"],VListItemContent:T["b"],VListItemTitle:T["d"],VMenu:U["a"],VRow:B["a"],VSheet:G["a"],VSkeletonLoader:et["a"],VSpacer:F["a"],VSubheader:Y["a"],VToolbar:W["a"],VToolbarTitle:J["b"]});var it=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.users,"items-per-page":e.itemsPerPage,search:e.search,loading:e.loadingStatus,"single-expand":"","show-expand":"","show-select":""},on:{"toggle-select-all":e.selectAllToggle,"current-items":e.currentItems},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Users")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.openDialog}},i),[a("v-icon",[e._v("mdi-plus-circle")])],1)]}}])},[a("span",[e._v("Add")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{disabled:!e.selected.length>0,text:"",icon:""},on:{click:e.deleteUsers}},i),[a("v-icon",[e._v("mdi-delete")])],1)]}}])},[a("span",[e._v("Delete")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""}},i),[a("v-icon",[e._v("print")])],1)]}}])},[a("span",[e._v("Print")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("json-excel",{attrs:{data:e.users}},[a("v-btn",e._g({attrs:{text:"",icon:""}},i),[a("v-icon",[e._v("mdi-file-export")])],1)],1)]}}])},[a("span",[e._v("Export")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.refreshData}},i),[a("v-icon",[e._v("mdi-refresh")])],1)]}}])},[a("span",[e._v("Refresh")])]),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-dialog",{attrs:{scrollable:"",persistent:"",value:e.dialog,"max-width":"500px"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",[a("v-text-field",{attrs:{autofocus:"","error-messages":e.firstNameErrors,label:"First Name",required:"",disabled:e.loadingStatus},on:{input:function(t){return e.$v.editedUser.first_name.$touch()},keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.save(t)}},model:{value:e.editedUser.first_name,callback:function(t){e.$set(e.editedUser,"first_name",t)},expression:"editedUser.first_name"}}),a("v-text-field",{attrs:{"error-messages":e.lastNameErrors,label:"Last Name",required:"",disabled:e.loadingStatus},on:{input:function(t){return e.$v.editedUser.last_name.$touch()},keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.save(t)}},model:{value:e.editedUser.last_name,callback:function(t){e.$set(e.editedUser,"last_name",t)},expression:"editedUser.last_name"}}),a("v-text-field",{attrs:{"error-messages":e.emailErrors,label:"Email",required:"",disabled:e.loadingStatus},on:{input:function(t){return e.$v.editedUser.email.$touch()},keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.save(t)}},model:{value:e.editedUser.email,callback:function(t){e.$set(e.editedUser,"email",t)},expression:"editedUser.email"}}),a("v-text-field",{attrs:{"append-icon":e.showPass?"mdi-eye":"mdi-eye-off",label:"Password",type:e.showPass?"text":"password",required:"",disabled:e.loadingStatus},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.save(t)},"click:append":function(t){e.showPass=!e.showPass}},model:{value:e.editedUser.password,callback:function(t){e.$set(e.editedUser,"password",t)},expression:"editedUser.password"}}),a("v-autocomplete",{attrs:{"search-input":e.editedUser.branch,"error-messages":e.branchErrors,items:e.branches,"item-text":"name","item-value":"id",label:"Select Branch",filled:""},model:{value:e.editedUser.branch,callback:function(t){e.$set(e.editedUser,"branch",t)},expression:"editedUser.branch"}}),a("v-autocomplete",{attrs:{required:"",items:e.roles,"item-text":"name","item-value":"id",multiple:"",chips:"","small-chips":"",label:"Select Roles",filled:""},scopedSlots:e._u([{key:"selection",fn:function(t){var i=t.item,r=t.index;return[0===r?a("v-chip",{attrs:{small:""}},[a("span",[e._v(e._s(i.name))])]):e._e(),1===r?a("span",{staticClass:"grey--text caption"},[e._v("(+"+e._s(e.editedUser.roles.length-1)+" others)")]):e._e()]}}]),model:{value:e.editedUser.roles,callback:function(t){e.$set(e.editedUser,"roles",t)},expression:"editedUser.roles"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:e.close}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"blue",text:"",loading:e.loadingStatus},on:{click:e.save}},[e._v("Save")])],1)],1)],1)],1)]},proxy:!0},{key:"expanded-item",fn:function(t){var i=t.item;return[a("td",{staticClass:"text-xs-center",attrs:{colspan:e.headers.length}},[a("v-list-item",{attrs:{"two-line":""}},[a("v-list-item-content",[a("v-list-item-title",[e._v(" "+e._s(i.first_name.toUpperCase())+" "+e._s(i.last_name.toUpperCase())+" ")]),a("v-list-item-title",[e._v("Branch")]),a("v-list-item-subtitle",[e._v(" "+e._s(i.branch?i.branch.name:"None")+" ")])],1)],1)],1)]}},{key:"header.data-table-select",fn:function(t){var i=t.on,r=t.props;return[a("v-simple-checkbox",e._g(e._b({attrs:{disabled:e.users.length===e.disabledCount}},"v-simple-checkbox",r,!1),i))]}},{key:"item.data-table-select",fn:function(e){var t=e.item,i=e.isSelected,r=e.select;return[a("v-simple-checkbox",{attrs:{value:i,readonly:"alexela8882@gmail.com"==t.email,disabled:"alexela8882@gmail.com"==t.email},on:{input:function(e){return r(e)}}})]}},{key:"item.roles",fn:function(t){var i=t.item;return[i.roles.length>0?a("span",{staticStyle:{cursor:"pointer"},on:{click:function(t){return e.popRole(i)}}},[e._l(i.roles,(function(t,i){return a("span",{key:t.id},[0===i?a("v-chip",{attrs:{small:"",color:"primary darken-2"}},[e._v(" "+e._s(t.name)+" ")]):e._e()],1)})),i.roles.length-1>0?a("span",[e._v(" (+"+e._s(i.roles.length-1)+" other"+e._s(i.roles.length-1!=1?"s":"")+") ")]):e._e()],2):e._e(),i.roles.length<=0?a("v-chip",{attrs:{small:"",color:"secondary"}},[e._v(" None ")]):e._e()]}},{key:"item.action",fn:function(t){var i=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:"",title:"Edit"},on:{click:function(t){return e.editUser(i,1)}}},[e._v(" mdi-pencil ")]),a("v-icon",{attrs:{small:"",title:"Duplicate"},on:{click:function(t){return e.editUser(i,2)}}},[e._v(" mdi-content-duplicate ")])]}}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1),a("RolesDialog")],1)},rt=[],nt=(a("4160"),a("d81d"),a("159b"),a("1dce")),ot=a("b5ae"),st=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",{attrs:{row:"","justify-center":""}},[a("v-dialog",{attrs:{persistent:"",scrollable:"",value:e.dialog,"max-width":"500"}},[a("v-card",[a("v-card-title",[a("div",[a("div",{staticClass:"headline"},[e._v(" "+e._s(e.userItem.first_name)+" "+e._s(e.userItem.last_name)+" ")]),a("span",{staticClass:"grey--text"},[e._v("Roles")])])]),a("v-card-text",[a("v-expansion-panels",e._l(e.userItem.roles,(function(t,i){return a("v-expansion-panel",{key:i},[a("v-expansion-panel-header",[e._v(e._s(t.name))]),a("v-expansion-panel-content",[a("v-list",e._l(t.permissions,(function(t){return a("v-chip",{key:t.id,staticClass:"ma-1",attrs:{color:"primary darken-2",small:""}},[e._v(e._s(t.name))])})),1)],1)],1)})),1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(t){return e.closeDialog(e.userItem)}}},[e._v(" CLOSE ")])],1)],1)],1)],1)},ct=[],lt={computed:Object(c["a"])({},Object(l["b"])({dialog:"user/openRoleDialog",userItem:"user/getUserItem"})),methods:{closeDialog:function(e){var t={dialog:!1,item:e};this.$store.commit("user/SET_USER_ITEM",t)}}},dt=lt,ut=a("cd55"),mt=a("49e2"),pt=a("c865"),vt=a("0393"),ht=Object(m["a"])(dt,st,ct,!1,null,null,null),ft=ht.exports;v()(ht,{VBtn:O["a"],VCard:N["a"],VCardActions:$["a"],VCardText:$["c"],VCardTitle:$["d"],VChip:w["a"],VDialog:V["a"],VExpansionPanel:ut["a"],VExpansionPanelContent:mt["a"],VExpansionPanelHeader:pt["a"],VExpansionPanels:vt["a"],VLayout:Ve["a"],VList:_["a"],VSpacer:F["a"]});var _t=a("f2d9"),gt={components:{RolesDialog:ft,JsonExcel:_t["a"]},mixins:[nt["validationMixin"]],data:function(){return{expand:!1,showPass:!1,search:"",disabledCount:0,selected:[],headers:[{text:"Name",align:"left",value:"full_name"},{text:"Email",align:"left",value:"email"},{text:"Roles",align:"left",value:"roles"},{text:"Actions",align:"center",value:"action",sortable:!1}],editedIndex:-1,editedUser:{first_name:"",last_name:"",email:"",password:"",branch:"",roles:[{id:"",name:""}]},defaultUser:{first_name:"",last_name:"",email:"",password:"",branch:"",roles:[]},itemsPerPage:5,current_items:0}},validations:{editedUser:{first_name:{required:ot["required"]},last_name:{required:ot["required"]},branch:{required:ot["required"]},email:{required:ot["required"],email:ot["email"],isUnique:function(e){if(""===e)return!0;var t=this.users.filter((function(t){return t.email==e})).length;return!(t>0)}}}},computed:Object(c["a"])(Object(c["a"])({},Object(l["b"])({users:"user/getUsers",branches:"branch/getBranches",roles:"role/getRoles",userErrors:"user/getUserErrors"})),{},{dialog:function(){return this.$store.state.dialog},loadingStatus:function(){return this.$store.state.loading},loggedUser:function(){return this.$store.state.currentUser},formTitle:function(){return-1===this.editedIndex?"New User":"Edit User"},firstNameErrors:function(){var e=[];if(!this.$v.editedUser.first_name.$dirty)return e;var t=null;return t=this.userErrors["first_name|required"]?this.userErrors["first_name|required"]:"The first name field is required.",!this.$v.editedUser.first_name.required&&e.push(t),e},lastNameErrors:function(){var e=[];if(!this.$v.editedUser.last_name.$dirty)return e;var t=null;return t=this.userErrors["last_name|required"]?this.userErrors["last_name|required"]:"The last name field is required.",!this.$v.editedUser.last_name.required&&e.push(t),e},emailErrors:function(){var e=[];if(!this.$v.editedUser.email.$dirty)return e;var t=null;t=this.userErrors["email|required"]?this.userErrors["email|required"]:"The email field is required.";var a=null;return a=this.userErrors["email|unique"]?this.userErrors["email|unique"]:"The email has already been taken.",!this.$v.editedUser.email.email&&e.push("Must be valid e-mail"),!this.$v.editedUser.email.required&&e.push(t),!this.$v.editedUser.email.isUnique&&e.push(a),e},branchErrors:function(){var e=[];if(!this.$v.editedUser.branch.$dirty)return e;var t=null;return t=this.userErrors["branch|required"]?this.userErrors["branch|required"]:"Please select branch.",!this.$v.editedUser.branch.required&&e.push(t),e}}),watch:{users:function(){this.$v.$reset()}},created:function(){this.$store.dispatch("user/fetchUsers"),this.$store.dispatch("branch/fetchBranches"),this.$store.dispatch("role/fetchRoles")},methods:{refreshData:function(){this.$store.dispatch("user/fetchUsers"),this.$store.dispatch("branch/fetchBranches"),this.$store.dispatch("role/fetchRoles")},openDialog:function(){this.editedIndex=-1,this.editedUser=Object.assign({},this.defaultUser),this.$store.dispatch("triggerDialog",!0)},editUser:function(e,t){this.editedIndex=2==t?-1:this.users.indexOf(e);var a=e.roles.map((function(e){return e.id}));this.editedUser=Object.assign({},{id:e.id,first_name:e.first_name,last_name:e.last_name,email:e.email,branch:e.branch.id,roles:a}),this.$store.dispatch("triggerDialog",!0)},deleteUsers:function(){var e=this,t=this.$data.selected,a=t.map((function(e){return e.id})),i=t.map((function(e){var t="<br />"+e.first_name+" "+e.last_name;return t}));this.$dialog.warning({text:"<h3><em>You are about to delete an item(s):</em></h3>"+i,title:"Confirm Delete",actions:{false:"Cancel",true:{text:"Confirm",color:"warning"}}}).then((function(t){t&&(e.$store.dispatch("user/deleteUsers",a),e.$data.selected=[])}))},close:function(){this.editedIndex=-1,this.$v.$reset(),this.$store.dispatch("triggerDialog",!1)},save:function(){this.$v.$touch(),this.editedIndex>-1?this.$store.dispatch("user/updateUser",this.editedUser):this.$store.dispatch("user/storeUser",this.editedUser)},popRole:function(e){var t={dialog:!0,item:e};this.$store.commit("user/SET_USER_ITEM",t)},selectAllToggle:function(e){if(this.selected.length!=this.current_items-this.disabledCount){this.selected=[];var t=this;e.items.forEach((function(e){"alexela8882@gmail.com"!=e.email&&t.selected.push(e)})),t.disabledCount=this.current_items-this.selected.length}else this.selected=[]},currentItems:function(e){this.current_items=e.length}}},bt=gt,xt=a("c6a6"),Tt=a("9e88"),yt=Object(m["a"])(bt,it,rt,!1,null,null,null),St=yt.exports;v()(yt,{VAutocomplete:xt["a"],VBtn:O["a"],VCard:N["a"],VCardActions:$["a"],VCardText:$["c"],VCardTitle:$["d"],VChip:w["a"],VCol:R["a"],VContainer:we["a"],VDataTable:P["a"],VDialog:V["a"],VDivider:h["a"],VIcon:f["a"],VListItem:b["a"],VListItemContent:T["b"],VListItemSubtitle:T["c"],VListItemTitle:T["d"],VRow:B["a"],VSimpleCheckbox:Tt["a"],VSpacer:F["a"],VTextField:qe["a"],VToolbar:W["a"],VToolbarTitle:J["b"],VTooltip:Q["a"]});var Dt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.employments,"items-per-page":e.itemsPerPage,search:e.search,loading:e.loadingStatus,"show-expand":"","single-expand":""},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("User Employments")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""}},i),[a("v-icon",[e._v("print")])],1)]}}])},[a("span",[e._v("Print")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("json-excel",{attrs:{data:e.employments}},[a("v-btn",e._g({attrs:{text:"",icon:""}},i),[a("v-icon",[e._v("mdi-file-export")])],1)],1)]}}])},[a("span",[e._v("Export")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.refreshData}},i),[a("v-icon",[e._v("mdi-refresh")])],1)]}}])},[a("span",[e._v("Refresh")])]),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-dialog",{attrs:{scrollable:"",persistent:"",value:e.dialog,"max-width":"500px"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",[a("v-form",{ref:"form"},[a("v-text-field",{attrs:{label:"Employee",disabled:""},model:{value:e.editedEmployment.user,callback:function(t){e.$set(e.editedEmployment,"user",t)},expression:"editedEmployment.user"}}),a("v-text-field",{attrs:{"error-messages":e.sssErrors,label:"SSS",required:"",disabled:e.loadingStatus},on:{input:function(t){return e.$v.editedEmployment.sss.$touch()}},model:{value:e.editedEmployment.sss,callback:function(t){e.$set(e.editedEmployment,"sss",t)},expression:"editedEmployment.sss"}}),a("v-autocomplete",{attrs:{"search-input":e.editedEmployment.branch,items:e.branches,"item-text":"name","item-value":"id",label:"Select Branch",filled:""},model:{value:e.editedEmployment.branch,callback:function(t){e.$set(e.editedEmployment,"branch",t)},expression:"editedEmployment.branch"}}),a("v-autocomplete",{attrs:{"search-input":e.editedEmployment.position,"error-messages":e.positionErrors,items:e.positions,"item-text":"name","item-value":"id",label:"Select Position",filled:""},model:{value:e.editedEmployment.position,callback:function(t){e.$set(e.editedEmployment,"position",t)},expression:"editedEmployment.position"}}),a("v-autocomplete",{attrs:{"search-input":e.editedEmployment.department,"error-messages":e.departmentErrors,items:e.departments,"item-text":"name","item-value":"id",label:"Select Department",filled:""},model:{value:e.editedEmployment.department,callback:function(t){e.$set(e.editedEmployment,"department",t)},expression:"editedEmployment.department"}}),a("v-autocomplete",{attrs:{"search-input":e.editedEmployment.payroll,"error-messages":e.payrollErrors,items:e.payrollOptions,"item-text":"name","item-value":"id",label:"Payroll",filled:""},model:{value:e.editedEmployment.payroll,callback:function(t){e.$set(e.editedEmployment,"payroll",t)},expression:"editedEmployment.payroll"}}),1===e.editedEmployment.branch?a("v-dialog",{ref:"timeFromDialog",attrs:{"return-value":e.editedEmployment.time_from,persistent:"",width:"290px"},on:{"update:returnValue":function(t){return e.$set(e.editedEmployment,"time_from",t)},"update:return-value":function(t){return e.$set(e.editedEmployment,"time_from",t)}},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-text-field",e._g({attrs:{label:"Time From","prepend-icon":"access_time",readonly:""},model:{value:e.editedEmployment.time_from,callback:function(t){e.$set(e.editedEmployment,"time_from",t)},expression:"editedEmployment.time_from"}},i))]}}],null,!1,762873159),model:{value:e.timeFromModal,callback:function(t){e.timeFromModal=t},expression:"timeFromModal"}},[e.timeFromModal?a("v-time-picker",{attrs:{"header-color":"primary",color:"primary"},model:{value:e.editedEmployment.time_from,callback:function(t){e.$set(e.editedEmployment,"time_from",t)},expression:"editedEmployment.time_from"}},[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(t){e.timeFromModal=!1}}},[e._v("Cancel")]),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.timeFromDialog.save(e.editedEmployment.time_from)}}},[e._v("OK")])],1):e._e()],1):e._e(),1===e.editedEmployment.branch?a("v-dialog",{ref:"timeToDialog",attrs:{"return-value":e.editedEmployment.time_to,persistent:"",width:"290px"},on:{"update:returnValue":function(t){return e.$set(e.editedEmployment,"time_to",t)},"update:return-value":function(t){return e.$set(e.editedEmployment,"time_to",t)}},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-text-field",e._g({attrs:{disabled:!e.editedEmployment.time_from,label:"Time To","prepend-icon":"access_time",readonly:""},model:{value:e.editedEmployment.time_to,callback:function(t){e.$set(e.editedEmployment,"time_to",t)},expression:"editedEmployment.time_to"}},i))]}}],null,!1,167216927),model:{value:e.timeToModal,callback:function(t){e.timeToModal=t},expression:"timeToModal"}},[e.timeToModal?a("v-time-picker",{attrs:{"header-color":"primary",color:"primary",min:e.editedEmployment.time_from},model:{value:e.editedEmployment.time_to,callback:function(t){e.$set(e.editedEmployment,"time_to",t)},expression:"editedEmployment.time_to"}},[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(t){e.timeToModal=!1}}},[e._v("Cancel")]),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.timeToDialog.save(e.editedEmployment.time_to)}}},[e._v("OK")])],1):e._e()],1):e._e()],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:e.close}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"blue",text:"",loading:e.loadingStatus},on:{click:e.save}},[e._v("Save")])],1)],1)],1)],1)]},proxy:!0},{key:"expanded-item",fn:function(t){var i=t.item;return[a("td",{staticClass:"text-xs-center",attrs:{colspan:e.headers.length}},[a("v-list-item",{attrs:{"two-line":""}},[a("v-list-item-content",[a("v-list-item-title",[e._v(e._s(i.user.full_name.toUpperCase()))]),a("v-list-item-title",[e._v("Payroll")]),a("v-list-item-subtitle",[e._v(" "+e._s(null!=i.payroll?1==i.payroll?"ATM":"Cash":"None")+" ")]),a("v-list-item-title",[e._v("Department")]),a("v-list-item-subtitle",[e._v(" "+e._s(i.department?i.department.name:"None")+" ")]),a("v-list-item-title",[e._v("Position")]),a("v-list-item-subtitle",[e._v(" "+e._s(i.position?i.position.name:"None")+" ")]),a("v-list-item-title",[e._v("Schedule")]),a("v-list-item-subtitle",[e._v(" "+e._s(i.schedule?i.schedule.name:"None")+" ")])],1)],1)],1)]}},{key:"item.action",fn:function(t){var i=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:"",title:"Edit"},on:{click:function(t){return e.editEmployment(i)}}},[e._v(" mdi-pencil ")])]}}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1)],1)},kt=[],Et={components:{JsonExcel:_t["a"]},mixins:[nt["validationMixin"]],data:function(){return{itemsPerPage:5,timeFromModal:!1,timeToModal:!1,payrollOptions:[{name:"Cash",id:0},{name:"ATM",id:1}],expand:!1,search:"",selected:[],headers:[{text:"SSS",align:"left",value:"sss"},{text:"Name",align:"left",value:"user.full_name"},{text:"Branch",align:"left",value:"branch.name"},{text:"Position",align:"left",value:"position.name"},{text:"Actions",align:"center",value:"action",sortable:!1}],editedEmployment:{sss:"",payroll:"",branch:"",position:"",department:"",time_from:"",time_to:""}}},validations:{editedEmployment:{sss:{required:ot["required"],isUnique:function(e){if(""===e)return!0;var t=this.employments.filter((function(t){return t.sss==e})).length;return!(t>0)}},payroll:{required:ot["required"]},branch:{required:ot["required"]},position:{required:ot["required"]},department:{required:ot["required"]}}},computed:Object(c["a"])(Object(c["a"])({},Object(l["b"])({employments:"employment/getEmployments",employmentErrors:"employment/getEmploymentErrors",branches:"branch/getBranches",positions:"position/getPositions",departments:"department/getDepartments"})),{},{dialog:function(){return this.$store.state.dialog},loadingStatus:function(){return this.$store.state.loading},formTitle:function(){return"Edit User Employment"},sssErrors:function(){var e=[];if(!this.$v.editedEmployment.sss.$dirty)return e;var t=null;t=this.employmentErrors["sss|required"]?this.employmentErrors["sss|required"]:"The first name field is required.";var a=null;return a=this.employmentErrors["sss|unique"]?this.employmentErrors["sss|unique"]:"The sss has already been taken.",!this.$v.editedEmployment.sss.required&&e.push(t),!this.$v.editedEmployment.sss.isUnique&&e.push(a),e},payrollErrors:function(){var e=[];if(!this.$v.editedEmployment.payroll.$dirty)return e;var t=null;return t=this.employmentErrors["payroll|required"]?this.employmentErrors["payroll|required"]:"Please select payroll.",!this.$v.editedEmployment.payroll.required&&e.push(t),e},positionErrors:function(){var e=[];if(!this.$v.editedEmployment.position.$dirty)return e;var t=null;return t=this.employmentErrors["position|required"]?this.employmentErrors["position|required"]:"Please select position.",!this.$v.editedEmployment.position.required&&e.push(t),e},departmentErrors:function(){var e=[];if(!this.$v.editedEmployment.department.$dirty)return e;var t=null;return t=this.employmentErrors["department|required"]?this.employmentErrors["department|required"]:"Please select department.",!this.$v.editedEmployment.department.required&&e.push(t),e}}),watch:{employments:function(){this.$v.$reset()}},created:function(){this.$store.dispatch("employment/fetchEmployments"),this.$store.dispatch("branch/fetchBranches"),this.$store.dispatch("position/fetchPositions"),this.$store.dispatch("department/fetchDepartments")},methods:{refreshData:function(){this.$store.dispatch("employment/fetchEmployments"),this.$store.dispatch("branch/fetchBranches"),this.$store.dispatch("position/fetchPositions"),this.$store.dispatch("department/fetchDepartments")},editEmployment:function(e){this.editedEmployment=Object.assign({},{id:e.id,user:e.user.full_name,sss:e.sss,payroll:e.payroll,branch:e.branch.id,position:e.position?e.position.id:null,department:e.department?e.department.id:null,time_from:e.time_from,time_to:e.time_to}),console.log(this.editedEmployment),this.$store.dispatch("triggerDialog",!0)},close:function(){this.$v.$reset(),this.editedEmployment={},this.$store.dispatch("triggerDialog",!1)},save:function(){this.$v.$touch(),this.$store.dispatch("employment/updateEmployment",this.editedEmployment)}}},At=Et,It=a("c964"),Ct=Object(m["a"])(At,Dt,kt,!1,null,null,null),Ot=Ct.exports;v()(Ct,{VAutocomplete:xt["a"],VBtn:O["a"],VCard:N["a"],VCardActions:$["a"],VCardText:$["c"],VCardTitle:$["d"],VCol:R["a"],VContainer:we["a"],VDataTable:P["a"],VDialog:V["a"],VDivider:h["a"],VForm:Pe["a"],VIcon:f["a"],VListItem:b["a"],VListItemContent:T["b"],VListItemSubtitle:T["c"],VListItemTitle:T["d"],VRow:B["a"],VSpacer:F["a"],VTextField:qe["a"],VTimePicker:It["a"],VToolbar:W["a"],VToolbarTitle:J["b"],VTooltip:Q["a"]});var Nt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.branches,search:e.search,loading:e.loadingStatus,"items-per-page":e.itemsPerPage,"show-select":"","show-expand":"","single-expand":""},on:{"toggle-select-all":e.selectAllToggle,"current-items":e.currentItems},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Branches")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.openDialog}},i),[a("v-icon",[e._v("mdi-plus-circle")])],1)]}}])},[a("span",[e._v("Add")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{disabled:!e.selected.length>0,text:"",icon:""},on:{click:e.deleteBranches}},i),[a("v-icon",[e._v("delete")])],1)]}}])},[a("span",[e._v("Delete")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""}},i),[a("v-icon",[e._v("print")])],1)]}}])},[a("span",[e._v("Print")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("json-excel",{attrs:{data:e.branches}},[a("v-btn",e._g({attrs:{text:"",icon:""}},i),[a("v-icon",[e._v("mdi-file-export")])],1)],1)]}}])},[a("span",[e._v("Export")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.refreshData}},i),[a("v-icon",[e._v("mdi-refresh")])],1)]}}])},[a("span",[e._v("Refresh")])]),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-dialog",{attrs:{persistent:"",value:e.dialog,"max-width":"500px",scrollable:""},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.save(t)}}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{md12:""}},[a("v-text-field",{attrs:{autofocus:"","error-messages":e.machineNumErrors,label:"Machine Number",required:"",disabled:e.loadingStatus},on:{input:function(t){return e.$v.editedBranch.machine_number.$touch()}},model:{value:e.editedBranch.machine_number,callback:function(t){e.$set(e.editedBranch,"machine_number",t)},expression:"editedBranch.machine_number"}})],1),a("v-flex",{attrs:{md12:""}},[a("v-text-field",{attrs:{"error-messages":e.nameErrors,label:"Name",required:"",disabled:e.loadingStatus},on:{input:function(t){return e.$v.editedBranch.name.$touch()}},model:{value:e.editedBranch.name,callback:function(t){e.$set(e.editedBranch,"name",t)},expression:"editedBranch.name"}})],1),a("v-flex",{attrs:{md12:""}},[a("v-autocomplete",{attrs:{clearable:"","search-input":e.editedBranch.schedule,required:"",items:e.schedules,"item-text":"time","item-value":"id",label:"Select Schedule",filled:""},model:{value:e.editedBranch.schedule,callback:function(t){e.$set(e.editedBranch,"schedule",t)},expression:"editedBranch.schedule"}})],1),a("v-flex",{attrs:{md12:""}},[a("v-autocomplete",{attrs:{"search-input":e.editedBranch.region,"error-messages":e.regionErrors,required:"",items:e.regions,"item-text":"name","item-value":"id",label:"Select Region",filled:""},on:{input:function(t){return e.$v.editedBranch.region.$touch()}},model:{value:e.editedBranch.region,callback:function(t){e.$set(e.editedBranch,"region",t)},expression:"editedBranch.region"}})],1),a("v-flex",{attrs:{md12:""}},[a("v-text-field",{attrs:{"error-messages":e.whsCodeErrors,label:"Whs Code",required:"",disabled:e.loadingStatus},on:{input:function(t){return e.$v.editedBranch.whscode.$touch()}},model:{value:e.editedBranch.whscode,callback:function(t){e.$set(e.editedBranch,"whscode",t)},expression:"editedBranch.whscode"}})],1),a("v-flex",{attrs:{md12:""}},[a("v-text-field",{attrs:{label:"BM/OIC",required:"",disabled:e.loadingStatus},model:{value:e.editedBranch.bm_oic,callback:function(t){e.$set(e.editedBranch,"bm_oic",t)},expression:"editedBranch.bm_oic"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:e.close}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"blue",text:"",loading:e.loadingStatus},on:{click:e.save}},[e._v("Save")])],1)],1)],1)],1)]},proxy:!0},{key:"expanded-item",fn:function(t){var i=t.item;return[a("td",{staticClass:"text-xs-center",attrs:{colspan:e.headers.length}},[a("v-list-item",{attrs:{"two-line":""}},[a("v-list-item-content",[a("v-list-item-title",[e._v(e._s(i.name.toUpperCase()))]),a("v-list-item-title",[e._v("Schedule")]),a("v-list-item-subtitle",[e._v(" "+e._s(i.schedule?i.schedule.time:"None")+" ")]),a("v-list-item-title",[e._v("Whs Code")]),a("v-list-item-subtitle",[e._v(" "+e._s(i.whscode?i.whscode:"None")+" ")]),a("v-list-item-title",[e._v("BM/OIC")]),a("v-list-item-subtitle",[e._v(" "+e._s(i.bm_oic?i.bm_oic:"None")+" ")])],1)],1)],1)]}},{key:"header.data-table-select",fn:function(t){var i=t.on,r=t.props;return[a("v-simple-checkbox",e._g(e._b({attrs:{disabled:e.branches.length===e.disabledCount}},"v-simple-checkbox",r,!1),i))]}},{key:"item.data-table-select",fn:function(e){var t=e.item,i=e.isSelected,r=e.select;return[a("v-simple-checkbox",{attrs:{value:i,readonly:t.users.length>0,disabled:t.users.length>0},on:{input:function(e){return r(e)}}})]}},{key:"item.action",fn:function(t){var i=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:"",title:"Edit"},on:{click:function(t){return e.editBranch(i,1)}}},[e._v(" mdi-pencil ")]),a("v-icon",{attrs:{small:"",title:"Duplicate"},on:{click:function(t){return e.editBranch(i,2)}}},[e._v(" mdi-content-duplicate ")])]}}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1)],1)},$t=[],wt={components:{JsonExcel:_t["a"]},mixins:[nt["validationMixin"]],data:function(){return{expand:!1,search:"",selected:[],disabledCount:0,headers:[{text:"Name",align:"left",value:"name"},{text:"Machine Number",align:"left",value:"machine_number"},{text:"Region",align:"left",value:"region.name"},{text:"Actions",align:"center",value:"action",sortable:!1}],editedIndex:-1,editedBranch:{name:"",machine_number:"",whscode:"",bm_oic:"",schedule:null,region:null},defaultBranch:{name:"",machine_number:"",whscode:"",bm_oic:"",schedule:null,region:null},itemsPerPage:5,current_items:0}},validations:{editedBranch:{name:{required:ot["required"],isUnique:function(e){if(""===e)return!0;var t=this.branches.filter((function(t){return t.name==e})).length;return 1!==t}},region:{required:ot["required"]},machine_number:{required:ot["required"],isUnique:function(e){if(""===e)return!0;var t=this.branches.filter((function(t){return t.machine_number==e})).length;return 1!==t}},whscode:{required:ot["required"],isUnique:function(e){if(""===e)return!0;var t=this.branches.filter((function(t){return t.whscode==e})).length;return 1!==t}}}},computed:Object(c["a"])(Object(c["a"])({},Object(l["b"])({branches:"branch/getBranches",branchErrors:"branch/getBranchErrors",regions:"region/getRegions",schedules:"bsched/getSchedules"})),{},{dialog:function(){return this.$store.state.dialog},loadingStatus:function(){return this.$store.state.loading},formTitle:function(){return-1===this.editedIndex?"New Branch":"Edit Branch"},nameErrors:function(){var e=[];if(!this.$v.editedBranch.name.$dirty)return e;var t=null;t=this.branchErrors["name|required"]?this.branchErrors["name|required"]:"The name field is required.";var a=null;return a=this.branchErrors["name|unique"]?this.branchErrors["name|unique"]:"The name already taken.",!this.$v.editedBranch.name.required&&e.push(t),!this.$v.editedBranch.name.isUnique&&e.push(a),e},regionErrors:function(){var e=[];if(!this.$v.editedBranch.region.$dirty)return e;var t=null;return t=this.branchErrors["region|required"]?this.branchErrors["region|required"]:"The region field is required.",!this.$v.editedBranch.region.required&&e.push(t),e},machineNumErrors:function(){var e=[];if(!this.$v.editedBranch.machine_number.$dirty)return e;var t=null;t=this.branchErrors["machine_number|required"]?this.branchErrors["machine_number|required"]:"The machine number field is required.";var a=null;return a=this.branchErrors["machine_number|unique"]?this.branchErrors["machine_number|unique"]:"The machine number has already been taken.",!this.$v.editedBranch.machine_number.required&&e.push(t),!this.$v.editedBranch.machine_number.isUnique&&e.push(a),e},whsCodeErrors:function(){var e=[];if(!this.$v.editedBranch.whscode.$dirty)return e;var t=null;t=this.branchErrors["whscode|required"]?this.branchErrors["whscode|required"]:"The whscode field is required.";var a=null;return a=this.branchErrors["whscode|unique"]?this.branchErrors["whscode|unique"]:"The whscode has already been taken.",!this.$v.editedBranch.whscode.required&&e.push(t),!this.$v.editedBranch.whscode.isUnique&&e.push(a),e}}),watch:{branches:function(){this.$v.$reset()}},created:function(){this.$store.dispatch("branch/fetchBranches"),this.$store.dispatch("region/fetchRegions"),this.$store.dispatch("bsched/fetchSchedules")},methods:{refreshData:function(){this.$store.dispatch("branch/fetchBranches"),this.$store.dispatch("region/fetchRegions"),this.$store.dispatch("bsched/fetchSchedules")},openDialog:function(){this.editedIndex=-1,this.editedBranch=Object.assign({},this.defaultBranch),this.$store.dispatch("triggerDialog",!0)},editBranch:function(e,t){this.editedIndex=2==t?-1:this.branches.indexOf(e),this.editedBranch=Object.assign({},{id:e.id,name:e.name,schedule:e.schedule?e.schedule.id:null,region:e.region.id,machine_number:e.machine_number,whscode:e.whscode,bm_oic:e.bm_oic}),this.$store.dispatch("triggerDialog",!0)},deleteBranches:function(){var e=this,t=this.$data.selected,a=t.map((function(e){return e.id})),i=t.map((function(e){var t="<br />"+e.name;return t}));this.$dialog.warning({text:"<h3><em>You are about to delete an item(s):</em></h3>"+i,title:"Confirm Delete",actions:{false:"Cancel",true:{text:"Confirm",color:"warning"}}}).then((function(t){t&&(e.$store.dispatch("branch/deleteBranches",a),e.$data.selected=[])}))},close:function(){this.editedIndex=-1,this.editedBranch={},this.$v.$reset(),this.$store.dispatch("triggerDialog",!1)},save:function(){this.$v.$touch(),this.editedIndex>-1?this.$store.dispatch("branch/updateBranch",this.editedBranch):this.$store.dispatch("branch/storeBranch",this.editedBranch)},selectAllToggle:function(e){if(this.selected.length!=this.current_items-this.disabledCount){this.selected=[];var t=this;e.items.forEach((function(e){!e.users.length>0&&t.selected.push(e)})),t.disabledCount=this.current_items-this.selected.length}else this.selected=[]},currentItems:function(e){this.current_items=e.length}}},Rt=wt,Pt=Object(m["a"])(Rt,Nt,$t,!1,null,null,null),Vt=Pt.exports;v()(Pt,{VAutocomplete:xt["a"],VBtn:O["a"],VCard:N["a"],VCardActions:$["a"],VCardText:$["c"],VCardTitle:$["d"],VContainer:we["a"],VDataTable:P["a"],VDialog:V["a"],VDivider:h["a"],VFlex:Re["a"],VIcon:f["a"],VLayout:Ve["a"],VListItem:b["a"],VListItemContent:T["b"],VListItemSubtitle:T["c"],VListItemTitle:T["d"],VSimpleCheckbox:Tt["a"],VSpacer:F["a"],VTextField:qe["a"],VToolbar:W["a"],VToolbarTitle:J["b"],VTooltip:Q["a"]});var qt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.schedules,"items-per-page":e.itemsPerPage,search:e.search,loading:e.loadingStatus,"show-select":""},on:{"toggle-select-all":e.selectAllToggle,"current-items":e.currentItems},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Schedules")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.openDialog}},i),[a("v-icon",[e._v("mdi-plus-circle")])],1)]}}])},[a("span",[e._v("Add")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{disabled:!e.selected.length>0,text:"",icon:""},on:{click:e.deleteSchedules}},i),[a("v-icon",[e._v("delete")])],1)]}}])},[a("span",[e._v("Delete")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""}},i),[a("v-icon",[e._v("print")])],1)]}}])},[a("span",[e._v("Print")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("json-excel",{attrs:{data:e.schedules}},[a("v-btn",e._g({attrs:{text:"",icon:""}},i),[a("v-icon",[e._v("mdi-file-export")])],1)],1)]}}])},[a("span",[e._v("Export")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.refreshData}},i),[a("v-icon",[e._v("mdi-refresh")])],1)]}}])},[a("span",[e._v("Refresh")])]),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-dialog",{attrs:{persistent:"",value:e.dialog,"max-width":"500px"},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.close(t)}}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-flex",{attrs:{md12:""}},[a("v-dialog",{ref:"timeFromDialog",attrs:{"return-value":e.editedSchedule.time_from,persistent:"",lazy:"","full-width":"",width:"290px"},on:{"update:returnValue":function(t){return e.$set(e.editedSchedule,"time_from",t)},"update:return-value":function(t){return e.$set(e.editedSchedule,"time_from",t)}},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-text-field",e._g({attrs:{"error-messages":e.timeFromErrors,label:"Time From","prepend-icon":"access_time",readonly:""},model:{value:e.editedSchedule.time_from,callback:function(t){e.$set(e.editedSchedule,"time_from",t)},expression:"editedSchedule.time_from"}},i))]}}]),model:{value:e.timeFromModal,callback:function(t){e.timeFromModal=t},expression:"timeFromModal"}},[e.timeFromModal?a("v-time-picker",{attrs:{"full-width":""},model:{value:e.editedSchedule.time_from,callback:function(t){e.$set(e.editedSchedule,"time_from",t)},expression:"editedSchedule.time_from"}},[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(t){e.timeFromModal=!1}}},[e._v("Cancel")]),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.timeFromDialog.save(e.editedSchedule.time_from)}}},[e._v("OK")])],1):e._e()],1)],1),a("v-flex",{attrs:{md12:""}},[a("v-dialog",{ref:"timeToDialog",attrs:{"return-value":e.editedSchedule.time_to,persistent:"",lazy:"","full-width":"",width:"290px"},on:{"update:returnValue":function(t){return e.$set(e.editedSchedule,"time_to",t)},"update:return-value":function(t){return e.$set(e.editedSchedule,"time_to",t)}},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-text-field",e._g({attrs:{disabled:!e.editedSchedule.time_from,"error-messages":e.timeToErrors,label:"Time To","prepend-icon":"access_time",readonly:""},model:{value:e.editedSchedule.time_to,callback:function(t){e.$set(e.editedSchedule,"time_to",t)},expression:"editedSchedule.time_to"}},i))]}}]),model:{value:e.timeToModal,callback:function(t){e.timeToModal=t},expression:"timeToModal"}},[e.timeToModal?a("v-time-picker",{attrs:{"full-width":"",min:e.editedSchedule.time_from},model:{value:e.editedSchedule.time_to,callback:function(t){e.$set(e.editedSchedule,"time_to",t)},expression:"editedSchedule.time_to"}},[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(t){e.timeToModal=!1}}},[e._v("Cancel")]),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.timeToDialog.save(e.editedSchedule.time_to)}}},[e._v("OK")])],1):e._e()],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:e.close}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"blue",text:"",loading:e.loadingStatus},on:{click:e.save}},[e._v("Save")])],1)],1)],1)],1)]},proxy:!0},{key:"header.data-table-select",fn:function(t){var i=t.on,r=t.props;return[a("v-simple-checkbox",e._g(e._b({attrs:{disabled:e.schedules.length===e.disabledCount}},"v-simple-checkbox",r,!1),i))]}},{key:"item.data-table-select",fn:function(e){var t=e.item,i=e.isSelected,r=e.select;return[a("v-simple-checkbox",{attrs:{value:i,readonly:t.branches.length>0,disabled:t.branches.length>0},on:{input:function(e){return r(e)}}})]}},{key:"item.branches",fn:function(t){var i=t.item;return[i.branches.length>0?a("span",{staticStyle:{cursor:"pointer"},on:{click:function(t){return e.popBranch(i)}}},[e._l(i.branches,(function(t,i){return a("span",{key:t.id},[0===i?a("v-chip",{attrs:{small:"",color:"primary darken-2"}},[e._v(" "+e._s(t.name)+" ")]):e._e()],1)})),i.branches.length-1>0?a("span",[e._v(" (+"+e._s(i.branches.length-1)+" other"+e._s(i.branches.length-1!=1?"s":"")+") ")]):e._e()],2):e._e(),i.branches.length<=0?a("v-chip",{attrs:{small:"",color:"secondary"}},[e._v(" None ")]):e._e()]}},{key:"item.action",fn:function(t){var i=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:"",title:"Edit"},on:{click:function(t){return e.editSchedule(i,1)}}},[e._v(" mdi-pencil ")]),a("v-icon",{attrs:{small:"",title:"Duplicate"},on:{click:function(t){return e.editSchedule(i,2)}}},[e._v(" mdi-content-duplicate ")])]}}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1)],1)},Lt=[],Ut={components:{JsonExcel:_t["a"]},mixins:[nt["validationMixin"]],data:function(){return{timeFromModal:!1,timeToModal:!1,search:"",selected:[],headers:[{text:"Time",align:"left",value:"time"},{text:"Actions",align:"center",value:"action",sortable:!1}],editedIndex:-1,editedSchedule:{time_from:"",time_to:""},defaultSchedule:{time_from:"",time_to:""},itemsPerPage:5,current_items:0}},validations:{editedSchedule:{time_from:{required:ot["required"]},time_to:{required:ot["required"]}}},computed:Object(c["a"])(Object(c["a"])({},Object(l["b"])({schedules:"bsched/getSchedules",scheduleErrors:"bsched/getScheduleErrors"})),{},{dialog:function(){return this.$store.state.dialog},loadingStatus:function(){return this.$store.state.loading},formTitle:function(){return-1===this.editedIndex?"New Schedule":"Edit Schedule"},timeFromErrors:function(){var e=[];if(!this.$v.editedSchedule.time_from.$dirty)return e;var t=null;return t=this.scheduleErrors["time_from|required"]?this.scheduleErrors["time_from|required"]:"The time from field is required.",!this.$v.editedSchedule.time_from.required&&e.push(t),e},timeToErrors:function(){var e=[];if(!this.$v.editedSchedule.time_to.$dirty)return e;var t=null;return t=this.scheduleErrors["time_to|required"]?this.scheduleErrors["time_to|required"]:"The time to field is required.",!this.$v.editedSchedule.time_to.required&&e.push(t),e}}),watch:{schedules:function(){this.$v.$reset()}},created:function(){this.$store.dispatch("bsched/fetchSchedules")},methods:{refreshData:function(){this.$store.dispatch("bsched/fetchSchedules")},openDialog:function(){this.editedIndex=-1,this.editedSchedule=Object.assign({},this.defaultSchedule),this.$store.dispatch("triggerDialog",!0)},editSchedule:function(e,t){this.editedIndex=2==t?-1:this.schedules.indexOf(e),this.editedSchedule=Object.assign({},e),this.$store.dispatch("triggerDialog",!0)},deleteSchedules:function(){var e=this,t=this.$data.selected,a=t.map((function(e){return e.id})),i=t.map((function(e){var t=e.time_from+" - "+e.time_to,a="<br />"+t;return a}));this.$dialog.warning({text:"<h3><em>You are about to delete an item(s):</em></h3>"+i,title:"Confirm Delete",actions:{false:"Cancel",true:{text:"Confirm",color:"warning"}}}).then((function(t){t&&(e.$store.dispatch("bsched/deleteSchedules",a),e.$data.selected=[])}))},close:function(){this.editedIndex=-1,this.$v.$reset(),this.$store.dispatch("triggerDialog",!1)},save:function(){this.$v.$touch(),this.editedIndex>-1?this.$store.dispatch("bsched/updateSchedule",this.editedSchedule):this.$store.dispatch("bsched/storeSchedule",this.editedSchedule)},selectAllToggle:function(e){if(this.selected.length!=this.current_items-this.disabledCount){this.selected=[];var t=this;e.items.forEach((function(e){!e.branches.length>0&&t.selected.push(e)})),t.disabledCount=this.current_items-this.selected.length}else this.selected=[]},currentItems:function(e){this.current_items=e.length}}},jt=Ut,Bt=Object(m["a"])(jt,qt,Lt,!1,null,null,null),Mt=Bt.exports;v()(Bt,{VBtn:O["a"],VCard:N["a"],VCardActions:$["a"],VCardText:$["c"],VCardTitle:$["d"],VChip:w["a"],VContainer:we["a"],VDataTable:P["a"],VDialog:V["a"],VDivider:h["a"],VFlex:Re["a"],VIcon:f["a"],VSimpleCheckbox:Tt["a"],VSpacer:F["a"],VTextField:qe["a"],VTimePicker:It["a"],VToolbar:W["a"],VToolbarTitle:J["b"],VTooltip:Q["a"]});var Gt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.regions,"items-per-page":e.itemsPerPage,search:e.search,loading:e.loadingStatus,"show-select":""},on:{"toggle-select-all":e.selectAllToggle,"current-items":e.currentItems},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Regions")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.openDialog}},i),[a("v-icon",[e._v("mdi-plus-circle")])],1)]}}])},[a("span",[e._v("Add")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{disabled:!e.selected.length>0,text:"",icon:""},on:{click:e.deleteRegions}},i),[a("v-icon",[e._v("mdi-delete")])],1)]}}])},[a("span",[e._v("Delete")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""}},i),[a("v-icon",[e._v("print")])],1)]}}])},[a("span",[e._v("Print")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("json-excel",{attrs:{data:e.regions}},[a("v-btn",e._g({attrs:{text:"",icon:""}},i),[a("v-icon",[e._v("mdi-file-export")])],1)],1)]}}])},[a("span",[e._v("Export")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.refreshData}},i),[a("v-icon",[e._v("mdi-refresh")])],1)]}}])},[a("span",[e._v("Refresh")])]),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-dialog",{attrs:{persistent:"",value:e.dialog,"max-width":"500px"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",[a("v-text-field",{attrs:{autofocus:"","error-messages":e.nameErrors,label:"Name",required:"",disabled:e.loadingStatus},on:{input:function(t){return e.$v.editedRegion.name.$touch()},keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.save(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.close(t)}]},model:{value:e.editedRegion.name,callback:function(t){e.$set(e.editedRegion,"name",t)},expression:"editedRegion.name"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:e.close}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"blue",text:"",loading:e.loadingStatus},on:{click:e.save}},[e._v("Save")])],1)],1)],1)],1)]},proxy:!0},{key:"header.data-table-select",fn:function(t){var i=t.on,r=t.props;return[a("v-simple-checkbox",e._g(e._b({attrs:{disabled:e.regions.length===e.disabledCount}},"v-simple-checkbox",r,!1),i))]}},{key:"item.data-table-select",fn:function(e){var t=e.item,i=e.isSelected,r=e.select;return[a("v-simple-checkbox",{attrs:{value:i,readonly:t.branches.length>0,disabled:t.branches.length>0},on:{input:function(e){return r(e)}}})]}},{key:"item.branches",fn:function(t){var i=t.item;return[i.branches.length>0?a("span",{staticStyle:{cursor:"pointer"},on:{click:function(t){return e.popBranch(i)}}},[e._l(i.branches,(function(t,i){return a("span",{key:t.id},[0===i?a("v-chip",{attrs:{small:"",color:"primary darken-2"}},[e._v(" "+e._s(t.name)+" ")]):e._e()],1)})),i.branches.length-1>0?a("span",[e._v(" (+"+e._s(i.branches.length-1)+" other"+e._s(i.branches.length-1!=1?"s":"")+") ")]):e._e()],2):e._e(),i.branches.length<=0?a("v-chip",{attrs:{small:"",color:"secondary"}},[e._v(" None ")]):e._e()]}},{key:"item.action",fn:function(t){var i=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:"",title:"Edit"},on:{click:function(t){return e.editRegion(i,1)}}},[e._v(" mdi-pencil ")]),a("v-icon",{attrs:{small:"",title:"Duplicate"},on:{click:function(t){return e.editRegion(i,2)}}},[e._v(" mdi-content-duplicate ")])]}}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1),a("BranchesDialog")],1)},Ft=[],Yt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",{attrs:{row:"","justify-center":""}},[a("v-dialog",{attrs:{width:"500",value:e.dialog,persistent:""}},[a("v-card",[a("v-card-title",[a("div",[a("div",{staticClass:"headline"},[e._v(e._s(e.regionItem.name))]),a("span",{staticClass:"grey--text"},[e._v("Branches")])])]),a("v-card-text",[a("v-list",e._l(e.regionItem.branches,(function(t){return a("v-chip",{key:t.id,staticClass:"ma-1",attrs:{color:"primary darken-2",small:""}},[e._v(e._s(t.name))])})),1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(t){return e.closeDialog(e.regionItem)}}},[e._v(" CLOSE ")])],1)],1)],1)],1)},zt=[],Ht={computed:Object(c["a"])({},Object(l["b"])({dialog:"region/getBranchDialog",regionItem:"region/getRegionItem"})),methods:{closeDialog:function(e){var t={dialog:!1,item:e};this.$store.commit("region/SET_REGION_ITEM",t)}}},Kt=Ht,Wt=Object(m["a"])(Kt,Yt,zt,!1,null,null,null),Jt=Wt.exports;v()(Wt,{VBtn:O["a"],VCard:N["a"],VCardActions:$["a"],VCardText:$["c"],VCardTitle:$["d"],VChip:w["a"],VDialog:V["a"],VLayout:Ve["a"],VList:_["a"],VSpacer:F["a"]});var Qt={components:{BranchesDialog:Jt,JsonExcel:_t["a"]},mixins:[nt["validationMixin"]],data:function(){return{search:"",selected:[],disabledCount:0,testData:0,headers:[{text:"Name",align:"left",value:"name"},{text:"Branches",align:"left",value:"branches"},{text:"Actions",align:"center",value:"action",sortable:!1}],editedIndex:-1,editedRegion:{name:""},defaultRegion:{name:""},itemsPerPage:5,current_items:0}},validations:{editedRegion:{name:{required:ot["required"],isUnique:function(e){if(""===e)return!0;var t=this.regions.filter((function(t){return t.name==e})).length;return 1!==t}}}},computed:Object(c["a"])(Object(c["a"])({},Object(l["b"])({regions:"region/getRegions",regionErrors:"region/getRegionErrors"})),{},{dialog:function(){return this.$store.state.dialog},loadingStatus:function(){return this.$store.state.loading},formTitle:function(){return-1===this.editedIndex?"New Region":"Edit Region"},nameErrors:function(){var e=[];if(!this.$v.editedRegion.name.$dirty)return e;var t=null;t=this.regionErrors["name|required"]?this.regionErrors["name|required"]:"The name field is required.";var a=null;return a=this.regionErrors["name|unique"]?this.regionErrors["name|unique"]:"The name already taken.",!this.$v.editedRegion.name.required&&e.push(t),!this.$v.editedRegion.name.isUnique&&e.push(a),e}}),watch:{regions:function(){this.$v.$reset()}},created:function(){this.$store.dispatch("region/fetchRegions")},methods:{refreshData:function(){this.$store.dispatch("region/fetchRegions")},openDialog:function(){this.editedIndex=-1,this.editedRegion=Object.assign({},this.defaultRegion),this.$store.dispatch("triggerDialog",!0)},editRegion:function(e,t){this.editedIndex=2==t?-1:this.regions.indexOf(e),this.editedRegion=Object.assign({},e),this.$store.dispatch("triggerDialog",!0)},deleteRegions:function(){var e=this,t=this.$data.selected,a=t.map((function(e){return e.id})),i=t.map((function(e){var t="<br />"+e.name;return t}));this.$dialog.warning({text:"<h3><em>You are about to delete an item(s):</em></h3>"+i,title:"Confirm Delete",actions:{false:"Cancel",true:{text:"Confirm",color:"warning"}}}).then((function(t){t&&(e.$store.dispatch("region/deleteRegions",a),e.$data.selected=[])}))},close:function(){this.editedIndex=-1,this.$v.$reset(),this.$store.dispatch("triggerDialog",!1)},save:function(){this.$v.$touch(),this.editedIndex>-1?this.$store.dispatch("region/updateRegion",this.editedRegion):this.$store.dispatch("region/storeRegion",this.editedRegion)},popBranch:function(e){var t={dialog:!0,item:e};this.$store.commit("region/SET_REGION_ITEM",t)},selectAllToggle:function(e){if(this.selected.length!=this.current_items-this.disabledCount){this.selected=[];var t=this;e.items.forEach((function(e){!e.branches.length>0&&t.selected.push(e)})),t.disabledCount=this.current_items-this.selected.length}else this.selected=[]},currentItems:function(e){this.current_items=e.length}}},Xt=Qt,Zt=Object(m["a"])(Xt,Gt,Ft,!1,null,null,null),ea=Zt.exports;v()(Zt,{VBtn:O["a"],VCard:N["a"],VCardActions:$["a"],VCardText:$["c"],VCardTitle:$["d"],VChip:w["a"],VCol:R["a"],VContainer:we["a"],VDataTable:P["a"],VDialog:V["a"],VDivider:h["a"],VIcon:f["a"],VRow:B["a"],VSimpleCheckbox:Tt["a"],VSpacer:F["a"],VTextField:qe["a"],VToolbar:W["a"],VToolbarTitle:J["b"],VTooltip:Q["a"]});var ta=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.divisions,"items-per-page":e.itemsPerPage,search:e.search,loading:e.loadingStatus,"show-select":""},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Divisions")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.openDialog}},i),[a("v-icon",[e._v("mdi-plus-circle")])],1)]}}])},[a("span",[e._v("Add")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{disabled:!e.selected.length>0,text:"",icon:""},on:{click:e.deleteDivisions}},i),[a("v-icon",[e._v("mdi-delete")])],1)]}}])},[a("span",[e._v("Delete")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""}},i),[a("v-icon",[e._v("print")])],1)]}}])},[a("span",[e._v("Print")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("json-excel",{attrs:{data:e.divisions}},[a("v-btn",e._g({attrs:{text:"",icon:""}},i),[a("v-icon",[e._v("mdi-file-export")])],1)],1)]}}])},[a("span",[e._v("Export")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.refreshData}},i),[a("v-icon",[e._v("mdi-refresh")])],1)]}}])},[a("span",[e._v("Refresh")])]),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-dialog",{attrs:{persistent:"",value:e.dialog,"max-width":"500px"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",[a("v-text-field",{attrs:{autofocus:"","error-messages":e.nameErrors,label:"Name",required:"",disabled:e.loadingStatus},on:{input:function(t){return e.$v.editedDivision.name.$touch()},keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.save(t)}},model:{value:e.editedDivision.name,callback:function(t){e.$set(e.editedDivision,"name",t)},expression:"editedDivision.name"}}),a("v-flex",{attrs:{md12:""}},[a("v-autocomplete",{attrs:{items:e.departments,"item-text":"name","item-value":"id",multiple:"",chips:"","small-chips":"",label:"Select Departments"},scopedSlots:e._u([{key:"selection",fn:function(t){var i=t.item,r=t.index;return[0===r?a("v-chip",{attrs:{small:""}},[a("span",[e._v(e._s(i.name))])]):e._e(),1===r?a("span",{staticClass:"grey--text caption"},[e._v("(+"+e._s(e.editedDivision.departments.length-1)+" others)")]):e._e()]}}]),model:{value:e.editedDivision.departments,callback:function(t){e.$set(e.editedDivision,"departments",t)},expression:"editedDivision.departments"}})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.close}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"blue darken-1",text:"",loading:e.loadingStatus},on:{click:e.save}},[e._v("Save")])],1)],1)],1)],1)]},proxy:!0},{key:"item.departments",fn:function(t){var i=t.item;return[i.departments.length>0?a("span",{staticStyle:{cursor:"pointer"},on:{click:function(t){return e.popDept(i)}}},[e._l(i.departments,(function(t,i){return a("span",{key:t.id},[0===i?a("v-chip",{attrs:{small:"",color:"primary darken-2"}},[e._v(" "+e._s(t.name)+" ")]):e._e()],1)})),i.departments.length-1>0?a("span",[e._v(" (+"+e._s(i.departments.length-1)+" other"+e._s(i.departments.length-1!=1?"s":"")+") ")]):e._e()],2):e._e(),i.departments.length<=0?a("v-chip",{attrs:{small:"",color:"secondary"}},[e._v(" None ")]):e._e()]}},{key:"item.action",fn:function(t){var i=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editDivision(i)}}},[e._v(" mdi-pencil ")]),a("v-icon",{attrs:{small:""}},[e._v(" mdi-content-duplicate ")])]}}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1),a("DepartmentsDialog")],1)},aa=[],ia=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",{attrs:{row:"","justify-center":""}},[a("v-dialog",{attrs:{width:"500",value:e.dialog,persistent:""}},[a("v-card",[a("v-card-title",[a("div",[a("div",{staticClass:"headline"},[e._v(e._s(e.divisionItem.name))]),a("span",{staticClass:"grey--text"},[e._v("Departments")])])]),a("v-card-text",[a("v-list",e._l(e.divisionItem.departments,(function(t){return a("v-chip",{key:t.id,staticClass:"ma-1",attrs:{color:"primary darken-2",small:""}},[e._v(e._s(t.name))])})),1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(t){return e.closeDialog(e.divisionItem)}}},[e._v(" CLOSE ")])],1)],1)],1)],1)},ra=[],na={computed:Object(c["a"])({},Object(l["b"])({dialog:"division/getDeptDialog",divisionItem:"division/getDivisionItem"})),methods:{closeDialog:function(e){var t={dialog:!1,item:e};this.$store.commit("division/SET_DIVISION_ITEM",t)}}},oa=na,sa=Object(m["a"])(oa,ia,ra,!1,null,null,null),ca=sa.exports;v()(sa,{VBtn:O["a"],VCard:N["a"],VCardActions:$["a"],VCardText:$["c"],VCardTitle:$["d"],VChip:w["a"],VDialog:V["a"],VLayout:Ve["a"],VList:_["a"],VSpacer:F["a"]});var la={components:{DepartmentsDialog:ca,JsonExcel:_t["a"]},mixins:[nt["validationMixin"]],data:function(){return{itemsPerPage:5,search:"",selected:[],headers:[{text:"Name",align:"left",value:"name"},{text:"Departments",align:"left",value:"departments"},{text:"Actions",align:"center",value:"action",sortable:!1}],editedIndex:-1,editedDivision:{name:"",departments:[]},defaultDivision:{name:"",departments:[]}}},validations:{editedDivision:{name:{required:ot["required"],isUnique:function(e){if(""===e)return!0;var t=this.divisions.filter((function(t){return t.name==e})).length;return 1!==t}}}},computed:Object(c["a"])(Object(c["a"])({},Object(l["b"])({divisions:"division/getDivisions",divisionErrors:"division/getDivisionErrors",departments:"department/getDepartments"})),{},{dialog:function(){return this.$store.state.dialog},loadingStatus:function(){return this.$store.state.loading},formTitle:function(){return-1===this.editedIndex?"New Division":"Edit Division"},nameErrors:function(){var e=[];if(!this.$v.editedDivision.name.$dirty)return e;var t=null;t=this.divisionErrors["name|required"]?this.divisionErrors["name|required"]:"The name field is required.";var a=null;return a=this.divisionErrors["name|unique"]?this.divisionErrors["name|unique"]:"The name already taken.",!this.$v.editedDivision.name.required&&e.push(t),!this.$v.editedDivision.name.isUnique&&e.push(a),e}}),watch:{divisions:function(){this.$v.$reset()}},created:function(){this.$store.dispatch("division/fetchDivisions"),this.$store.dispatch("department/fetchDepartments")},methods:{refreshData:function(){this.$store.dispatch("division/fetchDivisions"),this.$store.dispatch("department/fetchDepartments")},openDialog:function(){this.editedIndex=-1,this.editedDivision=Object.assign({},this.defaultDivision),this.$store.dispatch("triggerDialog",!0)},editDivision:function(e){this.editedIndex=this.divisions.indexOf(e);var t=e.departments.map((function(e){return e.id}));this.editedDivision=Object.assign({},{id:e.id,name:e.name,departments:t}),this.$store.dispatch("triggerDialog",!0)},deleteDivisions:function(){var e=this,t=this.$data.selected,a=t.map((function(e){return e.id})),i=t.map((function(e){return e.name}));this.$dialog.warning({text:"<h3><em>You are about to delete an item(s):</em></h3>"+i,title:"Confirm Delete",actions:{false:"Cancel",true:{text:"Confirm",color:"warning"}}}).then((function(t){t&&(e.$store.dispatch("division/deleteDivisions",a),e.$data.selected=[])}))},close:function(){this.editedIndex=-1,this.$v.$reset(),this.$store.dispatch("triggerDialog",!1)},save:function(){this.$v.$touch(),this.editedIndex>-1?this.$store.dispatch("division/updateDivision",this.editedDivision):this.$store.dispatch("division/storeDivision",this.editedDivision)},popDept:function(e){var t={dialog:!0,item:e};this.$store.commit("division/SET_DIVISION_ITEM",t)}}},da=la,ua=Object(m["a"])(da,ta,aa,!1,null,null,null),ma=ua.exports;v()(ua,{VAutocomplete:xt["a"],VBtn:O["a"],VCard:N["a"],VCardActions:$["a"],VCardText:$["c"],VCardTitle:$["d"],VChip:w["a"],VCol:R["a"],VContainer:we["a"],VDataTable:P["a"],VDialog:V["a"],VDivider:h["a"],VFlex:Re["a"],VIcon:f["a"],VRow:B["a"],VSpacer:F["a"],VTextField:qe["a"],VToolbar:W["a"],VToolbarTitle:J["b"],VTooltip:Q["a"]});var pa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.departments,"items-per-page":e.itemsPerPage,search:e.search,loading:e.loadingStatus,"show-select":""},on:{"toggle-select-all":e.selectAllToggle},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Departments")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.openDialog}},i),[a("v-icon",[e._v("mdi-plus-circle")])],1)]}}])},[a("span",[e._v("Add")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{disabled:!e.selected.length>0,text:"",icon:""},on:{click:e.deleteDepartments}},i),[a("v-icon",[e._v("delete")])],1)]}}])},[a("span",[e._v("Delete")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""}},i),[a("v-icon",[e._v("print")])],1)]}}])},[a("span",[e._v("Print")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("json-excel",{attrs:{data:e.departments}},[a("v-btn",e._g({attrs:{text:"",icon:""}},i),[a("v-icon",[e._v("mdi-file-export")])],1)],1)]}}])},[a("span",[e._v("Export")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.refreshData}},i),[a("v-icon",[e._v("mdi-refresh")])],1)]}}])},[a("span",[e._v("Refresh")])]),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-dialog",{attrs:{persistent:"",value:e.dialog,"max-width":"500px"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",[a("v-text-field",{attrs:{autofocus:"","error-messages":e.nameErrors,label:"Name",required:"",disabled:e.loadingStatus},on:{input:function(t){return e.$v.editedDepartment.name.$touch()},keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.save(t)}},model:{value:e.editedDepartment.name,callback:function(t){e.$set(e.editedDepartment,"name",t)},expression:"editedDepartment.name"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:e.close}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"blue darken-1",text:"",loading:e.loadingStatus},on:{click:e.save}},[e._v("Save")])],1)],1)],1)],1)]},proxy:!0},{key:"header.data-table-select",fn:function(t){var i=t.on,r=t.props;return[a("v-simple-checkbox",e._g(e._b({attrs:{disabled:e.departments.length===e.disabledCount}},"v-simple-checkbox",r,!1),i))]}},{key:"item.data-table-select",fn:function(e){var t=e.item,i=e.isSelected,r=e.select;return[a("v-simple-checkbox",{attrs:{value:i,readonly:t.employees.length>0,disabled:t.employees.length>0},on:{input:function(e){return r(e)}}})]}},{key:"item.action",fn:function(t){var i=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editDepartment(i,1)}}},[e._v(" mdi-pencil ")]),a("v-icon",{attrs:{small:""},on:{click:function(t){return e.editDepartment(i,2)}}},[e._v(" mdi-content-duplicate ")])]}}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1)],1)},va=[],ha={components:{JsonExcel:_t["a"]},mixins:[nt["validationMixin"]],data:function(){return{itemsPerPage:5,search:"",selected:[],headers:[{text:"Name",align:"left",value:"name"},{text:"Actions",align:"center",value:"action",sortable:!1}],editedIndex:-1,editedDepartment:{name:""},defaultDepartment:{name:""}}},validations:{editedDepartment:{name:{required:ot["required"],isUnique:function(e){if(""===e)return!0;var t=this.departments.filter((function(t){return t.name==e})).length;return 1!==t}}}},computed:Object(c["a"])(Object(c["a"])({},Object(l["b"])({departments:"department/getDepartments",departmentErrors:"department/getDepartmentErrors"})),{},{dialog:function(){return this.$store.state.dialog},loadingStatus:function(){return this.$store.state.loading},formTitle:function(){return-1===this.editedIndex?"New Department":"Edit Department"},nameErrors:function(){var e=[];if(!this.$v.editedDepartment.name.$dirty)return e;var t=null;t=this.departmentErrors["name|required"]?this.departmentErrors["name|required"]:"The name field is required.";var a=null;return a=this.departmentErrors["name|unique"]?this.departmentErrors["name|unique"]:"The name already taken.",!this.$v.editedDepartment.name.required&&e.push(t),!this.$v.editedDepartment.name.isUnique&&e.push(a),e}}),watch:{departments:function(){this.$v.$reset()}},created:function(){this.$store.dispatch("department/fetchDepartments")},methods:{refreshData:function(){this.$store.dispatch("department/fetchDepartments")},openDialog:function(){this.editedIndex=-1,this.editedDepartment=Object.assign({},this.defaultDepartment),this.$store.dispatch("triggerDialog",!0)},editDepartment:function(e,t){this.editedIndex=2==t?-1:this.departments.indexOf(e),this.editedDepartment=Object.assign({},e),this.$store.dispatch("triggerDialog",!0)},deleteDepartments:function(){var e=this,t=this.$data.selected,a=t.map((function(e){return e.id})),i=t.map((function(e){var t="<br />"+e.name;return t}));this.$dialog.warning({text:"<h3><em>You are about to delete an item(s):</em></h3>"+i,title:"Confirm Delete",actions:{false:"Cancel",true:{text:"Confirm",color:"warning"}}}).then((function(t){t&&(e.$store.dispatch("department/deleteDepartments",a),e.$data.selected=[])}))},close:function(){this.editedIndex=-1,this.$v.$reset(),this.$store.dispatch("triggerDialog",!1)},save:function(){this.$v.$touch(),this.editedIndex>-1?this.$store.dispatch("department/updateDepartment",this.editedDepartment):this.$store.dispatch("department/storeDepartment",this.editedDepartment)},selectAllToggle:function(e){if(this.selected.length!=this.departments.length-this.disabledCount){this.selected=[];var t=this;e.items.forEach((function(e){!e.employees.length>0&&t.selected.push(e)})),t.disabledCount=this.departments.length-this.selected.length}else this.selected=[]}}},fa=ha,_a=Object(m["a"])(fa,pa,va,!1,null,null,null),ga=_a.exports;v()(_a,{VBtn:O["a"],VCard:N["a"],VCardActions:$["a"],VCardText:$["c"],VCardTitle:$["d"],VCol:R["a"],VContainer:we["a"],VDataTable:P["a"],VDialog:V["a"],VDivider:h["a"],VIcon:f["a"],VRow:B["a"],VSimpleCheckbox:Tt["a"],VSpacer:F["a"],VTextField:qe["a"],VToolbar:W["a"],VToolbarTitle:J["b"],VTooltip:Q["a"]});var ba=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.positions,"items-per-page":e.itemsPerPage,search:e.search,loading:e.loadingStatus,"show-select":""},on:{"toggle-select-all":e.selectAllToggle,"current-items":e.currentItems},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Positions")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.openDialog}},i),[a("v-icon",[e._v("mdi-plus-circle")])],1)]}}])},[a("span",[e._v("Add")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{disabled:!e.selected.length>0,text:"",icon:""},on:{click:e.deletePositions}},i),[a("v-icon",[e._v("mdi-delete")])],1)]}}])},[a("span",[e._v("Delete")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""}},i),[a("v-icon",[e._v("print")])],1)]}}])},[a("span",[e._v("Print")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("json-excel",{attrs:{data:e.positions}},[a("v-btn",e._g({attrs:{text:"",icon:""}},i),[a("v-icon",[e._v("mdi-file-export")])],1)],1)]}}])},[a("span",[e._v("Export")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.refreshData}},i),[a("v-icon",[e._v("mdi-refresh")])],1)]}}])},[a("span",[e._v("Refresh")])]),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-dialog",{attrs:{persistent:"",value:e.dialog,"max-width":"500px"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",[a("v-text-field",{attrs:{autofocus:"","error-messages":e.nameErrors,label:"Name",required:"",disabled:e.loadingStatus},on:{input:function(t){return e.$v.editedPosition.name.$touch()},keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.save(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.close(t)}]},model:{value:e.editedPosition.name,callback:function(t){e.$set(e.editedPosition,"name",t)},expression:"editedPosition.name"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:e.close}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"blue",text:"",loading:e.loadingStatus},on:{click:e.save}},[e._v("Save")])],1)],1)],1)],1)]},proxy:!0},{key:"header.data-table-select",fn:function(t){var i=t.on,r=t.props;return[a("v-simple-checkbox",e._g(e._b({attrs:{disabled:e.positions.length===e.disabledCount}},"v-simple-checkbox",r,!1),i))]}},{key:"item.data-table-select",fn:function(e){var t=e.item,i=e.isSelected,r=e.select;return[a("v-simple-checkbox",{attrs:{value:i,readonly:t.employees.length>0,disabled:t.employees.length>0},on:{input:function(e){return r(e)}}})]}},{key:"item.action",fn:function(t){var i=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:"",title:"Edit"},on:{click:function(t){return e.editPosition(i,1)}}},[e._v(" mdi-pencil ")]),a("v-icon",{attrs:{small:"",title:"Duplicate"},on:{click:function(t){return e.editPosition(i,2)}}},[e._v(" mdi-content-duplicate ")])]}}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1)],1)},xa=[],Ta={components:{JsonExcel:_t["a"]},mixins:[nt["validationMixin"]],data:function(){return{search:"",disabledCount:0,selected:[],headers:[{text:"Name",align:"left",value:"name"},{text:"Actions",align:"center",value:"action",sortable:!1}],editedIndex:-1,editedPosition:{name:""},defaultPosition:{name:""},itemsPerPage:5,current_items:0}},validations:{editedPosition:{name:{required:ot["required"],isUnique:function(e){if(""===e)return!0;var t=this.positions.filter((function(t){return t.name==e})).length;return 1!==t}}}},computed:Object(c["a"])(Object(c["a"])({},Object(l["b"])({positions:"position/getPositions",positionErrors:"position/getPositionErrors"})),{},{dialog:function(){return this.$store.state.dialog},loadingStatus:function(){return this.$store.state.loading},formTitle:function(){return-1===this.editedIndex?"New Position":"Edit Position"},nameErrors:function(){var e=[];if(!this.$v.editedPosition.name.$dirty)return e;var t=null;t=this.positionErrors["name|required"]?this.positionErrors["name|required"]:"The name field is required.";var a=null;return a=this.positionErrors["name|unique"]?this.positionErrors["name|unique"]:"The name already taken.",!this.$v.editedPosition.name.required&&e.push(t),!this.$v.editedPosition.name.isUnique&&e.push(a),e}}),watch:{positions:function(){this.$v.$reset()}},created:function(){this.$store.dispatch("position/fetchPositions")},methods:{refreshData:function(){this.$store.dispatch("position/fetchPositions")},openDialog:function(){console.log(this.disabledCount+"/"+this.positions.length),this.editedIndex=-1,this.editedPosition=Object.assign({},this.defaultPosition),this.$store.dispatch("triggerDialog",!0)},editPosition:function(e,t){this.editedIndex=2==t?-1:this.positions.indexOf(e),this.editedPosition=Object.assign({},e),this.$store.dispatch("triggerDialog",!0)},deletePositions:function(){var e=this,t=this.$data.selected,a=t.map((function(e){return e.id})),i=t.map((function(e){var t="<br />"+e.name;return t}));this.$dialog.warning({text:"<h3><em>You are about to delete an item(s):</em></h3>"+i,title:"Confirm Delete",actions:{false:"Cancel",true:{text:"Confirm",color:"warning"}}}).then((function(t){t&&(e.$store.dispatch("position/deletePositions",a),e.$data.selected=[])}))},close:function(){this.editedIndex=-1,this.$v.$reset(),this.$store.dispatch("triggerDialog",!1)},save:function(){this.$v.$touch(),this.editedIndex>-1?this.$store.dispatch("position/updatePosition",this.editedPosition):this.$store.dispatch("position/storePosition",this.editedPosition)},selectAllToggle:function(e){if(console.log(e),this.selected.length!=this.current_items-this.disabledCount){this.selected=[];var t=this;e.items.forEach((function(e){!e.employees.length>0&&t.selected.push(e)})),t.disabledCount=this.current_items-this.selected.length}else this.selected=[]},currentItems:function(e){this.current_items=e.length}}},ya=Ta,Sa=Object(m["a"])(ya,ba,xa,!1,null,null,null),Da=Sa.exports;v()(Sa,{VBtn:O["a"],VCard:N["a"],VCardActions:$["a"],VCardText:$["c"],VCardTitle:$["d"],VCol:R["a"],VContainer:we["a"],VDataTable:P["a"],VDialog:V["a"],VDivider:h["a"],VIcon:f["a"],VRow:B["a"],VSimpleCheckbox:Tt["a"],VSpacer:F["a"],VTextField:qe["a"],VToolbar:W["a"],VToolbarTitle:J["b"],VTooltip:Q["a"]});var ka=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.roles,"items-per-page":e.itemsPerPage,search:e.search,loading:e.loadingStatus,"show-select":""},on:{"toggle-select-all":e.selectAllToggle,"current-items":e.currentItems},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Roles")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.openDialog}},i),[a("v-icon",[e._v("mdi-plus-circle")])],1)]}}])},[a("span",[e._v("Add")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{disabled:!e.selected.length>0,text:"",icon:""},on:{click:e.deleteRoles}},i),[a("v-icon",[e._v("mdi-delete")])],1)]}}])},[a("span",[e._v("Delete")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""}},i),[a("v-icon",[e._v("print")])],1)]}}])},[a("span",[e._v("Print")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("json-excel",{attrs:{data:e.roles}},[a("v-btn",e._g({attrs:{text:"",icon:""}},i),[a("v-icon",[e._v("mdi-file-export")])],1)],1)]}}])},[a("span",[e._v("Export")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.refreshData}},i),[a("v-icon",[e._v("mdi-refresh")])],1)]}}])},[a("span",[e._v("Refresh")])]),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-dialog",{attrs:{persistent:"",value:e.dialog,"max-width":"500px"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",[a("v-text-field",{attrs:{autofocus:"","error-messages":e.nameErrors,label:"Name",required:"",disabled:e.loadingStatus},on:{input:function(t){return e.$v.editedRole.name.$touch()},keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.save(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.close(t)}]},model:{value:e.editedRole.name,callback:function(t){e.$set(e.editedRole,"name",t)},expression:"editedRole.name"}}),a("v-autocomplete",{attrs:{"error-messages":e.permErrors,required:"",items:e.perms,"item-text":"name","item-value":"id",multiple:"",chips:"","small-chips":"",label:"Select Permissions"},scopedSlots:e._u([{key:"selection",fn:function(t){var i=t.item,r=t.index;return[0===r?a("v-chip",{attrs:{small:""}},[a("span",[e._v(e._s(i.name))])]):e._e(),1===r?a("span",{staticClass:"grey--text caption"},[e._v("(+"+e._s(e.editedRole.permissions.length-1)+" others)")]):e._e()]}}]),model:{value:e.editedRole.permissions,callback:function(t){e.$set(e.editedRole,"permissions",t)},expression:"editedRole.permissions"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:e.close}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"blue",text:"",loading:e.loadingStatus},on:{click:e.save}},[e._v("Save")])],1)],1)],1)],1)]},proxy:!0},{key:"header.data-table-select",fn:function(t){var i=t.on,r=t.props;return[a("v-simple-checkbox",e._g(e._b({attrs:{disabled:e.roles.length===e.disabledCount}},"v-simple-checkbox",r,!1),i))]}},{key:"item.data-table-select",fn:function(e){var t=e.item,i=e.isSelected,r=e.select;return[a("v-simple-checkbox",{attrs:{value:i,readonly:"Super Admin"==t.name||t.users.length>0,disabled:"Super Admin"==t.name||t.users.length>0},on:{input:function(e){return r(e)}}})]}},{key:"item.permissions",fn:function(t){var i=t.item;return[i.permissions.length>0?a("span",{staticStyle:{cursor:"pointer"},on:{click:function(t){return e.popPerm(i)}}},[e._l(i.permissions,(function(t,i){return a("span",{key:t.id},[0===i?a("v-chip",{attrs:{small:"",color:"primary darken-2"}},[e._v(" "+e._s(t.name)+" ")]):e._e()],1)})),i.permissions.length-1>0?a("span",[e._v(" (+"+e._s(i.permissions.length-1)+" other"+e._s(i.permissions.length-1!=1?"s":"")+") ")]):e._e()],2):e._e(),i.permissions.length<=0?a("v-chip",{attrs:{small:"",color:"secondary"}},[e._v(" None ")]):e._e()]}},{key:"item.action",fn:function(t){var i=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:"",title:"Edit"},on:{click:function(t){return e.editRole(i,1)}}},[e._v(" mdi-pencil ")]),a("v-icon",{attrs:{small:"",title:"Duplicate"},on:{click:function(t){return e.editRole(i,2)}}},[e._v(" mdi-content-duplicate ")])]}}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1),a("PermissionsDialog")],1)},Ea=[],Aa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",{attrs:{row:"","justify-center":""}},[a("v-dialog",{attrs:{scrollable:"",width:"500",value:e.dialog,persistent:""}},[a("v-card",[a("v-card-title",[a("div",[a("div",{staticClass:"headline"},[e._v(e._s(e.roleItem.name))]),a("span",{staticClass:"grey--text"},[e._v("Permissions")])])]),a("v-card-text",[a("v-list",e._l(e.roleItem.permissions,(function(t){return a("v-chip",{key:t.id,staticClass:"ma-1",attrs:{color:"primary darken-2",small:""}},[e._v(e._s(t.name))])})),1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(t){return e.closeDialog(e.roleItem)}}},[e._v(" CLOSE ")])],1)],1)],1)],1)},Ia=[],Ca={computed:Object(c["a"])({},Object(l["b"])({dialog:"role/getPermDialog",roleItem:"role/getRoleItem"})),methods:{closeDialog:function(e){var t={dialog:!1,item:e};this.$store.commit("role/SET_ROLE_ITEM",t)}}},Oa=Ca,Na=Object(m["a"])(Oa,Aa,Ia,!1,null,null,null),$a=Na.exports;v()(Na,{VBtn:O["a"],VCard:N["a"],VCardActions:$["a"],VCardText:$["c"],VCardTitle:$["d"],VChip:w["a"],VDialog:V["a"],VLayout:Ve["a"],VList:_["a"],VSpacer:F["a"]});var wa={components:{PermissionsDialog:$a,JsonExcel:_t["a"]},mixins:[nt["validationMixin"]],data:function(){return{search:"",selected:[],disabledCount:0,headers:[{text:"Name",align:"left",value:"name"},{text:"Permissions",align:"left",value:"permissions"},{text:"Actions",align:"center",value:"action",sortable:!1}],editedIndex:-1,editedRole:{name:"",permissions:null},defaultRole:{name:"",permissions:null},itemsPerPage:5,current_items:0}},validations:{editedRole:{name:{required:ot["required"],isUnique:function(e){if(""===e)return!0;var t=this.roles.filter((function(t){return t.name==e})).length;return 1!==t}},permissions:{required:ot["required"]}}},computed:Object(c["a"])(Object(c["a"])({},Object(l["b"])({roles:"role/getRoles",perms:"perm/getPerms",roleErrors:"role/getRoleErrors"})),{},{dialog:function(){return this.$store.state.dialog},loadingStatus:function(){return this.$store.state.loading},formTitle:function(){return-1===this.editedIndex?"New Role":"Edit Role"},nameErrors:function(){var e=[];if(!this.$v.editedRole.name.$dirty)return e;var t=null;t=this.roleErrors["name|required"]?this.roleErrors["name|required"]:"The name field is required.";var a=null;return a=this.roleErrors["name|unique"]?this.roleErrors["name|unique"]:"The name already taken.",!this.$v.editedRole.name.required&&e.push(t),!this.$v.editedRole.name.isUnique&&e.push(a),e},permErrors:function(){var e=[];if(!this.$v.editedRole.permissions.$dirty)return e;var t=null;return t=this.roleErrors["permissions|required"]?this.roleErrors["permissions|required"]:"The permission field is required.",!this.$v.editedRole.permissions.required&&e.push(t),e}}),watch:{roles:function(){this.$v.$reset()}},created:function(){this.$store.dispatch("role/fetchRoles"),this.$store.dispatch("perm/fetchPerms")},methods:{refreshData:function(){this.$store.dispatch("role/fetchRoles"),this.$store.dispatch("perm/fetchPerms")},openDialog:function(){this.editedIndex=-1,this.editedRole=Object.assign({},this.defaultRole),this.$store.dispatch("triggerDialog",!0)},editRole:function(e,t){this.editedIndex=2==t?-1:this.roles.indexOf(e);var a=e.permissions.map((function(e){return e.id}));console.log(a),this.editedRole=Object.assign({},{id:e.id,name:e.name,permissions:a}),this.$store.dispatch("triggerDialog",!0)},deleteRoles:function(){var e=this,t=this.$data.selected,a=t.map((function(e){return e.id})),i=t.map((function(e){var t="<br />"+e.name;return t}));this.$dialog.warning({text:"<h3><em>You are about to delete an item(s):</em></h3>"+i,title:"Confirm Delete",actions:{false:"Cancel",true:{text:"Confirm",color:"warning"}}}).then((function(t){t&&(e.$store.dispatch("role/deleteRoles",a),e.$data.selected=[])}))},close:function(){this.editedIndex=-1,this.editedRole={},this.$v.$reset(),this.$store.dispatch("triggerDialog",!1)},save:function(){this.$v.$touch(),this.editedIndex>-1?this.$store.dispatch("role/updateRole",this.editedRole):this.$store.dispatch("role/storeRole",this.editedRole)},popPerm:function(e){var t={dialog:!0,item:e};this.$store.commit("role/SET_ROLE_ITEM",t)},selectAllToggle:function(e){if(this.selected.length!=this.current_items-this.disabledCount){this.selected=[];var t=this;e.items.forEach((function(e){!e.users.length>0&&t.selected.push(e)})),t.disabledCount=this.current_items-this.selected.length}else this.selected=[]},currentItems:function(e){this.current_items=e.length}}},Ra=wa,Pa=Object(m["a"])(Ra,ka,Ea,!1,null,null,null),Va=Pa.exports;v()(Pa,{VAutocomplete:xt["a"],VBtn:O["a"],VCard:N["a"],VCardActions:$["a"],VCardText:$["c"],VCardTitle:$["d"],VChip:w["a"],VCol:R["a"],VContainer:we["a"],VDataTable:P["a"],VDialog:V["a"],VDivider:h["a"],VIcon:f["a"],VRow:B["a"],VSimpleCheckbox:Tt["a"],VSpacer:F["a"],VTextField:qe["a"],VToolbar:W["a"],VToolbarTitle:J["b"],VTooltip:Q["a"]});var qa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.perms,"items-per-page":e.itemsPerPage,search:e.search,loading:e.loadingStatus,"show-select":""},on:{"toggle-select-all":e.selectAllToggle,"current-items":e.currentItems},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Permissions")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.openDialog}},i),[a("v-icon",[e._v("mdi-plus-circle")])],1)]}}])},[a("span",[e._v("Add")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{disabled:!e.selected.length>0,text:"",icon:""},on:{click:e.deletePerms}},i),[a("v-icon",[e._v("mdi-delete")])],1)]}}])},[a("span",[e._v("Delete")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""}},i),[a("v-icon",[e._v("print")])],1)]}}])},[a("span",[e._v("Print")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("json-excel",{attrs:{data:e.perms}},[a("v-btn",e._g({attrs:{text:"",icon:""}},i),[a("v-icon",[e._v("mdi-file-export")])],1)],1)]}}])},[a("span",[e._v("Export")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.refreshData}},i),[a("v-icon",[e._v("mdi-refresh")])],1)]}}])},[a("span",[e._v("Refresh")])]),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-dialog",{attrs:{persistent:"",value:e.dialog,"max-width":"500px"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",[a("v-text-field",{attrs:{autofocus:"","error-messages":e.nameErrors,label:"Name",required:"",disabled:e.loadingStatus},on:{input:function(t){return e.$v.editedPerm.name.$touch()},keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.save(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.close(t)}]},model:{value:e.editedPerm.name,callback:function(t){e.$set(e.editedPerm,"name",t)},expression:"editedPerm.name"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:e.close}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"blue",text:"",loading:e.loadingStatus},on:{click:e.save}},[e._v("Save")])],1)],1)],1)],1)]},proxy:!0},{key:"header.data-table-select",fn:function(t){var i=t.on,r=t.props;return[a("v-simple-checkbox",e._g(e._b({attrs:{disabled:e.perms.length===e.disabledCount}},"v-simple-checkbox",r,!1),i))]}},{key:"item.data-table-select",fn:function(e){var t=e.item,i=e.isSelected,r=e.select;return[a("v-simple-checkbox",{attrs:{value:i,readonly:t.roles.length>0,disabled:t.roles.length>0},on:{input:function(e){return r(e)}}})]}},{key:"item.action",fn:function(t){var i=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:"",title:"Edit"},on:{click:function(t){return e.editPerm(i,1)}}},[e._v(" mdi-pencil ")]),a("v-icon",{attrs:{small:"",title:"Duplicate"},on:{click:function(t){return e.editPerm(i,2)}}},[e._v(" mdi-content-duplicate ")])]}}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1)],1)},La=[],Ua={components:{JsonExcel:_t["a"]},mixins:[nt["validationMixin"]],data:function(){return{search:"",disabledCount:0,selected:[],headers:[{text:"Name",align:"left",value:"name"},{text:"Actions",align:"center",value:"action",sortable:!1}],editedIndex:-1,editedPerm:{name:""},defaultPerm:{name:""},itemsPerPage:5,current_items:0}},validations:{editedPerm:{name:{required:ot["required"],isUnique:function(e){if(""===e)return!0;var t=this.perms.filter((function(t){return t.name==e})).length;return 1!==t}}}},computed:Object(c["a"])(Object(c["a"])({},Object(l["b"])({perms:"perm/getPerms",permErrors:"perm/getPermErrors"})),{},{dialog:function(){return this.$store.state.dialog},loadingStatus:function(){return this.$store.state.loading},formTitle:function(){return-1===this.editedIndex?"New Permission":"Edit Permission"},nameErrors:function(){var e=[];if(!this.$v.editedPerm.name.$dirty)return e;var t=null;t=this.permErrors["name|required"]?this.permErrors["name|required"]:"The name field is required.";var a=null;return a=this.permErrors["name|unique"]?this.permErrors["name|unique"]:"The name already taken.",!this.$v.editedPerm.name.required&&e.push(t),!this.$v.editedPerm.name.isUnique&&e.push(a),e}}),watch:{perms:function(){this.$v.$reset()}},created:function(){this.$store.dispatch("perm/fetchPerms")},methods:{refreshData:function(){this.$store.dispatch("perm/fetchPerms")},openDialog:function(){this.editedIndex=-1,this.editedPerm=Object.assign({},this.defaultPerm),this.$store.dispatch("triggerDialog",!0)},editPerm:function(e,t){this.editedIndex=2==t?-1:this.perms.indexOf(e),this.editedPerm=Object.assign({},e),this.$store.dispatch("triggerDialog",!0)},deletePerms:function(){var e=this,t=this.$data.selected,a=t.map((function(e){return e.id})),i=t.map((function(e){var t="<br />"+e.name;return t}));this.$dialog.warning({text:"<h3><em>You are about to delete an item(s):</em></h3>"+i,title:"Confirm Delete",actions:{false:"Cancel",true:{text:"Confirm",color:"warning"}}}).then((function(t){t&&(e.$store.dispatch("perm/deletePerms",a),e.$data.selected=[])}))},close:function(){this.editedIndex=-1,this.$v.$reset(),this.$store.dispatch("triggerDialog",!1)},save:function(){this.$v.$touch(),this.editedIndex>-1?this.$store.dispatch("perm/updatePerm",this.editedPerm):this.$store.dispatch("perm/storePerm",this.editedPerm)},selectAllToggle:function(e){if(this.selected.length!=this.current_items-this.disabledCount){this.selected=[];var t=this;e.items.forEach((function(e){!e.roles.length>0&&t.selected.push(e)})),t.disabledCount=this.current_items-this.selected.length}else this.selected=[]},currentItems:function(e){this.current_items=e.length}}},ja=Ua,Ba=Object(m["a"])(ja,qa,La,!1,null,null,null),Ma=Ba.exports;v()(Ba,{VBtn:O["a"],VCard:N["a"],VCardActions:$["a"],VCardText:$["c"],VCardTitle:$["d"],VCol:R["a"],VContainer:we["a"],VDataTable:P["a"],VDialog:V["a"],VDivider:h["a"],VIcon:f["a"],VRow:B["a"],VSimpleCheckbox:Tt["a"],VSpacer:F["a"],VTextField:qe["a"],VToolbar:W["a"],VToolbarTitle:J["b"],VTooltip:Q["a"]});var Ga=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.items,"items-per-page":e.itemsPerPage,search:e.search,loading:e.loadingStatus,"show-select":""},on:{"toggle-select-all":e.selectAllToggle,"current-items":e.currentItems},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Product Items")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.openDialog}},i),[a("v-icon",[e._v("mdi-plus-circle")])],1)]}}])},[a("span",[e._v("Add")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{disabled:!e.selected.length>0,text:"",icon:""},on:{click:e.deleteItems}},i),[a("v-icon",[e._v("mdi-delete")])],1)]}}])},[a("span",[e._v("Delete")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""}},i),[a("v-icon",[e._v("print")])],1)]}}])},[a("span",[e._v("Print")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("json-excel",{attrs:{data:e.items}},[a("v-btn",e._g({attrs:{text:"",icon:""}},i),[a("v-icon",[e._v("mdi-file-export")])],1)],1)]}}])},[a("span",[e._v("Export")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.refreshData}},i),[a("v-icon",[e._v("mdi-refresh")])],1)]}}])},[a("span",[e._v("Refresh")])]),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-dialog",{attrs:{persistent:"",value:e.dialog,"max-width":"500px"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",[a("v-text-field",{attrs:{autofocus:"","error-messages":e.modelErrors,label:"Model",required:"",disabled:e.loadingStatus},on:{input:function(t){return e.$v.editedItem.model.$touch()},keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.save(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.close(t)}]},model:{value:e.editedItem.model,callback:function(t){e.$set(e.editedItem,"model",t)},expression:"editedItem.model"}}),a("v-autocomplete",{attrs:{"search-input":e.editedItem.brand.toString(),"error-messages":e.brandErrors,items:e.brands,"item-text":"name","item-value":"id",label:"Select Brand",filled:""},model:{value:e.editedItem.brand,callback:function(t){e.$set(e.editedItem,"brand",t)},expression:"editedItem.brand"}}),a("v-autocomplete",{attrs:{"search-input":e.editedItem.category.toString(),"error-messages":e.categoryErrors,items:e.categories,"item-text":"name","item-value":"id",label:"Select Category",filled:""},model:{value:e.editedItem.category,callback:function(t){e.$set(e.editedItem,"category",t)},expression:"editedItem.category"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:e.close}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"blue",text:"",loading:e.loadingStatus},on:{click:e.save}},[e._v("Save")])],1)],1)],1)],1)]},proxy:!0},{key:"header.data-table-select",fn:function(t){var i=t.on,r=t.props;return[a("v-simple-checkbox",e._g(e._b({attrs:{disabled:e.items.length===e.disabledCount}},"v-simple-checkbox",r,!1),i))]}},{key:"item.data-table-select",fn:function(e){var t=e.item,i=e.isSelected,r=e.select;return[a("v-simple-checkbox",{attrs:{value:i,readonly:t.computerwares>0,disabled:t.computerwares>0},on:{input:function(e){return r(e)}}})]}},{key:"item.action",fn:function(t){var i=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:"",title:"Edit"},on:{click:function(t){return e.editItem(i,1)}}},[e._v(" mdi-pencil ")]),a("v-icon",{attrs:{small:"",title:"Duplicate"},on:{click:function(t){return e.editItem(i,2)}}},[e._v(" mdi-content-duplicate ")])]}}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1)],1)},Fa=[],Ya={components:{JsonExcel:_t["a"]},mixins:[nt["validationMixin"]],data:function(){return{search:"",selected:[],disabledCount:0,headers:[{text:"Model",align:"left",value:"model"},{text:"Brand",align:"left",value:"brand"},{text:"Category",align:"left",value:"category"},{text:"Actions",align:"center",value:"action",sortable:!1}],editedIndex:-1,editedItem:{model:"",brand:"",category:""},defaultItem:{model:"",brand:"",category:""},itemsPerPage:5,current_items:0}},validations:{editedItem:{model:{required:ot["required"],isUnique:function(e){if(""===e)return!0;var t=this.items.filter((function(t){return t.model==e})).length;return 1!==t}},brand:{required:ot["required"]},category:{required:ot["required"]}}},computed:Object(c["a"])(Object(c["a"])({},Object(l["b"])({items:"productItem/getItems",itemErrors:"productItem/getItemErrors",brands:"productBrand/getBrands",categories:"productCategory/getCategories"})),{},{dialog:function(){return this.$store.state.dialog},loadingStatus:function(){return this.$store.state.loading},formTitle:function(){return-1===this.editedIndex?"New Product Item":"Edit Product Item"},modelErrors:function(){var e=[];if(!this.$v.editedItem.model.$dirty)return e;var t=null;t=this.itemErrors["model|required"]?this.itemErrors["model|required"]:"The model field is required.";var a=null;return a=this.itemErrors["model|unique"]?this.itemErrors["model|unique"]:"The model already taken.",!this.$v.editedItem.model.required&&e.push(t),!this.$v.editedItem.model.isUnique&&e.push(a),e},brandErrors:function(){var e=[];if(!this.$v.editedItem.brand.$dirty)return e;var t=null;return t=this.itemErrors["brand|required"]?this.itemErrors["brand|required"]:"The brand field is required.",!this.$v.editedItem.brand.required&&e.push(t),e},categoryErrors:function(){var e=[];if(!this.$v.editedItem.category.$dirty)return e;var t=null;return t=this.itemErrors["category|required"]?this.itemErrors["category|required"]:"The category field is required.",!this.$v.editedItem.category.required&&e.push(t),e}}),watch:{items:function(){this.$v.$reset()}},created:function(){this.$store.dispatch("productItem/fetchItems"),this.$store.dispatch("productBrand/fetchBrands"),this.$store.dispatch("productCategory/fetchCategories")},methods:{refreshData:function(){this.$store.dispatch("productItem/fetchItems"),this.$store.dispatch("productBrand/fetchBrands"),this.$store.dispatch("productCategory/fetchCategories")},openDialog:function(){this.editedIndex=-1,this.editedItem=Object.assign({},this.defaultItem),this.$store.dispatch("triggerDialog",!0)},editItem:function(e,t){this.editedIndex=2==t?-1:this.items.indexOf(e),this.editedItem=Object.assign({},{id:e.id,model:e.model,brand:e.brand_id,category:e.category_id}),this.$store.dispatch("triggerDialog",!0)},deleteItems:function(){var e=this,t=this.$data.selected,a=t.map((function(e){return e.id})),i=t.map((function(e){var t="<br />"+e.model;return t}));this.$dialog.warning({text:"<h3><em>You are about to delete an item(s):</em></h3>"+i,title:"Confirm Delete",actions:{false:"Cancel",true:{text:"Confirm",color:"warning"}}}).then((function(t){t&&(e.$store.dispatch("productItem/deleteItems",a),e.$data.selected=[])}))},close:function(){this.editedIndex=-1,this.$v.$reset(),this.$store.dispatch("triggerDialog",!1)},save:function(){this.$v.$touch(),this.editedIndex>-1?this.$store.dispatch("productItem/updateItem",this.editedItem):this.$store.dispatch("productItem/storeItem",this.editedItem)},selectAllToggle:function(e){if(this.selected.length!=this.current_items-this.disabledCount){this.selected=[];var t=this;e.items.forEach((function(e){!e.computerwares>0&&t.selected.push(e)})),t.disabledCount=this.current_items-this.selected.length}else this.selected=[]},currentItems:function(e){this.current_items=e.length}}},za=Ya,Ha=Object(m["a"])(za,Ga,Fa,!1,null,null,null),Ka=Ha.exports;v()(Ha,{VAutocomplete:xt["a"],VBtn:O["a"],VCard:N["a"],VCardActions:$["a"],VCardText:$["c"],VCardTitle:$["d"],VCol:R["a"],VContainer:we["a"],VDataTable:P["a"],VDialog:V["a"],VDivider:h["a"],VIcon:f["a"],VRow:B["a"],VSimpleCheckbox:Tt["a"],VSpacer:F["a"],VTextField:qe["a"],VToolbar:W["a"],VToolbarTitle:J["b"],VTooltip:Q["a"]});var Wa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.brands,"items-per-page":e.itemsPerPage,search:e.search,loading:e.loadingStatus,"show-select":""},on:{"toggle-select-all":e.selectAllToggle,"current-items":e.currentItems},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Product Brands")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.openDialog}},i),[a("v-icon",[e._v("mdi-plus-circle")])],1)]}}])},[a("span",[e._v("Add")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{disabled:!e.selected.length>0,text:"",icon:""},on:{click:e.deleteBrands}},i),[a("v-icon",[e._v("mdi-delete")])],1)]}}])},[a("span",[e._v("Delete")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""}},i),[a("v-icon",[e._v("print")])],1)]}}])},[a("span",[e._v("Print")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("json-excel",{attrs:{data:e.brands}},[a("v-btn",e._g({attrs:{text:"",icon:""}},i),[a("v-icon",[e._v("mdi-file-export")])],1)],1)]}}])},[a("span",[e._v("Export")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.refreshData}},i),[a("v-icon",[e._v("mdi-refresh")])],1)]}}])},[a("span",[e._v("Refresh")])]),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-dialog",{attrs:{persistent:"",value:e.dialog,"max-width":"500px"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",[a("v-text-field",{attrs:{autofocus:"","error-messages":e.nameErrors,label:"Name",required:"",disabled:e.loadingStatus},on:{input:function(t){return e.$v.editedBrand.name.$touch()},keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.save(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.close(t)}]},model:{value:e.editedBrand.name,callback:function(t){e.$set(e.editedBrand,"name",t)},expression:"editedBrand.name"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:e.close}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"blue",text:"",loading:e.loadingStatus},on:{click:e.save}},[e._v("Save")])],1)],1)],1)],1)]},proxy:!0},{key:"header.data-table-select",fn:function(t){var i=t.on,r=t.props;return[a("v-simple-checkbox",e._g(e._b({attrs:{disabled:e.brands.length===e.disabledCount}},"v-simple-checkbox",r,!1),i))]}},{key:"item.data-table-select",fn:function(e){var t=e.item,i=e.isSelected,r=e.select;return[a("v-simple-checkbox",{attrs:{value:i,readonly:t.items.length>0,disabled:t.items.length>0},on:{input:function(e){return r(e)}}})]}},{key:"item.action",fn:function(t){var i=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:"",title:"Edit"},on:{click:function(t){return e.editBrand(i,1)}}},[e._v(" mdi-pencil ")]),a("v-icon",{attrs:{small:"",title:"Duplicate"},on:{click:function(t){return e.editBrand(i,2)}}},[e._v(" mdi-content-duplicate ")])]}}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1)],1)},Ja=[],Qa={components:{JsonExcel:_t["a"]},mixins:[nt["validationMixin"]],data:function(){return{search:"",selected:[],disabledCount:0,headers:[{text:"Name",align:"left",value:"name"},{text:"Actions",align:"center",value:"action",sortable:!1}],editedIndex:-1,editedBrand:{name:""},defaultBrand:{name:""},itemsPerPage:5,current_items:0}},validations:{editedBrand:{name:{required:ot["required"],isUnique:function(e){if(""===e)return!0;var t=this.brands.filter((function(t){return t.name==e})).length;return 1!==t}}}},computed:Object(c["a"])(Object(c["a"])({},Object(l["b"])({brands:"productBrand/getBrands",brandErrors:"productBrand/getBrandErrors"})),{},{dialog:function(){return this.$store.state.dialog},loadingStatus:function(){return this.$store.state.loading},formTitle:function(){return-1===this.editedIndex?"New Product Brand":"Edit Product Brand"},nameErrors:function(){var e=[];if(!this.$v.editedBrand.name.$dirty)return e;var t=null;t=this.brandErrors["name|required"]?this.brandErrors["name|required"]:"The name field is required.";var a=null;return a=this.brandErrors["name|unique"]?this.brandErrors["name|unique"]:"The name already taken.",!this.$v.editedBrand.name.required&&e.push(t),!this.$v.editedBrand.name.isUnique&&e.push(a),e}}),watch:{brands:function(){this.$v.$reset()}},created:function(){this.$store.dispatch("productBrand/fetchBrands")},methods:{refreshData:function(){this.$store.dispatch("productBrand/fetchBrands")},openDialog:function(){this.editedIndex=-1,this.editedBrand=Object.assign({},this.defaultBrand),this.$store.dispatch("triggerDialog",!0)},editBrand:function(e,t){this.editedIndex=2==t?-1:this.brands.indexOf(e),this.editedBrand=Object.assign({},e),this.$store.dispatch("triggerDialog",!0)},deleteBrands:function(){var e=this,t=this.$data.selected,a=t.map((function(e){return e.id})),i=t.map((function(e){var t="<br />"+e.name;return t}));this.$dialog.warning({text:"<h3><em>You are about to delete an item(s):</em></h3>"+i,title:"Confirm Delete",actions:{false:"Cancel",true:{text:"Confirm",color:"warning"}}}).then((function(t){t&&(e.$store.dispatch("productBrand/deleteBrands",a),e.$data.selected=[])}))},close:function(){this.editedIndex=-1,this.$v.$reset(),this.$store.dispatch("triggerDialog",!1)},save:function(){this.$v.$touch(),this.editedIndex>-1?this.$store.dispatch("productBrand/updateBrand",this.editedBrand):this.$store.dispatch("productBrand/storeBrand",this.editedBrand)},selectAllToggle:function(e){if(this.selected.length!=this.current_items-this.disabledCount){this.selected=[];var t=this;e.items.forEach((function(e){!e.items.length>0&&t.selected.push(e)})),t.disabledCount=this.current_items-this.selected.length}else this.selected=[]},currentItems:function(e){this.current_items=e.length}}},Xa=Qa,Za=Object(m["a"])(Xa,Wa,Ja,!1,null,null,null),ei=Za.exports;v()(Za,{VBtn:O["a"],VCard:N["a"],VCardActions:$["a"],VCardText:$["c"],VCardTitle:$["d"],VCol:R["a"],VContainer:we["a"],VDataTable:P["a"],VDialog:V["a"],VDivider:h["a"],VIcon:f["a"],VRow:B["a"],VSimpleCheckbox:Tt["a"],VSpacer:F["a"],VTextField:qe["a"],VToolbar:W["a"],VToolbarTitle:J["b"],VTooltip:Q["a"]});var ti=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.categories,"items-per-page":e.itemsPerPage,search:e.search,loading:e.loadingStatus,"show-select":""},on:{"toggle-select-all":e.selectAllToggle,"current-items":e.currentItems},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Product Categories")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.openDialog}},i),[a("v-icon",[e._v("mdi-plus-circle")])],1)]}}])},[a("span",[e._v("Add")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{disabled:!e.selected.length>0,text:"",icon:""},on:{click:e.deleteCategories}},i),[a("v-icon",[e._v("mdi-delete")])],1)]}}])},[a("span",[e._v("Delete")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""}},i),[a("v-icon",[e._v("print")])],1)]}}])},[a("span",[e._v("Print")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("json-excel",{attrs:{data:e.categories}},[a("v-btn",e._g({attrs:{text:"",icon:""}},i),[a("v-icon",[e._v("mdi-file-export")])],1)],1)]}}])},[a("span",[e._v("Export")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.refreshData}},i),[a("v-icon",[e._v("mdi-refresh")])],1)]}}])},[a("span",[e._v("Refresh")])]),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-dialog",{attrs:{persistent:"",value:e.dialog,"max-width":"500px"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",[a("v-text-field",{attrs:{autofocus:"","error-messages":e.nameErrors,label:"Name",required:"",disabled:e.loadingStatus},on:{input:function(t){return e.$v.editedCategory.name.$touch()},keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.save(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.close(t)}]},model:{value:e.editedCategory.name,callback:function(t){e.$set(e.editedCategory,"name",t)},expression:"editedCategory.name"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:e.close}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"blue",text:"",loading:e.loadingStatus},on:{click:e.save}},[e._v("Save")])],1)],1)],1)],1)]},proxy:!0},{key:"header.data-table-select",fn:function(t){var i=t.on,r=t.props;return[a("v-simple-checkbox",e._g(e._b({attrs:{disabled:e.categories.length===e.disabledCount}},"v-simple-checkbox",r,!1),i))]}},{key:"item.data-table-select",fn:function(e){var t=e.item,i=e.isSelected,r=e.select;return[a("v-simple-checkbox",{attrs:{value:i,readonly:t.items.length>0,disabled:t.items.length>0},on:{input:function(e){return r(e)}}})]}},{key:"item.action",fn:function(t){var i=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:"",title:"Edit"},on:{click:function(t){return e.editCategory(i,1)}}},[e._v(" mdi-pencil ")]),a("v-icon",{attrs:{small:"",title:"Duplicate"},on:{click:function(t){return e.editCategory(i,2)}}},[e._v(" mdi-content-duplicate ")])]}}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1)],1)},ai=[],ii={components:{JsonExcel:_t["a"]},mixins:[nt["validationMixin"]],data:function(){return{search:"",selected:[],disabledCount:0,headers:[{text:"Name",align:"left",value:"name"},{text:"Actions",align:"center",value:"action",sortable:!1}],editedIndex:-1,editedCategory:{name:""},defaultCategory:{name:""},itemsPerPage:5,current_items:0}},validations:{editedCategory:{name:{required:ot["required"],isUnique:function(e){if(""===e)return!0;var t=this.categories.filter((function(t){return t.name==e})).length;return 1!==t}}}},computed:Object(c["a"])(Object(c["a"])({},Object(l["b"])({categories:"productCategory/getCategories",categoryErrors:"productCategory/getCategoryErrors"})),{},{dialog:function(){return this.$store.state.dialog},loadingStatus:function(){return this.$store.state.loading},formTitle:function(){return-1===this.editedIndex?"New Product Category":"Edit Product Category"},nameErrors:function(){var e=[];if(!this.$v.editedCategory.name.$dirty)return e;var t=null;t=this.categoryErrors["name|required"]?this.categoryErrors["name|required"]:"The name field is required.";var a=null;return a=this.categoryErrors["name|unique"]?this.categoryErrors["name|unique"]:"The name already taken.",!this.$v.editedCategory.name.required&&e.push(t),!this.$v.editedCategory.name.isUnique&&e.push(a),e}}),watch:{categories:function(){this.$v.$reset()}},created:function(){this.$store.dispatch("productCategory/fetchCategories")},methods:{refreshData:function(){this.$store.dispatch("productCategory/fetchCategories")},openDialog:function(){this.editedIndex=-1,this.editedCategory=Object.assign({},this.defaultCategory),this.$store.dispatch("triggerDialog",!0)},editCategory:function(e,t){this.editedIndex=2==t?-1:this.categories.indexOf(e),this.editedCategory=Object.assign({},e),this.$store.dispatch("triggerDialog",!0)},deleteCategories:function(){var e=this,t=this.$data.selected,a=t.map((function(e){return e.id})),i=t.map((function(e){var t="<br />"+e.name;return t}));this.$dialog.warning({text:"<h3><em>You are about to delete an item(s):</em></h3>"+i,title:"Confirm Delete",actions:{false:"Cancel",true:{text:"Confirm",color:"warning"}}}).then((function(t){t&&(e.$store.dispatch("productCategory/deleteCategories",a),e.$data.selected=[])}))},close:function(){this.editedIndex=-1,this.$v.$reset(),this.$store.dispatch("triggerDialog",!1)},save:function(){this.$v.$touch(),this.editedIndex>-1?this.$store.dispatch("productCategory/updateCategory",this.editedCategory):this.$store.dispatch("productCategory/storeCategory",this.editedCategory)},selectAllToggle:function(e){if(this.selected.length!=this.current_items-this.disabledCount){this.selected=[];var t=this;e.items.forEach((function(e){!e.items.length>0&&t.selected.push(e)})),t.disabledCount=this.current_items-this.selected.length}else this.selected=[]},currentItems:function(e){this.current_items=e.length}}},ri=ii,ni=Object(m["a"])(ri,ti,ai,!1,null,null,null),oi=ni.exports;v()(ni,{VBtn:O["a"],VCard:N["a"],VCardActions:$["a"],VCardText:$["c"],VCardTitle:$["d"],VCol:R["a"],VContainer:we["a"],VDataTable:P["a"],VDialog:V["a"],VDivider:h["a"],VIcon:f["a"],VRow:B["a"],VSimpleCheckbox:Tt["a"],VSpacer:F["a"],VTextField:qe["a"],VToolbar:W["a"],VToolbarTitle:J["b"],VTooltip:Q["a"]});var si=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.types,search:e.search,loading:e.loadingStatus,"show-select":""},on:{"toggle-select-all":e.selectAllToggle},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Service Types")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.openDialog}},i),[a("v-icon",[e._v("mdi-plus-circle")])],1)]}}])},[a("span",[e._v("Add")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{disabled:!e.selected.length>0,text:"",icon:""},on:{click:e.deleteTypes}},i),[a("v-icon",[e._v("delete")])],1)]}}])},[a("span",[e._v("Delete")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""}},i),[a("v-icon",[e._v("print")])],1)]}}])},[a("span",[e._v("Print")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("json-excel",{attrs:{data:e.types}},[a("v-btn",e._g({attrs:{text:"",icon:""}},i),[a("v-icon",[e._v("mdi-file-export")])],1)],1)]}}])},[a("span",[e._v("Export")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.refreshData}},i),[a("v-icon",[e._v("mdi-refresh")])],1)]}}])},[a("span",[e._v("Refresh")])]),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-dialog",{attrs:{persistent:"",value:e.dialog,"max-width":"500px"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",[a("v-text-field",{attrs:{autofocus:"","error-messages":e.nameErrors,label:"Name",required:"",disabled:e.loadingStatus},on:{input:function(t){return e.$v.editedType.name.$touch()},keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.save(t)}},model:{value:e.editedType.name,callback:function(t){e.$set(e.editedType,"name",t)},expression:"editedType.name"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:e.close}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"blue darken-1",text:"",loading:e.loadingStatus},on:{click:e.save}},[e._v("Save")])],1)],1)],1)],1)]},proxy:!0},{key:"header.data-table-select",fn:function(t){var i=t.on,r=t.props;return[a("v-simple-checkbox",e._g(e._b({attrs:{disabled:e.types.length===e.disabledCount}},"v-simple-checkbox",r,!1),i))]}},{key:"item.data-table-select",fn:function(e){var t=e.item,i=e.isSelected,r=e.select;return[a("v-simple-checkbox",{attrs:{value:i,readonly:t.connectivity_tickets.length>0,disabled:t.connectivity_tickets.length>0},on:{input:function(e){return r(e)}}})]}},{key:"item.action",fn:function(t){var i=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editType(i,1)}}},[e._v(" mdi-pencil ")]),a("v-icon",{attrs:{small:""},on:{click:function(t){return e.editType(i,2)}}},[e._v(" mdi-content-duplicate ")])]}}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1)],1)},ci=[],li={components:{JsonExcel:_t["a"]},mixins:[nt["validationMixin"]],data:function(){return{search:"",selected:[],disabledCount:0,headers:[{text:"Name",align:"left",value:"name"},{text:"Actions",align:"center",value:"action",sortable:!1}],editedIndex:-1,editedType:{name:""},defaultType:{name:""}}},validations:{editedType:{name:{required:ot["required"],isUnique:function(e){if(""===e)return!0;var t=this.types.filter((function(t){return t.name==e})).length;return 1!==t}}}},computed:Object(c["a"])(Object(c["a"])({},Object(l["b"])({types:"serviceType/getTypes",typeErrors:"serviceType/getTypeErrors"})),{},{dialog:function(){return this.$store.state.dialog},loadingStatus:function(){return this.$store.state.loading},formTitle:function(){return-1===this.editedIndex?"New Service Type":"Edit Service Type"},nameErrors:function(){var e=[];if(!this.$v.editedType.name.$dirty)return e;var t=null;t=this.typeErrors["name|required"]?this.typeErrors["name|required"]:"The name field is required.";var a=null;return a=this.typeErrors["name|unique"]?this.typeErrors["name|unique"]:"The name already taken.",!this.$v.editedType.name.required&&e.push(t),!this.$v.editedType.name.isUnique&&e.push(a),e}}),watch:{types:function(){this.$v.$reset()}},created:function(){this.$store.dispatch("serviceType/fetchTypes")},methods:{refreshData:function(){this.$store.dispatch("serviceType/fetchTypes")},openDialog:function(){this.editedIndex=-1,this.editedType=Object.assign({},this.defaultType),this.$store.dispatch("triggerDialog",!0)},editType:function(e,t){this.editedIndex=2==t?-1:this.types.indexOf(e),this.editedType=Object.assign({},e),this.$store.dispatch("triggerDialog",!0)},deleteTypes:function(){var e=this,t=this.$data.selected,a=t.map((function(e){return e.id})),i=t.map((function(e){var t="<br />"+e.name;return t}));this.$dialog.warning({text:"<h3><em>You are about to delete an item(s):</em></h3>"+i,title:"Confirm Delete",actions:{false:"Cancel",true:{text:"Confirm",color:"warning"}}}).then((function(t){t&&(e.$store.dispatch("serviceType/deleteTypes",a),e.$data.selected=[])}))},close:function(){this.editedIndex=-1,this.$v.$reset(),this.$store.dispatch("triggerDialog",!1)},save:function(){this.$v.$touch(),this.editedIndex>-1?this.$store.dispatch("serviceType/updateType",this.editedType):this.$store.dispatch("serviceType/storeType",this.editedType)},selectAllToggle:function(e){if(this.selected.length!=this.types.length-this.disabledCount){this.selected=[];var t=this;e.items.forEach((function(e){!e.connectivity_tickets.length>0&&t.selected.push(e)})),t.disabledCount=this.types.length-this.selected.length}else this.selected=[]}}},di=li,ui=Object(m["a"])(di,si,ci,!1,null,null,null),mi=ui.exports;v()(ui,{VBtn:O["a"],VCard:N["a"],VCardActions:$["a"],VCardText:$["c"],VCardTitle:$["d"],VCol:R["a"],VContainer:we["a"],VDataTable:P["a"],VDialog:V["a"],VDivider:h["a"],VIcon:f["a"],VRow:B["a"],VSimpleCheckbox:Tt["a"],VSpacer:F["a"],VTextField:qe["a"],VToolbar:W["a"],VToolbarTitle:J["b"],VTooltip:Q["a"]});var pi=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.categories,"items-per-page":e.itemsPerPage,search:e.search,loading:e.loadingStatus,"show-select":""},on:{"toggle-select-all":e.selectAllToggle,"current-items":e.currentItems},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Service Categories")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.openDialog}},i),[a("v-icon",[e._v("mdi-plus-circle")])],1)]}}])},[a("span",[e._v("Add")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{disabled:!e.selected.length>0,text:"",icon:""},on:{click:e.deleteCategories}},i),[a("v-icon",[e._v("mdi-delete")])],1)]}}])},[a("span",[e._v("Delete")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""}},i),[a("v-icon",[e._v("print")])],1)]}}])},[a("span",[e._v("Print")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("json-excel",{attrs:{data:e.categories}},[a("v-btn",e._g({attrs:{text:"",icon:""}},i),[a("v-icon",[e._v("mdi-file-export")])],1)],1)]}}])},[a("span",[e._v("Export")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.refreshData}},i),[a("v-icon",[e._v("mdi-refresh")])],1)]}}])},[a("span",[e._v("Refresh")])]),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-dialog",{attrs:{persistent:"",value:e.dialog,"max-width":"500px"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",[a("v-text-field",{attrs:{autofocus:"","error-messages":e.nameErrors,label:"Name",required:"",disabled:e.loadingStatus},on:{input:function(t){return e.$v.editedCategory.name.$touch()},keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.save(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.close(t)}]},model:{value:e.editedCategory.name,callback:function(t){e.$set(e.editedCategory,"name",t)},expression:"editedCategory.name"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:e.close}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"blue",text:"",loading:e.loadingStatus},on:{click:e.save}},[e._v("Save")])],1)],1)],1)],1)]},proxy:!0},{key:"header.data-table-select",fn:function(t){var i=t.on,r=t.props;return[a("v-simple-checkbox",e._g(e._b({attrs:{disabled:e.categories.length===e.disabledCount}},"v-simple-checkbox",r,!1),i))]}},{key:"item.data-table-select",fn:function(e){var t=e.item,i=e.isSelected,r=e.select;return[a("v-simple-checkbox",{attrs:{value:i,readonly:t.connectivity_tickets.length>0,disabled:t.connectivity_tickets.length>0},on:{input:function(e){return r(e)}}})]}},{key:"item.action",fn:function(t){var i=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:"",title:"Edit"},on:{click:function(t){return e.editCategory(i,1)}}},[e._v(" mdi-pencil ")]),a("v-icon",{attrs:{small:"",title:"Duplicate"},on:{click:function(t){return e.editCategory(i,2)}}},[e._v(" mdi-content-duplicate ")])]}}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1)],1)},vi=[],hi={components:{JsonExcel:_t["a"]},mixins:[nt["validationMixin"]],data:function(){return{search:"",selected:[],disabledCount:0,headers:[{text:"Name",align:"left",value:"name"},{text:"Actions",align:"center",value:"action",sortable:!1}],editedIndex:-1,editedCategory:{name:""},defaultCategory:{name:""},itemsPerPage:5,current_items:0}},validations:{editedCategory:{name:{required:ot["required"],isUnique:function(e){if(""===e)return!0;var t=this.categories.filter((function(t){return t.name==e})).length;return 1!==t}}}},computed:Object(c["a"])(Object(c["a"])({},Object(l["b"])({categories:"serviceCategory/getCategories",categoryErrors:"serviceCategory/getCategoryErrors"})),{},{dialog:function(){return this.$store.state.dialog},loadingStatus:function(){return this.$store.state.loading},formTitle:function(){return-1===this.editedIndex?"New Service Category":"Edit Service Category"},nameErrors:function(){var e=[];if(!this.$v.editedCategory.name.$dirty)return e;var t=null;t=this.categoryErrors["name|required"]?this.categoryErrors["name|required"]:"The name field is required.";var a=null;return a=this.categoryErrors["name|unique"]?this.categoryErrors["name|unique"]:"The name already taken.",!this.$v.editedCategory.name.required&&e.push(t),!this.$v.editedCategory.name.isUnique&&e.push(a),e}}),watch:{categories:function(){this.$v.$reset()}},created:function(){this.$store.dispatch("serviceCategory/fetchCategories")},methods:{refreshData:function(){this.$store.dispatch("serviceCategory/fetchCategories")},openDialog:function(){this.editedIndex=-1,this.editedCategory=Object.assign({},this.defaultCategory),this.$store.dispatch("triggerDialog",!0)},editCategory:function(e,t){this.editedIndex=2==t?-1:this.categories.indexOf(e),this.editedCategory=Object.assign({},e),this.$store.dispatch("triggerDialog",!0)},deleteCategories:function(){var e=this,t=this.$data.selected,a=t.map((function(e){return e.id})),i=t.map((function(e){var t="<br />"+e.name;return t}));this.$dialog.warning({text:"<h3><em>You are about to delete an item(s):</em></h3>"+i,title:"Confirm Delete",actions:{false:"Cancel",true:{text:"Confirm",color:"warning"}}}).then((function(t){t&&(e.$store.dispatch("serviceCategory/deleteCategories",a),e.$data.selected=[])}))},close:function(){this.editedIndex=-1,this.$v.$reset(),this.$store.dispatch("triggerDialog",!1)},save:function(){this.$v.$touch(),this.editedIndex>-1?this.$store.dispatch("serviceCategory/updateCategory",this.editedCategory):this.$store.dispatch("serviceCategory/storeCategory",this.editedCategory)},selectAllToggle:function(e){if(this.selected.length!=this.current_items-this.disabledCount){this.selected=[];var t=this;e.items.forEach((function(e){!e.connectivity_tickets.length>0&&t.selected.push(e)})),t.disabledCount=this.current_items-this.selected.length}else this.selected=[]},currentItems:function(e){this.current_items=e.length}}},fi=hi,_i=Object(m["a"])(fi,pi,vi,!1,null,null,null),gi=_i.exports;v()(_i,{VBtn:O["a"],VCard:N["a"],VCardActions:$["a"],VCardText:$["c"],VCardTitle:$["d"],VCol:R["a"],VContainer:we["a"],VDataTable:P["a"],VDialog:V["a"],VDivider:h["a"],VIcon:f["a"],VRow:B["a"],VSimpleCheckbox:Tt["a"],VSpacer:F["a"],VTextField:qe["a"],VToolbar:W["a"],VToolbarTitle:J["b"],VTooltip:Q["a"]});var bi=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.providers,search:e.search,loading:e.loadingStatus,"show-select":""},on:{"toggle-select-all":e.selectAllToggle},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Service Providers")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.openDialog}},i),[a("v-icon",[e._v("mdi-plus-circle")])],1)]}}])},[a("span",[e._v("Add")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{disabled:!e.selected.length>0,text:"",icon:""},on:{click:e.deleteProviders}},i),[a("v-icon",[e._v("delete")])],1)]}}])},[a("span",[e._v("Delete")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""}},i),[a("v-icon",[e._v("print")])],1)]}}])},[a("span",[e._v("Print")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("json-excel",{attrs:{data:e.providers}},[a("v-btn",e._g({attrs:{text:"",icon:""}},i),[a("v-icon",[e._v("mdi-file-export")])],1)],1)]}}])},[a("span",[e._v("Export")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.refreshData}},i),[a("v-icon",[e._v("mdi-refresh")])],1)]}}])},[a("span",[e._v("Refresh")])]),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-dialog",{attrs:{persistent:"",value:e.dialog,"max-width":"500px"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",[a("v-text-field",{attrs:{autofocus:"","error-messages":e.nameErrors,label:"Name",required:"",disabled:e.loadingStatus},on:{input:function(t){return e.$v.editedProvider.name.$touch()},keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.save(t)}},model:{value:e.editedProvider.name,callback:function(t){e.$set(e.editedProvider,"name",t)},expression:"editedProvider.name"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:e.close}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"blue darken-1",text:"",loading:e.loadingStatus},on:{click:e.save}},[e._v("Save")])],1)],1)],1)],1)]},proxy:!0},{key:"header.data-table-select",fn:function(t){var i=t.on,r=t.props;return[a("v-simple-checkbox",e._g(e._b({attrs:{disabled:e.providers.length===e.disabledCount}},"v-simple-checkbox",r,!1),i))]}},{key:"item.data-table-select",fn:function(e){var t=e.item,i=e.isSelected,r=e.select;return[a("v-simple-checkbox",{attrs:{value:i,readonly:t.connectivity_tickets.length>0,disabled:t.connectivity_tickets.length>0},on:{input:function(e){return r(e)}}})]}},{key:"item.action",fn:function(t){var i=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editProvider(i,1)}}},[e._v(" mdi-pencil ")]),a("v-icon",{attrs:{small:""},on:{click:function(t){return e.editProvider(i,2)}}},[e._v(" mdi-content-duplicate ")])]}}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1)],1)},xi=[],Ti={components:{JsonExcel:_t["a"]},mixins:[nt["validationMixin"]],data:function(){return{search:"",selected:[],disabledCount:0,headers:[{text:"Name",align:"left",value:"name"},{text:"Actions",align:"center",value:"action",sortable:!1}],editedIndex:-1,editedProvider:{name:""},defaultProvider:{name:""}}},validations:{editedProvider:{name:{required:ot["required"],isUnique:function(e){if(""===e)return!0;var t=this.providers.filter((function(t){return t.name==e})).length;return 1!==t}}}},computed:Object(c["a"])(Object(c["a"])({},Object(l["b"])({providers:"serviceProvider/getProviders",providerErrors:"serviceProvider/getProviderErrors"})),{},{dialog:function(){return this.$store.state.dialog},loadingStatus:function(){return this.$store.state.loading},formTitle:function(){return-1===this.editedIndex?"New Service Provider":"Edit Service Provider"},nameErrors:function(){var e=[];if(!this.$v.editedProvider.name.$dirty)return e;var t=null;t=this.providerErrors["name|required"]?this.providerErrors["name|required"]:"The name field is required.";var a=null;return a=this.providerErrors["name|unique"]?this.providerErrors["name|unique"]:"The name already taken.",!this.$v.editedProvider.name.required&&e.push(t),!this.$v.editedProvider.name.isUnique&&e.push(a),e}}),watch:{providers:function(){this.$v.$reset()}},created:function(){this.$store.dispatch("serviceProvider/fetchProviders")},methods:{refreshData:function(){this.$store.dispatch("serviceProvider/fetchProviders")},openDialog:function(){this.editedIndex=-1,this.editedProvider=Object.assign({},this.defaultProvider),this.$store.dispatch("triggerDialog",!0)},editProvider:function(e,t){this.editedIndex=2==t?-1:this.providers.indexOf(e),this.editedProvider=Object.assign({},e),this.$store.dispatch("triggerDialog",!0)},deleteProviders:function(){var e=this,t=this.$data.selected,a=t.map((function(e){return e.id})),i=t.map((function(e){var t="<br />"+e.name;return t}));this.$dialog.warning({text:"<h3><em>You are about to delete an item(s):</em></h3>"+i,title:"Confirm Delete",actions:{false:"Cancel",true:{text:"Confirm",color:"warning"}}}).then((function(t){t&&(e.$store.dispatch("serviceProvider/deleteProviders",a),e.$data.selected=[])}))},close:function(){this.editedIndex=-1,this.$v.$reset(),this.$store.dispatch("triggerDialog",!1)},save:function(){this.$v.$touch(),this.editedIndex>-1?this.$store.dispatch("serviceProvider/updateProvider",this.editedProvider):this.$store.dispatch("serviceProvider/storeProvider",this.editedProvider)},selectAllToggle:function(e){if(this.selected.length!=this.providers.length-this.disabledCount){this.selected=[];var t=this;e.items.forEach((function(e){!e.connectivity_tickets.length>0&&t.selected.push(e)})),t.disabledCount=this.providers.length-this.selected.length}else this.selected=[]}}},yi=Ti,Si=Object(m["a"])(yi,bi,xi,!1,null,null,null),Di=Si.exports;v()(Si,{VBtn:O["a"],VCard:N["a"],VCardActions:$["a"],VCardText:$["c"],VCardTitle:$["d"],VCol:R["a"],VContainer:we["a"],VDataTable:P["a"],VDialog:V["a"],VDivider:h["a"],VIcon:f["a"],VRow:B["a"],VSimpleCheckbox:Tt["a"],VSpacer:F["a"],VTextField:qe["a"],VToolbar:W["a"],VToolbarTitle:J["b"],VTooltip:Q["a"]});var ki=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.tickets,"items-per-page":e.itemsPerPage,search:e.search,loading:e.loadingStatus,"show-select":"","show-expand":"","multi-sort":"","single-expand":""},on:{"toggle-select-all":e.selectAllToggle,"current-items":e.currentItems},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Computerware Tickets")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.openDialog}},i),[a("v-icon",[e._v("mdi-plus-circle")])],1)]}}])},[a("span",[e._v("Add")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{disabled:!e.selected.length>0,text:"",icon:""},on:{click:e.deleteTickets}},i),[a("v-icon",[e._v("mdi-delete")])],1)]}}])},[a("span",[e._v("Delete")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""}},i),[a("v-icon",[e._v("print")])],1)]}}])},[a("span",[e._v("Print")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("json-excel",{attrs:{data:e.tickets}},[a("v-btn",e._g({attrs:{text:"",icon:""}},i),[a("v-icon",[e._v("mdi-file-export")])],1)],1)]}}])},[a("span",[e._v("Export")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.refreshData}},i),[a("v-icon",[e._v("mdi-refresh")])],1)]}}])},[a("span",[e._v("Refresh")])]),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-dialog",{attrs:{persistent:"",scrollable:"",value:e.dialog,"max-width":"500px"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",[a("v-text-field",{attrs:{label:"Ticket # (auto-generated)",disabled:""},on:{input:function(t){return e.$v.editedTicket.ticket_number.$touch()}},model:{value:e.editedTicket.ticket_number,callback:function(t){e.$set(e.editedTicket,"ticket_number",t)},expression:"editedTicket.ticket_number"}}),a("v-autocomplete",{attrs:{"error-messages":e.branchErrors,disabled:e.loadingStatus,items:e.branches,"item-text":"name","item-value":"id",label:"Select Branch"},model:{value:e.editedTicket.branch,callback:function(t){e.$set(e.editedTicket,"branch",t)},expression:"editedTicket.branch"}}),a("v-autocomplete",{attrs:{"error-messages":e.productItemErrors,disabled:e.loadingStatus,items:e.productItems,"item-text":"item","item-value":"id",label:"Select Product Item"},model:{value:e.editedTicket.productItem,callback:function(t){e.$set(e.editedTicket,"productItem",t)},expression:"editedTicket.productItem"}}),a("v-text-field",{attrs:{"error-messages":e.problemErrors,label:"Problem",disabled:e.loadingStatus},on:{input:function(t){return e.$v.editedTicket.problem.$touch()}},model:{value:e.editedTicket.problem,callback:function(t){e.$set(e.editedTicket,"problem",t)},expression:"editedTicket.problem"}}),a("v-text-field",{attrs:{"error-messages":e.serialErrors,label:"Serial",disabled:e.loadingStatus},on:{input:function(t){return e.$v.editedTicket.product_item_serial_number.$touch()}},model:{value:e.editedTicket.product_item_serial_number,callback:function(t){e.$set(e.editedTicket,"product_item_serial_number",t)},expression:"editedTicket.product_item_serial_number"}}),a("v-text-field",{attrs:{"error-messages":e.reportedByNameErrors,label:"Reported by",disabled:e.loadingStatus},on:{input:function(t){return e.$v.editedTicket.reported_by_name.$touch()}},model:{value:e.editedTicket.reported_by_name,callback:function(t){e.$set(e.editedTicket,"reported_by_name",t)},expression:"editedTicket.reported_by_name"}}),a("v-text-field",{attrs:{"error-messages":e.reportedByPositionErrors,label:"Position",disabled:e.loadingStatus},on:{input:function(t){return e.$v.editedTicket.reported_by_position.$touch()}},model:{value:e.editedTicket.reported_by_position,callback:function(t){e.$set(e.editedTicket,"reported_by_position",t)},expression:"editedTicket.reported_by_position"}}),a("v-text-field",{attrs:{"error-messages":e.assignedTechErrors,label:"Assign Tech.",disabled:e.loadingStatus},on:{input:function(t){return e.$v.editedTicket.assigned_tech.$touch()}},model:{value:e.editedTicket.assigned_tech,callback:function(t){e.$set(e.editedTicket,"assigned_tech",t)},expression:"editedTicket.assigned_tech"}}),a("v-textarea",{attrs:{"auto-grow":"","row-height":"1","error-messages":e.remarksErrors,label:"Remarks",disabled:e.loadingStatus},on:{input:function(t){return e.$v.editedTicket.remarks.$touch()}},model:{value:e.editedTicket.remarks,callback:function(t){e.$set(e.editedTicket,"remarks",t)},expression:"editedTicket.remarks"}}),a("v-select",{attrs:{items:e.reportStatus,"error-messages":e.statusErrors,disabled:e.loadingStatus,"item-text":"text","item-value":"id",label:"Status"},model:{value:e.editedTicket.report_status,callback:function(t){e.$set(e.editedTicket,"report_status",t)},expression:"editedTicket.report_status"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:e.close}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"blue",text:"",loading:e.loadingStatus},on:{click:e.save}},[e._v("Save")])],1)],1)],1)],1)]},proxy:!0},{key:"expanded-item",fn:function(t){var i=t.item;return[a("td",{staticClass:"text-xs-center",attrs:{colspan:e.headers.length+1}},[a("v-list-item",{attrs:{"two-line":""}},[a("v-list-item-content",[a("v-list-item-title",[e._v(" "+e._s(i.branch.name.toUpperCase())+" ("+e._s(i.ticket_number)+") "),a("v-chip",{attrs:{small:"",color:1===i.report_status?"green":"red","text-color":"white"}},[e._v(" "+e._s(1===i.report_status?"Open":"Closed")+" ")])],1),a("v-list-item-title",[e._v(" "+e._s(i.item.brand.name)+" "+e._s(i.item.category.name)+" ("+e._s(i.item.model)+") - "+e._s(i.product_item_serial_number)+" ")]),a("v-list-item-subtitle",[e._v(" "+e._s(i.problem)+" ")]),a("v-list-item-title",[e._v("Reported By")]),a("v-list-item-subtitle",[e._v(" "+e._s(i.reported_by)+" ")]),a("v-list-item-title",[e._v("Date Reported / Closed")]),a("v-list-item-subtitle",[e._v(" "+e._s(i.date_reported)+" / "+e._s(i.date_closed?i.date_closed:"Not closed")+" ")]),a("v-list-item-title",[e._v("Assigned Tech.")]),a("v-list-item-subtitle",[e._v(" "+e._s(i.assigned_tech)+" ")]),a("v-list-item-title",[e._v("Remarks")]),a("v-list-item-subtitle",[e._v(" "+e._s(i.remarks?i.remarks:"N/A")+" ")]),a("v-list-item-title",[e._v("Logged By")]),a("v-list-item-subtitle",[e._v(" "+e._s(i.logged_by.name)+" ")])],1)],1)],1)]}},{key:"header.data-table-select",fn:function(t){var i=t.on,r=t.props;return[a("v-simple-checkbox",e._g(e._b({attrs:{disabled:e.tickets.length===e.disabledCount}},"v-simple-checkbox",r,!1),i))]}},{key:"item.report_status",fn:function(t){var i=t.item;return[a("v-chip",{attrs:{small:"",color:1===i.report_status?"green":"red","text-color":"white"}},[e._v(" "+e._s(1===i.report_status?"Open":"Closed")+" ")])]}},{key:"item.action",fn:function(t){var i=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:"",title:"Edit"},on:{click:function(t){return e.editTicket(i,1)}}},[e._v(" mdi-pencil ")]),a("v-icon",{attrs:{small:"",title:"Duplicate"},on:{click:function(t){return e.editTicket(i,2)}}},[e._v(" mdi-content-duplicate ")])]}}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1)],1)},Ei=[],Ai={components:{JsonExcel:_t["a"]},mixins:[nt["validationMixin"]],data:function(){return{reportStatus:[{id:1,text:"Open"},{id:2,text:"Closed"}],search:"",expand:!1,selected:[],disabledCount:0,headers:[{text:"",align:"left",value:"expand",sortable:!1},{text:"Ticket #",align:"left",value:"ticket_number"},{text:"Branch",align:"left",value:"branch.name"},{text:"Status",align:"left",value:"report_status"},{text:"Product Item",align:" d-none",value:"item.model"},{text:"Product Category",align:" d-none",value:"item.category.name"},{text:"Product Brand",align:" d-none",value:"item.brand.name"},{text:"Serial",align:" d-none",value:"product_item_serial_number"},{text:"Actions",align:"center",value:"action",sortable:!1}],editedIndex:-1,editedTicket:{name:"",branch:"",productItem:"",loggedBy:"",problem:"",product_item_serial_number:"",reported_by_name:"",reported_by_position:"",date_reported:"",date_closed:"",assigned_tech:"",reported_status:"",remarks:""},defaultTicket:{name:"",branch:"",productItem:"",loggedBy:"",problem:"",product_item_serial_number:"",reported_by_name:"",reported_by_position:"",date_reported:"",date_closed:"",assigned_tech:"",reported_status:"",remarks:""},itemsPerPage:5,current_items:0}},validations:{editedTicket:{branch:{required:ot["required"]},productItem:{required:ot["required"]},problem:{required:ot["required"]},reported_by_name:{required:ot["required"]},reported_by_position:{required:ot["required"]},assigned_tech:{required:ot["required"]},remarks:{required:ot["required"]},report_status:{required:ot["required"]},product_item_serial_number:{required:ot["required"],isUnique:function(e){if(""===e)return!0;var t=this.tickets.filter((function(t){return t.product_item_serial_number==e})).length;return 1!==t}}}},computed:Object(c["a"])(Object(c["a"])({},Object(l["b"])({tickets:"computerwareTicket/getTickets",ticketErrors:"computerwareTicket/getTicketErrors",branches:"branch/getBranches",productItems:"productItem/getItems"})),{},{dialog:function(){return this.$store.state.dialog},loadingStatus:function(){return this.$store.state.loading},formTitle:function(){return-1===this.editedIndex?"New Ticket":"Edit Ticket"},branchErrors:function(){var e=[];if(!this.$v.editedTicket.branch.$dirty)return e;var t=null;return t=this.ticketErrors["branch|required"]?this.ticketErrors["branch|required"]:"The branch field is required.",!this.$v.editedTicket.branch.required&&e.push(t),e},productItemErrors:function(){var e=[];if(!this.$v.editedTicket.productItem.$dirty)return e;var t=null;return t=this.ticketErrors["productItem|required"]?this.ticketErrors["productItem|required"]:"The product item field is required.",!this.$v.editedTicket.productItem.required&&e.push(t),e},problemErrors:function(){var e=[];if(!this.$v.editedTicket.problem.$dirty)return e;var t=null;return t=this.ticketErrors["problem|required"]?this.ticketErrors["problem|required"]:"The problem field is required.",!this.$v.editedTicket.problem.required&&e.push(t),e},serialErrors:function(){var e=[];if(!this.$v.editedTicket.product_item_serial_number.$dirty)return e;var t=null;t=this.ticketErrors["product_item_serial_number|required"]?this.ticketErrors["product_item_serial_number|required"]:"The serial field is required.";var a=null;return a=this.ticketErrors["product_item_serial_number|unique"]?this.ticketErrors["product_item_serial_number|unique"]:"The serial has already been taken.",!this.$v.editedTicket.product_item_serial_number.required&&e.push(t),!this.$v.editedTicket.product_item_serial_number.isUnique&&e.push(a),e},reportedByNameErrors:function(){var e=[];if(!this.$v.editedTicket.reported_by_name.$dirty)return e;var t=null;return t=this.ticketErrors["reported_by_name|required"]?this.ticketErrors["reported_by_name|required"]:"The reported by name field is required.",!this.$v.editedTicket.reported_by_name.required&&e.push(t),e},reportedByPositionErrors:function(){var e=[];if(!this.$v.editedTicket.reported_by_position.$dirty)return e;var t=null;return t=this.ticketErrors["reported_by_position|required"]?this.ticketErrors["reported_by_position|required"]:"The reported by position field is required.",!this.$v.editedTicket.reported_by_position.required&&e.push(t),e},assignedTechErrors:function(){var e=[];if(!this.$v.editedTicket.assigned_tech.$dirty)return e;var t=null;return t=this.ticketErrors["assigned_tech|required"]?this.ticketErrors["assigned_tech|required"]:"The assigned tech field is required.",!this.$v.editedTicket.assigned_tech.required&&e.push(t),e},remarksErrors:function(){var e=[];if(!this.$v.editedTicket.remarks.$dirty)return e;var t=null;return t=this.ticketErrors["remarks|required"]?this.ticketErrors["remarks|required"]:"The remarks field is required.",!this.$v.editedTicket.remarks.required&&e.push(t),e},statusErrors:function(){var e=[];if(!this.$v.editedTicket.report_status.$dirty)return e;var t=null;return t=this.ticketErrors["report_status|required"]?this.ticketErrors["report_status|required"]:"The status field is required.",!this.$v.editedTicket.report_status.required&&e.push(t),e}}),watch:{tickets:function(){this.$v.$reset()}},created:function(){this.$store.dispatch("computerwareTicket/fetchTickets"),this.$store.dispatch("branch/fetchBranches"),this.$store.dispatch("productItem/fetchItems")},methods:{refreshData:function(){this.$store.dispatch("computerwareTicket/fetchTickets")},openDialog:function(){this.editedIndex=-1,this.editedTicket=Object.assign({},this.defaultTicket),this.$store.dispatch("triggerDialog",!0)},editTicket:function(e,t){this.editedIndex=2==t?-1:this.tickets.indexOf(e),this.editedTicket=Object.assign({},{id:e.id,ticket_number:e.ticket_number,branch:e.branch.id,productItem:e.item.id,problem:e.problem,product_item_serial_number:e.product_item_serial_number,reported_by_name:e.reported_by_name,reported_by_position:e.reported_by_position,assigned_tech:e.assigned_tech,report_status:e.report_status,remarks:e.remarks}),this.$store.dispatch("triggerDialog",!0)},deleteTickets:function(){var e=this,t=this.$data.selected,a=t.map((function(e){return e.id})),i=t.map((function(e){var t="<br />"+e.ticket_number;return t}));this.$dialog.warning({text:"<h3><em>You are about to delete an item(s):</em></h3>"+i,title:"Confirm Delete",actions:{false:"Cancel",true:{text:"Confirm",color:"warning"}}}).then((function(t){t&&(e.$store.dispatch("computerwareTicket/deleteTickets",a),e.$data.selected=[])}))},close:function(){this.editedIndex=-1,this.$v.$reset(),this.$store.dispatch("triggerDialog",!1)},save:function(){this.$v.$touch(),this.editedIndex>-1?this.$store.dispatch("computerwareTicket/updateTicket",this.editedTicket):this.$store.dispatch("computerwareTicket/storeTicket",this.editedTicket)},selectAllToggle:function(e){if(this.selected.length!=this.current_items-this.disabledCount){this.selected=[];var t=this;e.items.forEach((function(e){t.selected.push(e)})),t.disabledCount=this.current_items-this.selected.length}else this.selected=[]},currentItems:function(e){this.current_items=e.length}}},Ii=Ai,Ci=Object(m["a"])(Ii,ki,Ei,!1,null,null,null),Oi=Ci.exports;v()(Ci,{VAutocomplete:xt["a"],VBtn:O["a"],VCard:N["a"],VCardActions:$["a"],VCardText:$["c"],VCardTitle:$["d"],VChip:w["a"],VCol:R["a"],VContainer:we["a"],VDataTable:P["a"],VDialog:V["a"],VDivider:h["a"],VIcon:f["a"],VListItem:b["a"],VListItemContent:T["b"],VListItemSubtitle:T["c"],VListItemTitle:T["d"],VRow:B["a"],VSelect:M["a"],VSimpleCheckbox:Tt["a"],VSpacer:F["a"],VTextField:qe["a"],VTextarea:z["a"],VToolbar:W["a"],VToolbarTitle:J["b"],VTooltip:Q["a"]});var Ni=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.tickets,"items-per-page":e.itemsPerPage,search:e.search,loading:e.loadingStatus,"show-select":"","show-expand":"","multi-sort":"","single-expand":""},on:{"toggle-select-all":e.selectAllToggle,"current-items":e.currentItems},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Connectivity Tickets")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.openDialog}},i),[a("v-icon",[e._v("mdi-plus-circle")])],1)]}}])},[a("span",[e._v("Add")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{disabled:!e.selected.length>0,text:"",icon:""},on:{click:e.deleteTickets}},i),[a("v-icon",[e._v("mdi-delete")])],1)]}}])},[a("span",[e._v("Delete")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""}},i),[a("v-icon",[e._v("print")])],1)]}}])},[a("span",[e._v("Print")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("json-excel",{attrs:{data:e.tickets}},[a("v-btn",e._g({attrs:{text:"",icon:""}},i),[a("v-icon",[e._v("mdi-file-export")])],1)],1)]}}])},[a("span",[e._v("Export")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.refreshData}},i),[a("v-icon",[e._v("mdi-refresh")])],1)]}}])},[a("span",[e._v("Refresh")])]),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-dialog",{attrs:{fullscreen:"",persistent:"",scrollable:"",value:e.dialog,"max-width":"500px","hide-overlay":"",transition:"dialog-bottom-transition"}},[a("v-card",[a("v-car-title",[a("v-toolbar",[a("v-btn",{attrs:{icon:""},on:{click:e.close}},[a("v-icon",[e._v("mdi-close")])],1),a("v-toolbar-title",[e._v("Connectivity Tickets")]),a("v-spacer"),a("v-toolbar-items",[a("v-btn",{attrs:{text:""},on:{click:e.save}},[e._v("Save")])],1)],1)],1),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"4"}},[a("v-autocomplete",{attrs:{"error-messages":e.branchErrors,"search-input":e.editedTicket.branch,disabled:e.loadingStatus,items:e.branches,"item-text":"name","item-value":"id",label:"Branch",filled:""},model:{value:e.editedTicket.branch,callback:function(t){e.$set(e.editedTicket,"branch",t)},expression:"editedTicket.branch"}})],1),a("v-col",{attrs:{cols:"4"}},[a("v-text-field",{attrs:{"error-messages":e.reportedByNameErrors,disabled:e.loadingStatus,label:"Reported By"},model:{value:e.editedTicket.reported_by_name,callback:function(t){e.$set(e.editedTicket,"reported_by_name",t)},expression:"editedTicket.reported_by_name"}})],1),a("v-col",{attrs:{cols:"4"}},[a("v-text-field",{attrs:{"error-messages":e.reportedByPositionErrors,disabled:e.loadingStatus,label:"Position"},model:{value:e.editedTicket.reported_by_position,callback:function(t){e.$set(e.editedTicket,"reported_by_position",t)},expression:"editedTicket.reported_by_position"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"4"}},[a("v-autocomplete",{attrs:{"search-input":e.editedTicket.service_provider,"error-messages":e.serviceProviderErrors,disabled:e.loadingStatus,items:e.serviceProviders,"item-text":"name","item-value":"id",label:"Service Provider",filled:""},model:{value:e.editedTicket.service_provider,callback:function(t){e.$set(e.editedTicket,"service_provider",t)},expression:"editedTicket.service_provider"}})],1),a("v-col",{attrs:{cols:"4"}},[a("v-autocomplete",{attrs:{"error-messages":e.serviceTypeErrors,"search-input":e.editedTicket.service_type,disabled:e.loadingStatus,items:e.serviceTypes,"item-text":"name","item-value":"id",label:"Service Type",filled:""},model:{value:e.editedTicket.service_type,callback:function(t){e.$set(e.editedTicket,"service_type",t)},expression:"editedTicket.service_type"}})],1),a("v-col",{attrs:{cols:"4"}},[a("v-autocomplete",{attrs:{"error-messages":e.serviceCategoryErrors,"search-input":e.editedTicket.service_category,disabled:e.loadingStatus,items:e.serviceCategories,"item-text":"name","item-value":"id",label:"Service Category",filled:""},model:{value:e.editedTicket.service_category,callback:function(t){e.$set(e.editedTicket,"service_category",t)},expression:"editedTicket.service_category"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"4"}},[a("v-dialog",{attrs:{width:"400"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-text-field",e._g({attrs:{"error-messages":e.problemReportedErrors,disabled:e.loadingStatus,label:"Problem Reported To HO","prepend-icon":"event",readonly:""},model:{value:e.editedTicket.problem_reported_ho,callback:function(t){e.$set(e.editedTicket,"problem_reported_ho",t)},expression:"editedTicket.problem_reported_ho"}},i))]}}]),model:{value:e.reportedToHoDialog,callback:function(t){e.reportedToHoDialog=t},expression:"reportedToHoDialog"}},[a("v-card",[a("v-card-title",{staticClass:"text-center justify-center"},[e._v("Problem Reported to HO")]),a("v-tabs",{attrs:{centered:"",grow:""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[a("v-tabs-slider"),a("v-tab",{attrs:{href:"#date"}},[a("v-icon",[e._v("mdi-calendar")])],1),a("v-tab",{attrs:{href:"#time"}},[a("v-icon",[e._v("mdi-clock")])],1),a("v-tabs-items",{model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[a("v-tab-item",{attrs:{value:"date"}},[a("v-container",{attrs:{fluid:""}},[a("v-row",{attrs:{justify:"center"}},[a("v-date-picker",{model:{value:e.editedTicket.problem_reported_ho_date,callback:function(t){e.$set(e.editedTicket,"problem_reported_ho_date",t)},expression:"\n                                        editedTicket.problem_reported_ho_date\n                                      "}},[a("v-spacer"),a("v-btn",{attrs:{text:"",disabled:!e.editedTicket.problem_reported_ho_date},on:{click:e.nextTab}},[e._v("OK")])],1)],1)],1)],1),a("v-tab-item",{attrs:{value:"time"}},[a("v-container",{attrs:{fluid:""}},[a("v-row",{attrs:{justify:"center"}},[a("v-time-picker",{model:{value:e.editedTicket.problem_reported_ho_time,callback:function(t){e.$set(e.editedTicket,"problem_reported_ho_time",t)},expression:"\n                                        editedTicket.problem_reported_ho_time\n                                      "}},[a("v-spacer"),a("v-btn",{attrs:{disabled:!e.editedTicket.problem_reported_ho_time,text:""},on:{click:e.saveReportedToHO}},[e._v("OK")])],1)],1)],1)],1)],1)],1)],1)],1)],1),a("v-col",{attrs:{cols:"4"}},[a("v-dialog",{attrs:{width:"400"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-text-field",e._g({attrs:{disabled:e.loadingStatus,label:"Problem Reported To ISP","prepend-icon":"event",readonly:"",clearable:""},model:{value:e.editedTicket.problem_reported_isp,callback:function(t){e.$set(e.editedTicket,"problem_reported_isp",t)},expression:"editedTicket.problem_reported_isp"}},i))]}}]),model:{value:e.reportedToIspDialog,callback:function(t){e.reportedToIspDialog=t},expression:"reportedToIspDialog"}},[a("v-card",[a("v-card-title",{staticClass:"text-center justify-center"},[e._v("Problem Reported to ISP")]),a("v-tabs",{attrs:{centered:"",grow:""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[a("v-tabs-slider"),a("v-tab",{attrs:{href:"#date"}},[a("v-icon",[e._v("mdi-calendar")])],1),a("v-tab",{attrs:{href:"#time"}},[a("v-icon",[e._v("mdi-clock")])],1),a("v-tabs-items",{model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[a("v-tab-item",{attrs:{value:"date"}},[a("v-container",{attrs:{fluid:""}},[a("v-row",{attrs:{justify:"center"}},[a("v-date-picker",{model:{value:e.editedTicket.problem_reported_isp_date,callback:function(t){e.$set(e.editedTicket,"problem_reported_isp_date",t)},expression:"\n                                        editedTicket.problem_reported_isp_date\n                                      "}},[a("v-spacer"),a("v-btn",{attrs:{text:"",disabled:!e.editedTicket.problem_reported_isp_date},on:{click:e.nextTab}},[e._v("OK")])],1)],1)],1)],1),a("v-tab-item",{attrs:{value:"time"}},[a("v-container",{attrs:{fluid:""}},[a("v-row",{attrs:{justify:"center"}},[a("v-time-picker",{model:{value:e.editedTicket.problem_reported_isp_time,callback:function(t){e.$set(e.editedTicket,"problem_reported_isp_time",t)},expression:"\n                                        editedTicket.problem_reported_isp_time\n                                      "}},[a("v-spacer"),a("v-btn",{attrs:{disabled:!e.editedTicket.problem_reported_isp_time,text:""},on:{click:e.saveReportedToISP}},[e._v("OK")])],1)],1)],1)],1)],1)],1)],1)],1)],1),a("v-col",{attrs:{cols:"4"}},[a("v-dialog",{attrs:{width:"400"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-text-field",e._g({attrs:{disabled:e.loadingStatus,label:"Resolution Reported","prepend-icon":"event",readonly:"",clearable:""},model:{value:e.editedTicket.resolution_reported,callback:function(t){e.$set(e.editedTicket,"resolution_reported",t)},expression:"editedTicket.resolution_reported"}},i))]}}]),model:{value:e.resolutionReportedDialog,callback:function(t){e.resolutionReportedDialog=t},expression:"resolutionReportedDialog"}},[a("v-card",[a("v-card-title",{staticClass:"text-center justify-center"},[e._v("Resolution Reported")]),a("v-tabs",{attrs:{centered:"",grow:""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[a("v-tabs-slider"),a("v-tab",{attrs:{href:"#date"}},[a("v-icon",[e._v("mdi-calendar")])],1),a("v-tab",{attrs:{href:"#time"}},[a("v-icon",[e._v("mdi-clock")])],1),a("v-tabs-items",{model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[a("v-tab-item",{attrs:{value:"date"}},[a("v-container",{attrs:{fluid:""}},[a("v-row",{attrs:{justify:"center"}},[a("v-date-picker",{model:{value:e.editedTicket.resolution_reported_date,callback:function(t){e.$set(e.editedTicket,"resolution_reported_date",t)},expression:"\n                                        editedTicket.resolution_reported_date\n                                      "}},[a("v-spacer"),a("v-btn",{attrs:{text:"",disabled:!e.editedTicket.resolution_reported_date},on:{click:e.nextTab}},[e._v("OK")])],1)],1)],1)],1),a("v-tab-item",{attrs:{value:"time"}},[a("v-container",{attrs:{fluid:""}},[a("v-row",{attrs:{justify:"center"}},[a("v-time-picker",{model:{value:e.editedTicket.resolution_reported_time,callback:function(t){e.$set(e.editedTicket,"resolution_reported_time",t)},expression:"\n                                        editedTicket.resolution_reported_time\n                                      "}},[a("v-spacer"),a("v-btn",{attrs:{disabled:!e.editedTicket.resolution_reported_time,text:""},on:{click:e.saveResolutionReported}},[e._v("OK")])],1)],1)],1)],1)],1)],1)],1)],1)],1),a("v-col",{attrs:{cols:"4"}},[a("v-text-field",{attrs:{label:"Provider Ticket #",disabled:e.loadingStatus},model:{value:e.editedTicket.provider_ticket,callback:function(t){e.$set(e.editedTicket,"provider_ticket",t)},expression:"editedTicket.provider_ticket"}})],1),a("v-col",{attrs:{cols:"4"}},[a("v-textarea",{attrs:{"error-messages":e.problemErrors,disabled:e.loadingStatus,"row-height":"1","auto-grow":"",label:"Problem"},model:{value:e.editedTicket.problem,callback:function(t){e.$set(e.editedTicket,"problem",t)},expression:"editedTicket.problem"}})],1),a("v-col",{attrs:{cols:"4"}},[a("v-textarea",{attrs:{disabled:e.loadingStatus,"row-height":"1","auto-grow":"",label:"Last update"},model:{value:e.editedTicket.last_update,callback:function(t){e.$set(e.editedTicket,"last_update",t)},expression:"editedTicket.last_update"}})],1)],1)],1)],1)],1)],1)],1)]},proxy:!0},{key:"expanded-item",fn:function(t){var i=t.item;return[a("td",{staticClass:"text-xs-center",attrs:{colspan:e.headers.length+1}},[a("v-list-item",{attrs:{"two-line":""}},[a("v-list-item-content",[a("v-list-item-title",[e._v(" "+e._s(i.branch.name.toUpperCase())+" ("+e._s(i.ticket_number)+") "),a("v-chip",{attrs:{small:"",color:e.ticketStatus(i.status).statusColor,"text-color":"white"}},[e._v(" "+e._s(e.ticketStatus(i.status).statusLabel)+" ")]),i.survey?a("v-chip",{staticClass:"ml-2",attrs:{label:"",small:"",color:e.ticketRate(i.survey.rate).rateColor,"text-color":"white",outlined:"",title:e.surveyRate(i.survey)}},[e._v(" "+e._s(e.ticketRate(i.survey.rate).rateLabel)+" ")]):e._e()],1),a("v-list-item-title",[e._v(" "+e._s(i.service_provider.name)+" "+e._s(i.service_type.name)+" "+e._s(i.service_category.name)+" ")]),a("v-list-item-subtitle",[e._v(" "+e._s(i.problem)+" ")]),a("v-list-item-title",[e._v("Logged By")]),a("v-list-item-subtitle",[e._v(" "+e._s(i.user.name)+" "+e._s(i.updated_by?"/"+i.updated_by.name:"")+" ")]),a("v-list-item-title",[e._v("Reported By")]),a("v-list-item-subtitle",[e._v(" "+e._s(i.reported_by_name)+" ("+e._s(i.reported_by_position)+") ")]),a("v-list-item-title",[e._v("Confirmed By")]),a("v-list-item-subtitle",[e._v(" "+e._s(i.confirmed_by?i.confirmed_by.full_name:"Not yet confirmed")+" ")]),a("v-list-item-title",[e._v("Problem Reported HO / ISP")]),a("v-list-item-subtitle",[e._v(" "+e._s(e.moment(i.problem_reported_ho).format("MMM D, Y (h:mm a)"))+" "+e._s(i.problem_reported_isp?"/ "+e.moment(i.problem_reported_isp).format("MMM D, Y (h:mm a)"):"/ Not reported yet")+" ")]),a("v-list-item-title",[e._v("Resolution Reported")]),a("v-list-item-subtitle",[e._v(" "+e._s(i.resolution_reported?e.moment(i.resolution_reported).format("MMM D, Y (h:mm a)"):"Not reported yet")+" ")]),a("v-list-item-title",[e._v("Resolved")]),a("v-list-item-subtitle",[e._v(" "+e._s(e.ticketResolved(i.problem_reported_ho,i.resolution_reported))+" ")]),a("v-list-item-title",[e._v("Date Created / Updated")]),a("v-list-item-subtitle",[e._v(" "+e._s(e.moment(i.created_at).format("MMM D, Y (h:mm a)"))+" / "+e._s(e.moment(i.updated_at).format("MMM D, Y (h:mm a)"))+" ")]),a("v-list-item-title",[e._v("Last Update")]),a("v-list-item-subtitle",[e._v(" "+e._s(i.remarks?i.remarks:"None")+" ")])],1)],1)],1)]}},{key:"header.data-table-select",fn:function(t){var i=t.on,r=t.props;return[a("v-simple-checkbox",e._g(e._b({attrs:{disabled:e.tickets.length===e.disabledCount}},"v-simple-checkbox",r,!1),i))]}},{key:"item.status",fn:function(t){var i=t.item;return[a("v-chip",{attrs:{small:"",color:e.ticketStatus(i.status).statusColor,"text-color":"white"}},[e._v(" "+e._s(e.ticketStatus(i.status).statusLabel)+" ")])]}},{key:"item.action",fn:function(t){var i=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:"",title:"Edit"},on:{click:function(t){return e.editTicket(i,1)}}},[e._v(" mdi-pencil ")]),a("v-icon",{attrs:{small:"",title:"Duplicate"},on:{click:function(t){return e.editTicket(i,2)}}},[e._v(" mdi-content-duplicate ")])]}}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1)],1)},$i=[],wi={components:{JsonExcel:_t["a"]},mixins:[nt["validationMixin"]],data:function(){return{search:"",tab:!1,expand:!1,selected:[],disabledCount:0,reportedToHoDialog:!1,reportedToIspDialog:!1,resolutionReportedDialog:!1,headers:[{text:"",align:"left",value:"expand",sortable:!1},{text:"Ticket #",align:"left",value:"ticket_number"},{text:"Branch",align:"left",value:"branch.name"},{text:"Status",align:"left",value:"status"},{text:"Service Provider",align:" d-none",value:"service_provider.name"},{text:"Service Type",align:" d-none",value:"service_type.name"},{text:"Service Category",align:" d-none",value:"service_category.name"},{text:"Actions",align:"center",value:"action",sortable:!1}],editedIndex:-1,editedTicket:{branch:"",service_provider:"",service_type:"",service_category:"",problem_reported_ho_date:"",problem_reported_ho_time:"",problem_reported_ho:"",problem_reported_isp_date:"",problem_reported_isp_time:"",problem_reported_isp:"",resolution_reported_date:"",resolution_reported_time:"",resolution_reported:"",reported_by_name:"",reported_by_position:"",problem:"",last_update:"",provider_ticket:""},defaultTicket:{branch:"",service_provider:"",service_type:"",service_category:"",problem_reported_ho_date:"",problem_reported_ho_time:"",problem_reported_ho:"",problem_reported_isp_date:"",problem_reported_isp_time:"",problem_reported_isp:"",resolution_reported_date:"",resolution_reported_time:"",resolution_reported:"",reported_by_name:"",reported_by_position:"",problem:"",last_update:"",provider_ticket:""},itemsPerPage:5,current_items:0}},validations:{editedTicket:{branch:{required:ot["required"]},service_provider:{required:ot["required"]},service_type:{required:ot["required"]},service_category:{required:ot["required"]},problem_reported_ho:{required:ot["required"]},reported_by_name:{required:ot["required"]},reported_by_position:{required:ot["required"]},problem:{required:ot["required"]}}},computed:Object(c["a"])(Object(c["a"])({},Object(l["b"])({tickets:"connectivityTicket/getTickets",ticketErrors:"connectivityTicket/getTicketErrors",branches:"branch/getBranches",serviceTypes:"serviceType/getTypes",serviceCategories:"serviceCategory/getCategories",serviceProviders:"serviceProvider/getProviders"})),{},{dialog:function(){return this.$store.state.dialog},loadingStatus:function(){return this.$store.state.loading},formTitle:function(){return-1===this.editedIndex?"New Ticket":"Edit Ticket"},branchErrors:function(){var e=[];if(!this.$v.editedTicket.branch.$dirty)return e;var t=null;return t=this.ticketErrors["branch|required"]?this.ticketErrors["branch|required"]:"The branch field is required.",!this.$v.editedTicket.branch.required&&e.push(t),e},problemErrors:function(){var e=[];if(!this.$v.editedTicket.problem.$dirty)return e;var t=null;return t=this.ticketErrors["problem|required"]?this.ticketErrors["problem|required"]:"The problem field is required.",!this.$v.editedTicket.problem.required&&e.push(t),e},problemReportedErrors:function(){var e=[];if(!this.$v.editedTicket.problem_reported_ho.$dirty)return e;var t=null;return t=this.ticketErrors["problem_reported_ho|required"]?this.ticketErrors["problem_reported_ho|required"]:"This field is required.",!this.$v.editedTicket.problem_reported_ho.required&&e.push(t),e},reportedByNameErrors:function(){var e=[];if(!this.$v.editedTicket.reported_by_name.$dirty)return e;var t=null;return t=this.ticketErrors["reported_by_name|required"]?this.ticketErrors["reported_by_name|required"]:"This field is required.",!this.$v.editedTicket.reported_by_name.required&&e.push(t),e},reportedByPositionErrors:function(){var e=[];if(!this.$v.editedTicket.reported_by_position.$dirty)return e;var t=null;return t=this.ticketErrors["reported_by_position|required"]?this.ticketErrors["reported_by_position|required"]:"This field is required.",!this.$v.editedTicket.reported_by_position.required&&e.push(t),e},serviceProviderErrors:function(){var e=[];if(!this.$v.editedTicket.service_provider.$dirty)return e;var t=null;return t=this.ticketErrors["service_provider|required"]?this.ticketErrors["service_provider|required"]:"This field is required.",!this.$v.editedTicket.service_provider.required&&e.push(t),e},serviceTypeErrors:function(){var e=[];if(!this.$v.editedTicket.service_type.$dirty)return e;var t=null;return t=this.ticketErrors["service_type|required"]?this.ticketErrors["service_type|required"]:"This field is required.",!this.$v.editedTicket.service_type.required&&e.push(t),e},serviceCategoryErrors:function(){var e=[];if(!this.$v.editedTicket.service_category.$dirty)return e;var t=null;return t=this.ticketErrors["service_category|required"]?this.ticketErrors["service_category|required"]:"This field is required.",!this.$v.editedTicket.service_category.required&&e.push(t),e}}),watch:{tickets:function(){this.$v.$reset()}},created:function(){this.$store.dispatch("connectivityTicket/fetchTickets"),this.$store.dispatch("branch/fetchBranches"),this.$store.dispatch("serviceType/fetchTypes"),this.$store.dispatch("serviceCategory/fetchCategories"),this.$store.dispatch("serviceProvider/fetchProviders")},methods:{refreshData:function(){this.$store.dispatch("connectivityTicket/fetchTickets"),this.$store.dispatch("branch/fetchBranches"),this.$store.dispatch("serviceType/fetchTypes"),this.$store.dispatch("serviceCategory/fetchCategories"),this.$store.dispatch("serviceProvider/fetchProviders")},nextTab:function(){this.tab="time"},saveReportedToHO:function(){this.tab="date",this.reportedToHoDialog=!1;var e=this.moment(this.editedTicket.problem_reported_ho_date+" "+this.editedTicket.problem_reported_ho_time).format("YYYY-MM-DD HH:mm:ss");this.editedTicket.problem_reported_ho=e},saveReportedToISP:function(){this.tab="date",this.reportedToIspDialog=!1;var e=this.moment(this.editedTicket.problem_reported_isp_date+" "+this.editedTicket.problem_reported_isp_time).format("YYYY-MM-DD HH:mm:ss");this.editedTicket.problem_reported_isp=e},saveResolutionReported:function(){this.tab="date",this.resolutionReportedDialog=!1;var e=this.moment(this.editedTicket.resolution_reported_date+" "+this.editedTicket.resolution_reported_time).format("YYYY-MM-DD HH:mm:ss");this.editedTicket.resolution_reported=e},ticketRate:function(e){var t=null,a=null;1==e?(t="Poor",a="red"):2==e?(t="Needs Improvement",a="orange"):3==e?(t="Satisfactory",a="blue lighten-2"):4==e?(t="Very Good",a="blue"):5==e&&(t="Excellent",a="green");var i={rateColor:a,rateLabel:t};return i},surveyRate:function(e){var t=e.rater.full_name,a=e.remarks;return t+": "+a},ticketResolved:function(e,t){var a=t?this.moment().format("YYYY-MM-DD HH:mm:ss"):t,i=this.moment(e),r=this.moment(a),n=this.moment.duration(r.diff(i)),o=n._data.days,s=n._data.hours,c=n._data.minutes;return o+" days, "+s+" hours & "+c+" minutes"},ticketStatus:function(e){var t=null,a=null;1==e?(t="Open",a="red"):2==e?(t="Pending",a="orange"):(t="Closed",a="black");var i={statusColor:a,statusLabel:t};return i},openDialog:function(){this.editedIndex=-1,this.editedTicket=Object.assign({},this.defaultTicket),console.log(this.editedTicket),this.$store.dispatch("triggerDialog",!0)},editTicket:function(e,t){this.editedIndex=2==t?-1:this.tickets.indexOf(e),this.editedTicket=Object.assign({},{id:e.id,branch:e.branch.id,ticket_number:e.ticket_number,service_provider:e.service_provider.id,service_type:e.service_type.id,service_category:e.service_category.id,reported_by_name:e.reported_by_name,reported_by_position:e.reported_by_position,problem_reported_ho:e.problem_reported_ho,problem_reported_ho_date:this.moment(e.problem_reported_ho).format("YYYY-MM-DD"),problem_reported_ho_time:this.moment(e.problem_reported_ho).format("HH:mm:ss"),problem_reported_isp:e.problem_reported_isp,problem_reported_isp_date:this.moment(e.problem_reported_isp).format("YYYY-MM-DD"),problem_reported_isp_time:this.moment(e.problem_reported_isp).format("HH:mm:ss"),resolution_reported:e.resolution_reported,resolution_reported_date:this.moment(e.resolution_reported).format("YYYY-MM-DD"),resolution_reported_time:this.moment(e.resolution_reported).format("HH:mm:ss"),provider_ticket:e.provider_ticket,problem:e.problem,last_update:e.remarks}),this.$store.dispatch("triggerDialog",!0)},deleteTickets:function(){var e=this,t=this.$data.selected,a=t.map((function(e){return e.id})),i=t.map((function(e){var t="<br />"+e.ticket_number;return t}));this.$dialog.warning({text:"<h3><em>You are about to delete an item(s):</em></h3>"+i,title:"Confirm Delete",actions:{false:"Cancel",true:{text:"Confirm",color:"warning"}}}).then((function(t){t&&(e.$store.dispatch("connectivityTicket/deleteTickets",a),e.$data.selected=[])}))},close:function(){this.editedIndex=-1,this.editedTicket={},console.log(this.editedTicket),this.$v.$reset(),this.$store.dispatch("triggerDialog",!1)},save:function(){this.$v.$touch(),this.editedIndex>-1?this.$store.dispatch("connectivityTicket/updateTicket",this.editedTicket):this.$store.dispatch("connectivityTicket/storeTicket",this.editedTicket)},selectAllToggle:function(e){if(this.selected.length!=this.current_items-this.disabledCount){this.selected=[];var t=this;e.items.forEach((function(e){t.selected.push(e)})),t.disabledCount=this.current_items-this.selected.length}else this.selected=[]},currentItems:function(e){this.current_items=e.length}}},Ri=wi,Pi=a("2e4b"),Vi=a("71a3"),qi=a("c671"),Li=a("fe57"),Ui=a("aac8"),ji=a("9a96"),Bi=Object(m["a"])(Ri,Ni,$i,!1,null,null,null),Mi=Bi.exports;v()(Bi,{VAutocomplete:xt["a"],VBtn:O["a"],VCard:N["a"],VCardText:$["c"],VCardTitle:$["d"],VChip:w["a"],VCol:R["a"],VContainer:we["a"],VDataTable:P["a"],VDatePicker:Pi["a"],VDialog:V["a"],VDivider:h["a"],VIcon:f["a"],VListItem:b["a"],VListItemContent:T["b"],VListItemSubtitle:T["c"],VListItemTitle:T["d"],VRow:B["a"],VSimpleCheckbox:Tt["a"],VSpacer:F["a"],VTab:Vi["a"],VTabItem:qi["a"],VTabs:Li["a"],VTabsItems:Ui["a"],VTabsSlider:ji["a"],VTextField:qe["a"],VTextarea:z["a"],VTimePicker:It["a"],VToolbar:W["a"],VToolbarItems:J["a"],VToolbarTitle:J["b"],VTooltip:Q["a"]});var Gi=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.powerinterruptions,"items-per-page":e.itemsPerPage,search:e.search,loading:e.loadingStatus,"show-select":"","show-expand":"","single-expand":""},on:{"toggle-select-all":e.selectAllToggle,"current-items":e.currentItems},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Power Interruptions")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.openDialog}},i),[a("v-icon",[e._v("mdi-plus-circle")])],1)]}}])},[a("span",[e._v("Add")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{disabled:!e.selected.length>0,text:"",icon:""},on:{click:e.deletePowerInterruptions}},i),[a("v-icon",[e._v("mdi-delete")])],1)]}}])},[a("span",[e._v("Delete")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""}},i),[a("v-icon",[e._v("print")])],1)]}}])},[a("span",[e._v("Print")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("json-excel",{attrs:{data:e.powerinterruptions}},[a("v-btn",e._g({attrs:{text:"",icon:""}},i),[a("v-icon",[e._v("mdi-file-export")])],1)],1)]}}])},[a("span",[e._v("Export")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.refreshData}},i),[a("v-icon",[e._v("mdi-refresh")])],1)]}}])},[a("span",[e._v("Refresh")])]),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-dialog",{attrs:{persistent:"",value:e.dialog,"max-width":"500px",scrollable:""}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",[a("v-autocomplete",{attrs:{"search-input":e.editedPowerInterruption.branch,"error-messages":e.branchErrors,disabled:e.loadingStatus,items:e.branches,"item-text":"name","item-value":"id",label:"Select Branch"},on:{input:function(t){return e.$v.editedPowerInterruption.branch.$touch()}},model:{value:e.editedPowerInterruption.branch,callback:function(t){e.$set(e.editedPowerInterruption,"branch",t)},expression:"editedPowerInterruption.branch"}}),a("v-menu",{attrs:{"close-on-content-click":!0,transition:"scale-transition","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-text-field",e._g({attrs:{label:"Date","prepend-icon":"event",readonly:""},model:{value:e.editedPowerInterruption.date,callback:function(t){e.$set(e.editedPowerInterruption,"date",t)},expression:"editedPowerInterruption.date"}},i))]}}]),model:{value:e.dateMenu,callback:function(t){e.dateMenu=t},expression:"dateMenu"}},[a("v-date-picker",{on:{input:e.defaultPowerInterruption.date},model:{value:e.editedPowerInterruption.date,callback:function(t){e.$set(e.editedPowerInterruption,"date",t)},expression:"editedPowerInterruption.date"}})],1),a("v-flex",{attrs:{md12:""}},[a("v-dialog",{ref:"datetimeFromDialog",attrs:{"return-value":e.editedPowerInterruption.datetime_from,persistent:"",width:"290px"},on:{"update:returnValue":function(t){return e.$set(e.editedPowerInterruption,"datetime_from",t)},"update:return-value":function(t){return e.$set(e.editedPowerInterruption,"datetime_from",t)}},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-text-field",e._g({attrs:{"error-messages":e.datetimeFromErrors,label:"Time From","prepend-icon":"access_time",readonly:""},model:{value:e.editedPowerInterruption.datetime_from,callback:function(t){e.$set(e.editedPowerInterruption,"datetime_from",t)},expression:"editedPowerInterruption.datetime_from"}},i))]}}]),model:{value:e.datetimeFromModal,callback:function(t){e.datetimeFromModal=t},expression:"datetimeFromModal"}},[e.datetimeFromModal?a("v-time-picker",{model:{value:e.editedPowerInterruption.datetime_from,callback:function(t){e.$set(e.editedPowerInterruption,"datetime_from",t)},expression:"editedPowerInterruption.datetime_from"}},[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(t){e.datetimeFromModal=!1}}},[e._v("Cancel")]),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.datetimeFromDialog.save(e.editedPowerInterruption.datetime_from)}}},[e._v("OK")])],1):e._e()],1)],1),a("v-flex",{attrs:{md12:""}},[a("v-dialog",{ref:"datetimeToDialog",attrs:{"return-value":e.editedPowerInterruption.datetime_to,persistent:"",width:"290px"},on:{"update:returnValue":function(t){return e.$set(e.editedPowerInterruption,"datetime_to",t)},"update:return-value":function(t){return e.$set(e.editedPowerInterruption,"datetime_to",t)}},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-text-field",e._g({attrs:{disabled:!e.editedPowerInterruption.datetime_from,"error-messages":e.datetimeToErrors,label:"Time To","prepend-icon":"access_time",readonly:""},model:{value:e.editedPowerInterruption.datetime_to,callback:function(t){e.$set(e.editedPowerInterruption,"datetime_to",t)},expression:"editedPowerInterruption.datetime_to"}},i))]}}]),model:{value:e.datetimeToModal,callback:function(t){e.datetimeToModal=t},expression:"datetimeToModal"}},[e.datetimeToModal?a("v-time-picker",{attrs:{min:e.editedPowerInterruption.datetime_from},model:{value:e.editedPowerInterruption.datetime_to,callback:function(t){e.$set(e.editedPowerInterruption,"datetime_to",t)},expression:"editedPowerInterruption.datetime_to"}},[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(t){e.datetimeToModal=!1}}},[e._v("Cancel")]),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.datetimeToDialog.save(e.editedPowerInterruption.datetime_to)}}},[e._v("OK")])],1):e._e()],1)],1),a("v-text-field",{attrs:{"error-messages":e.reportedByNameErrors,label:"Reported by",disabled:e.loadingStatus},on:{input:function(t){return e.$v.editedPowerInterruption.reported_by_name.$touch()}},model:{value:e.editedPowerInterruption.reported_by_name,callback:function(t){e.$set(e.editedPowerInterruption,"reported_by_name",t)},expression:"editedPowerInterruption.reported_by_name"}}),a("v-text-field",{attrs:{label:"Position",disabled:e.loadingStatus},model:{value:e.editedPowerInterruption.reported_by_position,callback:function(t){e.$set(e.editedPowerInterruption,"reported_by_position",t)},expression:"editedPowerInterruption.reported_by_position"}}),a("v-textarea",{attrs:{"auto-grow":"","row-height":"1","error-messages":e.remarksErrors,label:"Remarks",disabled:e.loadingStatus},on:{input:function(t){return e.$v.editedPowerInterruption.remarks.$touch()}},model:{value:e.editedPowerInterruption.remarks,callback:function(t){e.$set(e.editedPowerInterruption,"remarks",t)},expression:"editedPowerInterruption.remarks"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:e.close}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"blue",text:"",loading:e.loadingStatus},on:{click:e.save}},[e._v("Save")])],1)],1)],1)],1)]},proxy:!0},{key:"item.datetime_from",fn:function(t){var a=t.item;return[e._v(" "+e._s(e.moment(a.datetime_from).format("MMM D, Y (h:mm a)"))+" ")]}},{key:"item.datetime_to",fn:function(t){var a=t.item;return[e._v(" "+e._s(e.moment(a.datetime_to).format("MMM D, Y (h:mm a)"))+" ")]}},{key:"item.total_hours",fn:function(t){var a=t.item;return[e._v(" "+e._s(e.moment.utc(e.moment.duration(a.total_hours,"seconds").asMilliseconds()).format("H ")+"hours")+" "+e._s("& "+e.moment.utc(e.moment.duration(a.total_hours,"seconds").asMilliseconds()).format("m ")+" minutes")+" ")]}},{key:"expanded-item",fn:function(t){var i=t.item;return[a("td",{staticClass:"text-xs-center",attrs:{colspan:e.headers.length}},[a("v-list-item",{attrs:{"two-line":""}},[a("v-list-item-content",[a("v-list-item-title",[e._v(" "+e._s(i.branch.name.toUpperCase())+" ")]),a("v-list-item-title",[e._v("Logged By")]),a("v-list-item-subtitle",[e._v(" "+e._s(i.user.name)+" ")]),a("v-list-item-title",[e._v("Reported By")]),a("v-list-item-subtitle",[e._v(" "+e._s(i.reported_by_name)+" ("+e._s(i.reported_by_position?i.reported_by_position:"None")+") ")]),a("v-list-item-title",[e._v("Remarks")]),a("v-list-item-subtitle",[e._v(" "+e._s(i.remarks?i.remarks:"None")+" ")])],1)],1)],1)]}},{key:"header.data-table-select",fn:function(t){var i=t.on,r=t.props;return[a("v-simple-checkbox",e._g(e._b({attrs:{disabled:e.powerinterruptions.length===e.disabledCount}},"v-simple-checkbox",r,!1),i))]}},{key:"item.action",fn:function(t){var i=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:"",title:"Edit"},on:{click:function(t){return e.editPowerInterruption(i,1)}}},[e._v(" mdi-pencil ")]),a("v-icon",{attrs:{small:"",title:"Duplicate"},on:{click:function(t){return e.editPowerInterruption(i,2)}}},[e._v(" mdi-content-duplicatepowerinterruption ")])]}}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1)],1)},Fi=[],Yi={components:{JsonExcel:_t["a"]},mixins:[nt["validationMixin"]],data:function(){return{search:"",selected:[],datetimeFromModal:!1,datetimeToModal:!1,dateMenu:!1,headers:[{text:"Branch",align:"left",value:"branch.name"},{text:"From",align:"left",value:"datetime_from"},{text:"To",align:"left",value:"datetime_to"},{text:"Total Hours",align:"left",value:"total_hours"},{text:"Actions",align:"center",value:"action",sortable:!1}],editedIndex:-1,editedPowerInterruption:{branch:null,reported_by_name:"",reported_by_position:"",date:"",datetime_from:"",datetime_to:"",remarks:""},defaultPowerInterruption:{branch:null,reported_by_name:"",reported_by_position:"",date:(new Date).toISOString().substr(0,10),datetime_from:"",datetime_to:"",remarks:""},itemsPerPage:5,current_items:0}},validations:{editedPowerInterruption:{branch:{required:ot["required"]},reported_by_name:{required:ot["required"]},date:{required:ot["required"]},datetime_from:{required:ot["required"]},datetime_to:{required:ot["required"]},remarks:{required:ot["required"]}}},computed:Object(c["a"])(Object(c["a"])({},Object(l["b"])({powerinterruptions:"powerInterruption/getPowerInterruptions",powerInterruptionErrors:"powerInterruption/getPowerInterruptionErrors",branches:"branch/getBranches"})),{},{dialog:function(){return this.$store.state.dialog},loadingStatus:function(){return this.$store.state.loading},formTitle:function(){return-1===this.editedIndex?"New Power Interruption":"Edit Power Interruption"},branchErrors:function(){var e=[];if(!this.$v.editedPowerInterruption.branch.$dirty)return e;var t=null;return t=this.powerInterruptionErrors["branch|required"]?this.powerInterruptionErrors["branch|required"]:"This field is required.",!this.$v.editedPowerInterruption.branch.required&&e.push(t),e},datetimeFromErrors:function(){var e=[];if(!this.$v.editedPowerInterruption.datetime_from.$dirty)return e;var t=null;return t=this.powerInterruptionErrors["datetime_from|required"]?this.powerInterruptionErrors["datetime_from|required"]:"The time from field is required.",!this.$v.editedPowerInterruption.datetime_from.required&&e.push(t),e},datetimeToErrors:function(){var e=[];if(!this.$v.editedPowerInterruption.datetime_to.$dirty)return e;var t=null;return t=this.powerInterruptionErrors["datetime_to|required"]?this.powerInterruptionErrors["datetime_to|required"]:"The time to field is required.",!this.$v.editedPowerInterruption.datetime_to.required&&e.push(t),e},reportedByNameErrors:function(){var e=[];if(!this.$v.editedPowerInterruption.reported_by_name.$dirty)return e;var t=null;return t=this.powerInterruptionErrors["reported_by_name|required"]?this.powerInterruptionErrors["reported_by_name|required"]:"This field is required.",!this.$v.editedPowerInterruption.reported_by_name.required&&e.push(t),e},remarksErrors:function(){var e=[];if(!this.$v.editedPowerInterruption.remarks.$dirty)return e;var t=null;return t=this.powerInterruptionErrors["remarks|required"]?this.powerInterruptionErrors["remarks|required"]:"The remarks field is required.",!this.$v.editedPowerInterruption.remarks.required&&e.push(t),e}}),watch:{powerinterruptions:function(){this.$v.$reset()}},created:function(){this.$store.dispatch("powerInterruption/fetchPowerInterruptions"),this.$store.dispatch("branch/fetchBranches")},methods:{refreshData:function(){this.$store.dispatch("powerInterruption/fetchPowerInterruptions"),this.$store.dispatch("branch/fetchBranches")},openDialog:function(){this.editedIndex=-1,this.editedPowerInterruption=Object.assign({},this.defaultPowerInterruption),this.$store.dispatch("triggerDialog",!0)},editPowerInterruption:function(e,t){this.editedIndex=2==t?-1:this.powerinterruptions.indexOf(e),this.editedPowerInterruption=Object.assign({},{id:e.id,user:e.user.name,branch:e.branch.id,reported_by_name:e.reported_by_name,reported_by_position:e.reported_by_position,remarks:e.remarks,date:this.moment(e.datetime_from).format("YYYY-MM-DD"),datetime_from:this.moment(e.datetime_from).format("HH:mm"),datetime_to:this.moment(e.datetime_to).format("HH:mm")}),this.$store.dispatch("triggerDialog",!0)},deletePowerInterruptions:function(){var e=this,t=this.$data.selected,a=t.map((function(e){return e.id})),i=t.map((function(e){var t="<br />"+e.branch.name;return t}));this.$dialog.warning({text:"<h3><em>You are about to delete an item(s):</em></h3>"+i,title:"Confirm Delete",actions:{false:"Cancel",true:{text:"Confirm",color:"warning"}}}).then((function(t){t&&(e.$store.dispatch("powerInterruption/deletePowerInterruptions",a),e.$data.selected=[])}))},close:function(){this.editedIndex=-1,this.editedPowerInterruption={},this.$v.$reset(),this.$store.dispatch("triggerDialog",!1)},save:function(){this.$v.$touch(),this.editedIndex>-1?this.$store.dispatch("powerInterruption/updatePowerInterruption",this.editedPowerInterruption):this.$store.dispatch("powerInterruption/storePowerInterruption",this.editedPowerInterruption)},selectAllToggle:function(e){if(this.selected.length!=this.current_items-this.disabledCount){this.selected=[];var t=this;e.items.forEach((function(e){!e.powerinterruptions>0&&t.selected.push(e)})),t.disabledCount=this.current_items-this.selected.length}else this.selected=[]},currentItems:function(e){this.current_items=e.length}}},zi=Yi,Hi=Object(m["a"])(zi,Gi,Fi,!1,null,null,null),Ki=Hi.exports;v()(Hi,{VAutocomplete:xt["a"],VBtn:O["a"],VCard:N["a"],VCardActions:$["a"],VCardText:$["c"],VCardTitle:$["d"],VCol:R["a"],VContainer:we["a"],VDataTable:P["a"],VDatePicker:Pi["a"],VDialog:V["a"],VDivider:h["a"],VFlex:Re["a"],VIcon:f["a"],VListItem:b["a"],VListItemContent:T["b"],VListItemSubtitle:T["c"],VListItemTitle:T["d"],VMenu:U["a"],VRow:B["a"],VSimpleCheckbox:Tt["a"],VSpacer:F["a"],VTextField:qe["a"],VTextarea:z["a"],VTimePicker:It["a"],VToolbar:W["a"],VToolbarTitle:J["b"],VTooltip:Q["a"]});var Wi=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.pendingtrans,"items-per-page":e.itemsPerPage,search:e.search,"show-expand":"","single-expand":"",loading:e.loadingStatus},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Pending Transactions")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""}},i),[a("v-icon",[e._v("print")])],1)]}}])},[a("span",[e._v("Print")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("json-excel",{attrs:{data:e.pendingtrans}},[a("v-btn",e._g({attrs:{text:"",icon:""}},i),[a("v-icon",[e._v("mdi-file-export")])],1)],1)]}}])},[a("span",[e._v("Export")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.refreshData}},i),[a("v-icon",[e._v("mdi-refresh")])],1)]}}])},[a("span",[e._v("Refresh")])]),a("v-spacer"),a("v-menu",{attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","single-line":""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-text-field",e._g({attrs:{label:"Date","prepend-icon":"event",readonly:"","single-line":"","hide-details":""},model:{value:e.filterDate,callback:function(t){e.filterDate=t},expression:"filterDate"}},i))]}}]),model:{value:e.dateMenu3,callback:function(t){e.dateMenu3=t},expression:"dateMenu3"}},[a("v-date-picker",{on:{change:e.filterWithDate,input:function(t){e.dateMenu3=!1}},model:{value:e.filterDate,callback:function(t){e.filterDate=t},expression:"filterDate"}})],1),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)]},proxy:!0},{key:"expanded-item",fn:function(t){var i=t.item;return[a("td",{staticClass:"text-xs-center",attrs:{colspan:e.headers.length+1}},[a("v-list-item",{attrs:{"two-line":""}},[a("v-list-item-content",[a("v-list-item-subtitle",[a("v-simple-table",{attrs:{dense:""}},[a("thead",{staticClass:"text-center"},[a("tr",[a("th",[e._v("DATE")]),a("th",[e._v("LSU(OR)")]),a("th",[e._v("OR")]),a("th",[e._v("LSU(CI)")]),a("th",[e._v("CI")]),a("th",[e._v("LSU(CH)")]),a("th",[e._v("CH")]),a("th",[e._v("DEP")]),a("th",[e._v("CLA")]),a("th",[e._v("GRPO")]),a("th",[e._v("SI")]),a("th",[e._v("SO")]),a("th",[e._v("STS")]),a("th",[e._v("DISB")]),a("th",[e._v("ARCM")]),a("th",[e._v("APCM")]),a("th",[e._v("INT")]),a("th",[e._v("RC")]),a("th",[e._v("SC")]),a("th")])]),e.checkSched(i)?e._e():a("tbody",{staticClass:"text-center"},[e._l(i.pendings,(function(t){return a("tr",{key:t.id},[a("td",[e._v(e._s(e.moment(t.docdate).format("D")))]),a("td",[e._v(e._s(t.ls_or))]),a("td",[e._v(e._s(t.por))]),a("td",[e._v(e._s(t.ls_ci))]),a("td",[e._v(e._s(t.ci))]),a("td",[e._v(e._s(t.ls_ch))]),a("td",[e._v(e._s(t.ch))]),a("td",[e._v(e._s(t.dep))]),a("td",[e._v(e._s(t.cla))]),a("td",[e._v(e._s(t.grpo))]),a("td",[e._v(e._s(t.si))]),a("td",[e._v(e._s(t.so))]),a("td",[e._v(e._s(t.sts))]),a("td",[e._v(e._s(t.disb))]),a("td",[e._v(e._s(t.arcm))]),a("td",[e._v(e._s(t.apcm))]),a("td",[e._v(e._s(t.pint))]),a("td",[e._v(e._s(t.rc_cash))]),a("td",[e._v(e._s(t.sc))])])})),e.canAdd?a("tr",{staticClass:"text-left"},[a("td",{staticStyle:{padding:"10px"},attrs:{colspan:"18"}},[a("v-spacer"),a("v-btn",{attrs:{loading:e.loadingStatus,small:""},on:{click:function(t){return e.addAll(i)}}},[e._v(" Add all to current pending ")])],1)]):e._e()],2),e.checkSched(i)?a("tbody",{staticClass:"text-center"},[e._l(i.pendings,(function(t){return a("tr",{key:t.id},[a("td",[a("v-edit-dialog",{attrs:{"return-value":e.moment(t.docdate).format("D"),large:""},on:{"update:returnValue":function(a){e.$set(e.moment(t.docdate),"format('D')",a)},"update:return-value":function(a){e.$set(e.moment(t.docdate),"format('D')",a)},save:function(a){return e.update(t.id,"docdate",t.docdate)}},scopedSlots:e._u([{key:"input",fn:function(){return[a("v-menu",{attrs:{"close-on-content-click":!0,transition:"scale-transition","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(i){var r=i.on;return[a("v-text-field",e._g({attrs:{label:"Edit","single-line":"",counter:"",autofocus:"",dense:"",readonly:""},model:{value:t.docdate,callback:function(a){e.$set(t,"docdate",a)},expression:"pending.docdate"}},r))]}}],null,!0),model:{value:e.dateMenu2,callback:function(t){e.dateMenu2=t},expression:"dateMenu2"}},[a("v-date-picker",{model:{value:t.docdate,callback:function(a){e.$set(t,"docdate",a)},expression:"pending.docdate"}})],1)]},proxy:!0}],null,!0)},[a("div",[e._v(e._s(e.moment(t.docdate).format("D")))])])],1),a("td",[a("v-edit-dialog",{attrs:{"return-value":t.ls_or,large:""},on:{"update:returnValue":function(a){return e.$set(t,"ls_or",a)},"update:return-value":function(a){return e.$set(t,"ls_or",a)},save:function(a){return e.update(t.id,"ls_or",t.ls_or)}},scopedSlots:e._u([{key:"input",fn:function(){return[a("v-text-field",{attrs:{rules:[e.required],label:"Edit","single-line":"",counter:"",autofocus:""},on:{keypress:function(t){return e.isNumber(t)}},model:{value:t.ls_or,callback:function(a){e.$set(t,"ls_or",a)},expression:"pending.ls_or"}})]},proxy:!0}],null,!0)},[a("div",[e._v(e._s(t.ls_or))])])],1),a("td",[a("v-edit-dialog",{attrs:{"return-value":t.por,large:""},on:{"update:returnValue":function(a){return e.$set(t,"por",a)},"update:return-value":function(a){return e.$set(t,"por",a)},save:function(a){return e.update(t.id,"por",t.por)}},scopedSlots:e._u([{key:"input",fn:function(){return[a("v-text-field",{attrs:{rules:[e.required],label:"Edit","single-line":"",counter:"",autofocus:""},on:{keypress:function(t){return e.isNumber(t)}},model:{value:t.por,callback:function(a){e.$set(t,"por",a)},expression:"pending.por"}})]},proxy:!0}],null,!0)},[a("div",[e._v(e._s(t.por))])])],1),a("td",[a("v-edit-dialog",{attrs:{"return-value":t.ls_ci,large:""},on:{"update:returnValue":function(a){return e.$set(t,"ls_ci",a)},"update:return-value":function(a){return e.$set(t,"ls_ci",a)},save:function(a){return e.update(t.id,"ls_ci",t.ls_ci)}},scopedSlots:e._u([{key:"input",fn:function(){return[a("v-text-field",{attrs:{rules:[e.required],label:"Edit","single-line":"",counter:"",autofocus:""},on:{keypress:function(t){return e.isNumber(t)}},model:{value:t.ls_ci,callback:function(a){e.$set(t,"ls_ci",a)},expression:"pending.ls_ci"}})]},proxy:!0}],null,!0)},[a("div",[e._v(e._s(t.ls_ci))])])],1),a("td",[a("v-edit-dialog",{attrs:{"return-value":t.ci,large:""},on:{"update:returnValue":function(a){return e.$set(t,"ci",a)},"update:return-value":function(a){return e.$set(t,"ci",a)},save:function(a){return e.update(t.id,"ci",t.ci)}},scopedSlots:e._u([{key:"input",fn:function(){return[a("v-text-field",{attrs:{rules:[e.required],label:"Edit","single-line":"",counter:"",autofocus:""},on:{keypress:function(t){return e.isNumber(t)}},model:{value:t.ci,callback:function(a){e.$set(t,"ci",a)},expression:"pending.ci"}})]},proxy:!0}],null,!0)},[a("div",[e._v(e._s(t.ci))])])],1),a("td",[a("v-edit-dialog",{attrs:{"return-value":t.ls_ch,large:""},on:{"update:returnValue":function(a){return e.$set(t,"ls_ch",a)},"update:return-value":function(a){return e.$set(t,"ls_ch",a)},save:function(a){return e.update(t.id,"ls_ch",t.ls_ch)}},scopedSlots:e._u([{key:"input",fn:function(){return[a("v-text-field",{attrs:{rules:[e.required],label:"Edit","single-line":"",counter:"",autofocus:""},on:{keypress:function(t){return e.isNumber(t)}},model:{value:t.ls_ch,callback:function(a){e.$set(t,"ls_ch",a)},expression:"pending.ls_ch"}})]},proxy:!0}],null,!0)},[a("div",[e._v(e._s(t.ls_ch))])])],1),a("td",[a("v-edit-dialog",{attrs:{"return-value":t.ch,large:""},on:{"update:returnValue":function(a){return e.$set(t,"ch",a)},"update:return-value":function(a){return e.$set(t,"ch",a)},save:function(a){return e.update(t.id,"ch",t.ch)}},scopedSlots:e._u([{key:"input",fn:function(){return[a("v-text-field",{attrs:{rules:[e.required],label:"Edit","single-line":"",counter:"",autofocus:""},on:{keypress:function(t){return e.isNumber(t)}},model:{value:t.ch,callback:function(a){e.$set(t,"ch",a)},expression:"pending.ch"}})]},proxy:!0}],null,!0)},[a("div",[e._v(e._s(t.ch))])])],1),a("td",[a("v-edit-dialog",{attrs:{"return-value":t.dep,large:""},on:{"update:returnValue":function(a){return e.$set(t,"dep",a)},"update:return-value":function(a){return e.$set(t,"dep",a)},save:function(a){return e.update(t.id,"dep",t.dep)}},scopedSlots:e._u([{key:"input",fn:function(){return[a("v-text-field",{attrs:{rules:[e.required],label:"Edit","single-line":"",counter:"",autofocus:""},on:{keypress:function(t){return e.isNumber(t)}},model:{value:t.dep,callback:function(a){e.$set(t,"dep",a)},expression:"pending.dep"}})]},proxy:!0}],null,!0)},[a("div",[e._v(e._s(t.dep))])])],1),a("td",[a("v-edit-dialog",{attrs:{"return-value":t.cla,large:""},on:{"update:returnValue":function(a){return e.$set(t,"cla",a)},"update:return-value":function(a){return e.$set(t,"cla",a)},save:function(a){return e.update(t.id,"cla",t.cla)}},scopedSlots:e._u([{key:"input",fn:function(){return[a("v-text-field",{attrs:{rules:[e.required],label:"Edit","single-line":"",counter:"",autofocus:""},on:{keypress:function(t){return e.isNumber(t)}},model:{value:t.cla,callback:function(a){e.$set(t,"cla",a)},expression:"pending.cla"}})]},proxy:!0}],null,!0)},[a("div",[e._v(e._s(t.cla))])])],1),a("td",[a("v-edit-dialog",{attrs:{"return-value":t.grpo,large:""},on:{"update:returnValue":function(a){return e.$set(t,"grpo",a)},"update:return-value":function(a){return e.$set(t,"grpo",a)},save:function(a){return e.update(t.id,"grpo",t.grpo)}},scopedSlots:e._u([{key:"input",fn:function(){return[a("v-text-field",{attrs:{rules:[e.required],label:"Edit","single-line":"",counter:"",autofocus:""},on:{keypress:function(t){return e.isNumber(t)}},model:{value:t.grpo,callback:function(a){e.$set(t,"grpo",a)},expression:"pending.grpo"}})]},proxy:!0}],null,!0)},[a("div",[e._v(e._s(t.grpo))])])],1),a("td",[a("v-edit-dialog",{attrs:{"return-value":t.si,large:""},on:{"update:returnValue":function(a){return e.$set(t,"si",a)},"update:return-value":function(a){return e.$set(t,"si",a)},save:function(a){return e.update(t.id,"si",t.si)}},scopedSlots:e._u([{key:"input",fn:function(){return[a("v-text-field",{attrs:{rules:[e.required],label:"Edit","single-line":"",counter:"",autofocus:""},on:{keypress:function(t){return e.isNumber(t)}},model:{value:t.si,callback:function(a){e.$set(t,"si",a)},expression:"pending.si"}})]},proxy:!0}],null,!0)},[a("div",[e._v(e._s(t.si))])])],1),a("td",[a("v-edit-dialog",{attrs:{"return-value":t.so,large:""},on:{"update:returnValue":function(a){return e.$set(t,"so",a)},"update:return-value":function(a){return e.$set(t,"so",a)},save:function(a){return e.update(t.id,"so",t.so)}},scopedSlots:e._u([{key:"input",fn:function(){return[a("v-text-field",{attrs:{rules:[e.required],label:"Edit","single-line":"",counter:"",autofocus:""},on:{keypress:function(t){return e.isNumber(t)}},model:{value:t.so,callback:function(a){e.$set(t,"so",a)},expression:"pending.so"}})]},proxy:!0}],null,!0)},[a("div",[e._v(e._s(t.so))])])],1),a("td",[a("v-edit-dialog",{attrs:{"return-value":t.sts,large:""},on:{"update:returnValue":function(a){return e.$set(t,"sts",a)},"update:return-value":function(a){return e.$set(t,"sts",a)},save:function(a){return e.update(t.id,"sts",t.sts)}},scopedSlots:e._u([{key:"input",fn:function(){return[a("v-text-field",{attrs:{rules:[e.required],label:"Edit","single-line":"",counter:"",autofocus:""},on:{keypress:function(t){return e.isNumber(t)}},model:{value:t.sts,callback:function(a){e.$set(t,"sts",a)},expression:"pending.sts"}})]},proxy:!0}],null,!0)},[a("div",[e._v(e._s(t.sts))])])],1),a("td",[a("v-edit-dialog",{attrs:{"return-value":t.disb,large:""},on:{"update:returnValue":function(a){return e.$set(t,"disb",a)},"update:return-value":function(a){return e.$set(t,"disb",a)},save:function(a){return e.update(t.id,"disb",t.disb)}},scopedSlots:e._u([{key:"input",fn:function(){return[a("v-text-field",{attrs:{rules:[e.required],label:"Edit","single-line":"",counter:"",autofocus:""},on:{keypress:function(t){return e.isNumber(t)}},model:{value:t.disb,callback:function(a){e.$set(t,"disb",a)},expression:"pending.disb"}})]},proxy:!0}],null,!0)},[a("div",[e._v(e._s(t.disb))])])],1),a("td",[a("v-edit-dialog",{attrs:{"return-value":t.arcm,large:""},on:{"update:returnValue":function(a){return e.$set(t,"arcm",a)},"update:return-value":function(a){return e.$set(t,"arcm",a)},save:function(a){return e.update(t.id,"arcm",t.arcm)}},scopedSlots:e._u([{key:"input",fn:function(){return[a("v-text-field",{attrs:{rules:[e.required],label:"Edit","single-line":"",counter:"",autofocus:""},on:{keypress:function(t){return e.isNumber(t)}},model:{value:t.arcm,callback:function(a){e.$set(t,"arcm",a)},expression:"pending.arcm"}})]},proxy:!0}],null,!0)},[a("div",[e._v(e._s(t.arcm))])])],1),a("td",[a("v-edit-dialog",{attrs:{"return-value":t.apcm,large:""},on:{"update:returnValue":function(a){return e.$set(t,"apcm",a)},"update:return-value":function(a){return e.$set(t,"apcm",a)},save:function(a){return e.update(t.id,"apcm",t.apcm)}},scopedSlots:e._u([{key:"input",fn:function(){return[a("v-text-field",{attrs:{rules:[e.required],label:"Edit","single-line":"",counter:"",autofocus:""},on:{keypress:function(t){return e.isNumber(t)}},model:{value:t.apcm,callback:function(a){e.$set(t,"apcm",a)},expression:"pending.apcm"}})]},proxy:!0}],null,!0)},[a("div",[e._v(e._s(t.apcm))])])],1),a("td",[a("v-edit-dialog",{attrs:{"return-value":t.pint,large:""},on:{"update:returnValue":function(a){return e.$set(t,"pint",a)},"update:return-value":function(a){return e.$set(t,"pint",a)},save:function(a){return e.update(t.id,"pint",t.pint)}},scopedSlots:e._u([{key:"input",fn:function(){return[a("v-text-field",{attrs:{rules:[e.required],label:"Edit","single-line":"",counter:"",autofocus:""},on:{keypress:function(t){return e.isNumber(t)}},model:{value:t.pint,callback:function(a){e.$set(t,"pint",a)},expression:"pending.pint"}})]},proxy:!0}],null,!0)},[a("div",[e._v(e._s(t.pint))])])],1),a("td",[a("v-edit-dialog",{attrs:{"return-value":t.rc_cash,large:""},on:{"update:returnValue":function(a){return e.$set(t,"rc_cash",a)},"update:return-value":function(a){return e.$set(t,"rc_cash",a)},save:function(a){return e.update(t.id,"rc_cash",t.rc_cash)}},scopedSlots:e._u([{key:"input",fn:function(){return[a("v-text-field",{attrs:{rules:[e.required],label:"Edit","single-line":"",counter:"",autofocus:""},on:{keypress:function(t){return e.isNumber(t)}},model:{value:t.rc_cash,callback:function(a){e.$set(t,"rc_cash",a)},expression:"pending.rc_cash"}})]},proxy:!0}],null,!0)},[a("div",[e._v(e._s(t.rc_cash))])])],1),a("td",[a("v-edit-dialog",{attrs:{"return-value":t.sc,large:""},on:{"update:returnValue":function(a){return e.$set(t,"sc",a)},"update:return-value":function(a){return e.$set(t,"sc",a)},save:function(a){return e.update(t.id,"sc",t.sc)}},scopedSlots:e._u([{key:"input",fn:function(){return[a("v-text-field",{attrs:{rules:[e.required],label:"Edit","single-line":"",counter:"",autofocus:""},on:{keypress:function(t){return e.isNumber(t)}},model:{value:t.sc,callback:function(a){e.$set(t,"sc",a)},expression:"pending.sc"}})]},proxy:!0}],null,!0)},[a("div",[e._v(e._s(t.sc))])])],1),a("td",[e.checkSched(i)?a("v-icon",{staticClass:"mr-2",attrs:{disabled:e.loadingStatus,small:"",title:"Copy"},on:{click:function(a){return e.copyPendingTran(t)}}},[e._v(" mdi-content-copy ")]):e._e(),e.checkSched(i)?a("v-icon",{staticClass:"mr-2",attrs:{disabled:e.loadingStatus,small:"",title:"Delete"},on:{click:function(a){return e.deletePendingTran(t)}}},[e._v(" mdi-delete ")]):e._e()],1)])})),e.checkSched(i)?a("tr",[a("td",[a("v-menu",{attrs:{"close-on-content-click":!0,transition:"scale-transition","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-text-field",e._g({attrs:{dense:"",readonly:""},model:{value:e.computedDateFormatted,callback:function(t){e.computedDateFormatted=t},expression:"computedDateFormatted"}},i))]}}],null,!0),model:{value:e.dateMenu,callback:function(t){e.dateMenu=t},expression:"dateMenu"}},[a("v-date-picker",{model:{value:e.editedPendingTran.docdate,callback:function(t){e.$set(e.editedPendingTran,"docdate",t)},expression:"editedPendingTran.docdate"}})],1)],1),a("td",[a("v-text-field",{attrs:{dense:"",required:""},on:{keypress:function(t){return e.isNumber(t)}},model:{value:e.editedPendingTran.ls_or,callback:function(t){e.$set(e.editedPendingTran,"ls_or",t)},expression:"editedPendingTran.ls_or"}})],1),a("td",[a("v-text-field",{attrs:{dense:"",required:""},on:{keypress:function(t){return e.isNumber(t)}},model:{value:e.editedPendingTran.por,callback:function(t){e.$set(e.editedPendingTran,"por",t)},expression:"editedPendingTran.por"}})],1),a("td",[a("v-text-field",{attrs:{dense:"",required:""},on:{keypress:function(t){return e.isNumber(t)}},model:{value:e.editedPendingTran.ls_ci,callback:function(t){e.$set(e.editedPendingTran,"ls_ci",t)},expression:"editedPendingTran.ls_ci"}})],1),a("td",[a("v-text-field",{attrs:{dense:"",required:""},on:{keypress:function(t){return e.isNumber(t)}},model:{value:e.editedPendingTran.ci,callback:function(t){e.$set(e.editedPendingTran,"ci",t)},expression:"editedPendingTran.ci"}})],1),a("td",[a("v-text-field",{attrs:{dense:"",required:""},on:{keypress:function(t){return e.isNumber(t)}},model:{value:e.editedPendingTran.ls_ch,callback:function(t){e.$set(e.editedPendingTran,"ls_ch",t)},expression:"editedPendingTran.ls_ch"}})],1),a("td",[a("v-text-field",{attrs:{dense:"",required:""},on:{keypress:function(t){return e.isNumber(t)}},model:{value:e.editedPendingTran.ch,callback:function(t){e.$set(e.editedPendingTran,"ch",t)},expression:"editedPendingTran.ch"}})],1),a("td",[a("v-text-field",{attrs:{dense:"",required:""},on:{keypress:function(t){return e.isNumber(t)}},model:{value:e.editedPendingTran.dep,callback:function(t){e.$set(e.editedPendingTran,"dep",t)},expression:"editedPendingTran.dep"}})],1),a("td",[a("v-text-field",{attrs:{dense:"",required:""},on:{keypress:function(t){return e.isNumber(t)}},model:{value:e.editedPendingTran.cla,callback:function(t){e.$set(e.editedPendingTran,"cla",t)},expression:"editedPendingTran.cla"}})],1),a("td",[a("v-text-field",{attrs:{dense:"",required:""},on:{keypress:function(t){return e.isNumber(t)}},model:{value:e.editedPendingTran.grpo,callback:function(t){e.$set(e.editedPendingTran,"grpo",t)},expression:"editedPendingTran.grpo"}})],1),a("td",[a("v-text-field",{attrs:{dense:"",required:""},on:{keypress:function(t){return e.isNumber(t)}},model:{value:e.editedPendingTran.si,callback:function(t){e.$set(e.editedPendingTran,"si",t)},expression:"editedPendingTran.si"}})],1),a("td",[a("v-text-field",{attrs:{dense:"",required:""},on:{keypress:function(t){return e.isNumber(t)}},model:{value:e.editedPendingTran.so,callback:function(t){e.$set(e.editedPendingTran,"so",t)},expression:"editedPendingTran.so"}})],1),a("td",[a("v-text-field",{attrs:{dense:"",required:""},on:{keypress:function(t){return e.isNumber(t)}},model:{value:e.editedPendingTran.sts,callback:function(t){e.$set(e.editedPendingTran,"sts",t)},expression:"editedPendingTran.sts"}})],1),a("td",[a("v-text-field",{attrs:{dense:"",required:""},on:{keypress:function(t){return e.isNumber(t)}},model:{value:e.editedPendingTran.disb,callback:function(t){e.$set(e.editedPendingTran,"disb",t)},expression:"editedPendingTran.disb"}})],1),a("td",[a("v-text-field",{attrs:{dense:"",required:""},on:{keypress:function(t){return e.isNumber(t)}},model:{value:e.editedPendingTran.arcm,callback:function(t){e.$set(e.editedPendingTran,"arcm",t)},expression:"editedPendingTran.arcm"}})],1),a("td",[a("v-text-field",{attrs:{dense:"",required:""},on:{keypress:function(t){return e.isNumber(t)}},model:{value:e.editedPendingTran.apcm,callback:function(t){e.$set(e.editedPendingTran,"apcm",t)},expression:"editedPendingTran.apcm"}})],1),a("td",[a("v-text-field",{attrs:{dense:"",required:""},on:{keypress:function(t){return e.isNumber(t)}},model:{value:e.editedPendingTran.pint,callback:function(t){e.$set(e.editedPendingTran,"pint",t)},expression:"editedPendingTran.pint"}})],1),a("td",[a("v-text-field",{attrs:{dense:"",required:""},on:{keypress:function(t){return e.isNumber(t)}},model:{value:e.editedPendingTran.rc_cash,callback:function(t){e.$set(e.editedPendingTran,"rc_cash",t)},expression:"editedPendingTran.rc_cash"}})],1),a("td",[a("v-text-field",{attrs:{dense:"",required:""},on:{keypress:function(t){return e.isNumber(t)}},model:{value:e.editedPendingTran.sc,callback:function(t){e.$set(e.editedPendingTran,"sc",t)},expression:"editedPendingTran.sc"}})],1),a("td",[e.checkSched(i)?a("v-icon",{staticClass:"mr-2",attrs:{disabled:e.loadingStatus,small:"",title:"Add"},on:{click:function(t){return e.save(i)}}},[e._v(" mdi-plus-circle ")]):e._e(),e.checkSched(i)?a("v-icon",{staticClass:"mr-2",attrs:{disabled:e.loadingStatus,small:"",title:"Reset"},on:{click:function(t){return e.reset()}}},[e._v(" mdi-refresh ")]):e._e()],1)]):e._e(),e.checkSched(i)?a("tr",[a("td",{attrs:{colspan:"18"}},[a("v-text-field",{attrs:{dense:"",required:"",label:"Reason","single-line":""},model:{value:e.editedPendingTran.reason,callback:function(t){e.$set(e.editedPendingTran,"reason",t)},expression:"editedPendingTran.reason"}})],1)]):e._e()],2):e._e()])],1)],1)],1)],1)]}}])})],1)],1)},Ji=[],Qi={components:{JsonExcel:_t["a"]},mixins:[nt["validationMixin"]],data:function(){return{search:"",dateMenu:!1,dateMenu2:!1,dateMenu3:!1,canAdd:!1,filterDate:null,required:function(e){return e.length>0||"Field required!"},headers:[{text:"Branch",align:"left",value:"name"},{text:"Date",align:"left",value:"date"}],editedIndex:-1,editedPendingTran:{docdate:null,ls_or:0,ls_ch:0,ls_ci:0,por:0,ci:0,ch:0,dep:0,cla:0,grpo:0,si:0,so:0,sts:0,disb:0,arcm:0,apcm:0,pint:0,rc_cash:0,sc:0,reason:null},defaultPendingTran:{docdate:null,ls_or:0,ls_ch:0,ls_ci:0,por:0,ci:0,ch:0,dep:0,cla:0,grpo:0,si:0,so:0,sts:0,disb:0,arcm:0,apcm:0,pint:0,rc_cash:0,sc:0,reason:null},itemsPerPage:5,current_items:0}},validations:{editedPendingTran:{docdate:{required:ot["required"]},ls_or:{required:ot["required"]},por:{required:ot["required"]},ci:{required:ot["required"]},ch:{required:ot["required"]},dep:{required:ot["required"]},cla:{required:ot["required"]},grpo:{required:ot["required"]},si:{required:ot["required"]},so:{required:ot["required"]},sts:{required:ot["required"]},disb:{required:ot["required"]},arcm:{required:ot["required"]},apcm:{required:ot["required"]},pint:{required:ot["required"]},rc_cash:{required:ot["required"]},sc:{required:ot["required"]},reason:{required:ot["required"]}}},computed:Object(c["a"])(Object(c["a"])({},Object(l["b"])({pendingtrans:"pendingTran/getPendingTrans",pendingtranErrors:"pendingTran/getPendingTranErrors",serverdate:"serverDate"})),{},{dialog:function(){return this.$store.state.dialog},loadingStatus:function(){return this.$store.state.loading},computedDateFormatted:function(){var e=null;return e=this.editedPendingTran.docdate?this.moment(this.editedPendingTran.docdate).format("DD"):null,e}}),watch:{pendingtrans:function(){this.$v.$reset()},serverdate:function(e){this.filterDate=this.moment(e.date).format("YYYY-MM-DD")}},created:function(){var e={date:this.filterDate};this.$store.dispatch("pendingTran/fetchPendingTrans",e),this.$store.dispatch("fetchDate")},methods:{refreshData:function(){var e={date:this.filterDate};this.$store.dispatch("pendingTran/fetchPendingTrans",e),this.$store.dispatch("fetchDate")},checkSched:function(e){return this.moment(e.date).format("YYYY-MM-DD")==this.moment(this.serverdate.date).format("YYYY-MM-DD")?1===e.schedule?(this.canAdd=!1,!0):(this.canAdd=!1,!1):this.moment(e.date).format("YYYY-MM-DD")==this.moment(this.serverdate.date).subtract(1,"days").format("YYYY-MM-DD")&&0===e.schedule?(this.canAdd=!1,!0):(this.canAdd=!0,!1)},filterWithDate:function(){var e={date:this.filterDate};this.$store.dispatch("pendingTran/fetchPendingTrans",e)},isNumber:function(e){e=e||window.event;var t=e.which?e.which:e.keyCode;if(!(t>31&&(t<48||t>57)&&46!==t))return!0;e.preventDefault()},reset:function(){this.editedPendingTran=this.defaultPendingTran},deletePendingTran:function(e){this.$store.dispatch("pendingTran/deletePendingTran",e)},copyPendingTran:function(e){console.log(e),this.editedPendingTran=Object.assign({},e)},update:function(e,t,a){var i={id:e,key:t,value:a};console.log(i),this.$store.dispatch("pendingTran/updatePendingTran",i)},save:function(e){this.editedPendingTran.branch=e.id,this.editedPendingTran.date=this.moment(e.date).format("YYYY-MM-DD"),console.log(this.editedPendingTran),this.$store.dispatch("pendingTran/storePendingTran",this.editedPendingTran)},addAll:function(e){this.$store.dispatch("pendingTran/addAllPendingTran",e)}}},Xi=Qi,Zi=a("7679"),er=a("1f4f"),tr=Object(m["a"])(Xi,Wi,Ji,!1,null,null,null),ar=tr.exports;v()(tr,{VBtn:O["a"],VContainer:we["a"],VDataTable:P["a"],VDatePicker:Pi["a"],VDivider:h["a"],VEditDialog:Zi["a"],VIcon:f["a"],VListItem:b["a"],VListItemContent:T["b"],VListItemSubtitle:T["c"],VMenu:U["a"],VSimpleTable:er["a"],VSpacer:F["a"],VTextField:qe["a"],VToolbar:W["a"],VToolbarTitle:J["b"],VTooltip:Q["a"]});var ir=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.tct_data,search:e.search,loading:e.loadingStatus,"show-select":""},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Land Docs Archived")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),e.userCanCreate_role?a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.openDialog}},i),[a("v-icon",[e._v("mdi-plus-circle")])],1)]}}],null,!1,2001171856)},[a("span",[e._v("Add")])]):e._e(),e.deleteAll?a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{disabled:!e.selected.length>0,text:"",icon:""},on:{click:function(t){return e.deleteItem()}}},i),[a("v-icon",[e._v("delete")])],1)]}}],null,!1,2093056869)},[a("span",[e._v("Delete")])]):e._e(),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.refreshData}},i),[a("v-icon",[e._v("mdi-refresh")])],1)]}}])},[a("span",[e._v("Refresh")])]),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-dialog",{attrs:{fullscreen:"",persistent:"",scrollable:"",value:e.dialog,"max-width":"500px","hide-overlay":"",transition:"dialog-bottom-transition"}},[a("v-card",[a("v-car-title",[a("v-toolbar",[a("v-btn",{attrs:{icon:""},on:{click:e.close}},[a("v-icon",[e._v("mdi-close")])],1),!0!==e.viewMode?a("v-toolbar-title",[e._v(" "+e._s(e.formTitle))]):e._e(),!1!==e.viewMode?a("v-toolbar-title",{staticStyle:{"text-transform":"uppercase","font-size":"12px","font-weight":"bold"}},[e._v(e._s(e.reportID))]):e._e(),a("v-spacer"),a("v-toolbar-items",[!0!==e.viewMode?a("v-btn",{attrs:{text:""},on:{click:e.save}},[e._v(" "+e._s(-1===e.editedIndex?"Submit":"Update"))]):e._e()],1)],1)],1),a("v-card-text",[a("v-container",[a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{attrs:{cols:"12",sm:"4"}},[a("v-card",{staticClass:"pa-2",attrs:{outlined:"",tile:""}},[a("fieldset",{staticClass:"pa-4"},[a("legend",[e._v("TCT DETAILS")]),a("v-text-field",{attrs:{disabled:e.loadingStatus,label:"TCT No:","error-messages":e.tctNumberError,required:""},on:{input:function(t){return e.$v.archivedData.tctinfo.tctNumber.$touch()}},model:{value:e.archivedData.tctinfo.tctNumber,callback:function(t){e.$set(e.archivedData.tctinfo,"tctNumber",t)},expression:"archivedData.tctinfo.tctNumber"}}),a("v-text-field",{attrs:{disabled:e.loadingStatus,"error-messages":e.areaError,label:"Area:"},model:{value:e.archivedData.tctinfo.area,callback:function(t){e.$set(e.archivedData.tctinfo,"area",t)},expression:"archivedData.tctinfo.area"}}),a("v-text-field",{attrs:{disabled:e.loadingStatus,"error-messages":e.locationError,label:"Location:"},model:{value:e.archivedData.tctinfo.location,callback:function(t){e.$set(e.archivedData.tctinfo,"location",t)},expression:"archivedData.tctinfo.location"}}),a("v-dialog",{ref:"dialog",attrs:{"return-value":e.archivedData.tctinfo.dateAquired,persistent:"",width:"290px"},on:{"update:returnValue":function(t){return e.$set(e.archivedData.tctinfo,"dateAquired",t)},"update:return-value":function(t){return e.$set(e.archivedData.tctinfo,"dateAquired",t)}},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,r=t.attrs;return[a("v-text-field",e._g(e._b({attrs:{label:"Date Acquired","prepend-icon":"mdi-calendar","error-messages":e.dateAquiredError,readonly:""},model:{value:e.archivedData.tctinfo.dateAquired,callback:function(t){e.$set(e.archivedData.tctinfo,"dateAquired",t)},expression:"archivedData.tctinfo.dateAquired"}},"v-text-field",r,!1),i))]}}]),model:{value:e.dateAquredM,callback:function(t){e.dateAquredM=t},expression:"dateAquredM"}},[a("v-date-picker",{attrs:{scrollable:""},model:{value:e.archivedData.tctinfo.dateAquired,callback:function(t){e.$set(e.archivedData.tctinfo,"dateAquired",t)},expression:"archivedData.tctinfo.dateAquired"}},[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.dateAquredM=!1}}},[e._v(" Cancel ")]),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.dialog.save(e.archivedData.tctinfo.dateAquired)}}},[e._v(" OK ")])],1)],1)],1),a("fieldset",{staticClass:"pa-4"},[a("legend",[e._v("TAX DECLARATION DETAILS")]),a("v-text-field",{attrs:{disabled:e.loadingStatus,"error-messages":e.taxDecNumberError,label:"Tax Declaration No:"},model:{value:e.archivedData.taxDecInfo.taxDecNumber,callback:function(t){e.$set(e.archivedData.taxDecInfo,"taxDecNumber",t)},expression:"archivedData.taxDecInfo.taxDecNumber"}}),a("v-text-field",{attrs:{disabled:e.loadingStatus,"error-messages":e.ownerError,label:"Owner:"},model:{value:e.archivedData.taxDecInfo.owner,callback:function(t){e.$set(e.archivedData.taxDecInfo,"owner",t)},expression:"archivedData.taxDecInfo.owner"}}),a("v-text-field",{attrs:{disabled:e.loadingStatus,"error-messages":e.previousOwnerError,label:"Previous Owner:"},model:{value:e.archivedData.taxDecInfo.previousOwner,callback:function(t){e.$set(e.archivedData.taxDecInfo,"previousOwner",t)},expression:"archivedData.taxDecInfo.previousOwner"}}),a("label",[e._v("Type")]),a("v-radio-group",{attrs:{"error-messages":e.taxDecOptionError,row:""},model:{value:e.archivedData.taxDecInfo.taxDecOption,callback:function(t){e.$set(e.archivedData.taxDecInfo,"taxDecOption",t)},expression:"archivedData.taxDecInfo.taxDecOption"}},[a("v-radio",{attrs:{label:"Land",value:"tax-dec-land"}}),a("v-radio",{attrs:{label:"Building",value:"tax-dec-building"}})],1)],1)])],1),a("v-col",{attrs:{cols:"12",sm:"4"}},[a("v-card",{staticClass:"pa-2",attrs:{outlined:"",tile:""}},[a("fieldset",{staticClass:"pa-4"},[a("legend",[e._v("REAL PROPERTY TAX DETAILS")]),a("v-text-field",{attrs:{disabled:e.loadingStatus,"error-messages":e.realPropertyTaxNumberError,label:"Real Property Tax No:"},model:{value:e.archivedData.realProInfo.realPropertyTaxNumber,callback:function(t){e.$set(e.archivedData.realProInfo,"realPropertyTaxNumber",t)},expression:"\n                              archivedData.realProInfo.realPropertyTaxNumber\n                            "}}),a("v-dialog",{ref:"dialog3",attrs:{"return-value":e.archivedData.realProInfo.realPropertyTaxDate,persistent:"",width:"290px"},on:{"update:returnValue":function(t){return e.$set(e.archivedData.realProInfo,"realPropertyTaxDate",t)},"update:return-value":function(t){return e.$set(e.archivedData.realProInfo,"realPropertyTaxDate",t)}},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,r=t.attrs;return[a("v-text-field",e._g(e._b({attrs:{"error-messages":e.realPropertyTaxDateError,label:"Date","prepend-icon":"mdi-calendar",readonly:""},model:{value:e.archivedData.realProInfo2.realPropertyTaxDate,callback:function(t){e.$set(e.archivedData.realProInfo2,"realPropertyTaxDate",t)},expression:"\n                                  archivedData.realProInfo2.realPropertyTaxDate\n                                "}},"v-text-field",r,!1),i))]}}]),model:{value:e.realPropDM,callback:function(t){e.realPropDM=t},expression:"realPropDM"}},[a("v-date-picker",{attrs:{scrollable:""},model:{value:e.archivedData.realProInfo2.realPropertyTaxDate,callback:function(t){e.$set(e.archivedData.realProInfo2,"realPropertyTaxDate",t)},expression:"\n                                archivedData.realProInfo2.realPropertyTaxDate\n                              "}},[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.realPropDM=!1}}},[e._v(" Cancel ")]),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.dialog3.save(e.archivedData.realProInfo2.realPropertyTaxDate)}}},[e._v(" OK ")])],1)],1),a("v-radio-group",{attrs:{"error-messages":e.realPropertyTaxOptionError,row:""},model:{value:e.archivedData.realProInfo.realPropertyTaxOption,callback:function(t){e.$set(e.archivedData.realProInfo,"realPropertyTaxOption",t)},expression:"\n                              archivedData.realProInfo.realPropertyTaxOption\n                            "}},[a("v-radio",{attrs:{label:"Land",value:"real-proper-land"}}),a("v-radio",{attrs:{label:"Building",value:"real-proper-building"}})],1),a("v-text-field",{attrs:{"error-messages":e.realPropertyTaxAmountError,disabled:e.loadingStatus,label:"Amount:"},model:{value:e.archivedData.realProInfo.realPropertyTaxAmount,callback:function(t){e.$set(e.archivedData.realProInfo,"realPropertyTaxAmount",t)},expression:"\n                              archivedData.realProInfo.realPropertyTaxAmount\n                            "}}),a("v-text-field",{attrs:{disabled:e.loadingStatus,"error-messages":e.zonalValueError,label:"Zonal Value:"},model:{value:e.archivedData.zonalValue,callback:function(t){e.$set(e.archivedData,"zonalValue",t)},expression:"archivedData.zonalValue"}})],1)]),a("v-card",{staticClass:"pa-2",attrs:{outlined:"",tile:""}},[a("fieldset",{staticClass:"pa-4"},[a("legend",[e._v("REAL PROPERY TAX / TAX DECLARATION")]),a("v-dialog",{attrs:{transition:"dialog-bottom-transition"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,r=t.attrs;return[a("v-btn",e._g(e._b({attrs:{color:"primary"}},"v-btn",r,!1),i),[e._v(e._s(1==e.viewMode?"View Additional Data":-1===e.editedIndex?"Create Additional Data":"Update Additional Data"))])]}},{key:"default",fn:function(t){return[a("v-card",[a("v-toolbar",{attrs:{dark:""}},[e._v("Real Property / Tax Declaration / Attachment")]),a("v-card-text",[a("div",{staticClass:"pa-12"},[a("v-row",{attrs:{"no-gutters":""}},[a("v-col",[a("v-card",{staticClass:"pa-2",attrs:{outlined:"",tile:""}},[a("fieldset",{staticClass:"pa-4"},[a("legend",[e._v(" TAX DECLARATION DETAILS ")]),a("v-text-field",{attrs:{disabled:e.loadingStatus,label:"Tax Declaration No:"},model:{value:e.archivedData.taxDecInfo2.taxDecNumber,callback:function(t){e.$set(e.archivedData.taxDecInfo2,"taxDecNumber",t)},expression:"\n                                                archivedData.taxDecInfo2\n                                                  .taxDecNumber\n                                              "}}),a("v-text-field",{attrs:{disabled:e.loadingStatus,label:"Owner:"},model:{value:e.archivedData.taxDecInfo2.owner,callback:function(t){e.$set(e.archivedData.taxDecInfo2,"owner",t)},expression:"\n                                                archivedData.taxDecInfo2.owner\n                                              "}}),a("v-text-field",{attrs:{disabled:e.loadingStatus,label:"Previous Owner:"},model:{value:e.archivedData.taxDecInfo2.previousOwner,callback:function(t){e.$set(e.archivedData.taxDecInfo2,"previousOwner",t)},expression:"\n                                                archivedData.taxDecInfo2\n                                                  .previousOwner\n                                              "}}),a("label",[e._v("Type")]),a("v-radio-group",{attrs:{row:""},model:{value:e.archivedData.taxDecInfo2.taxDecOption,callback:function(t){e.$set(e.archivedData.taxDecInfo2,"taxDecOption",t)},expression:"\n                                                archivedData.taxDecInfo2\n                                                  .taxDecOption\n                                              "}},[a("v-radio",{attrs:{label:"Land",value:"tax-dec-land"}}),a("v-radio",{attrs:{label:"Building",value:"tax-dec-building"}})],1)],1)])],1),a("v-col",{attrs:{order:"12"}},[a("v-card",{staticClass:"pa-2",attrs:{outlined:"",tile:""}},[a("fieldset",{staticClass:"pa-4"},[a("legend",[e._v(" "+e._s(1==e.viewMode?"DOWNLOAD":"")+" ATTACHMENT ")]),0==e.viewMode?a("v-file-input",{attrs:{placeholder:"Transfer Certificate Of Title",multiple:"",dense:"","prepend-icon":"mdi-paperclip"},on:{change:e.getfile,"click:clear":function(t){return e.deleteattachment({name:"tct_data",id:e.archivedData.tctinfo2.id,iden:1})}},scopedSlots:e._u([{key:"selection",fn:function(t){var i=t.text;return[a("v-chip",{attrs:{small:"",label:"",color:"primary"}},[e._v(" "+e._s(i)+" ")])]}}],null,!0),model:{value:e.archivedData.tctinfo2.tctFile,callback:function(t){e.$set(e.archivedData.tctinfo2,"tctFile",t)},expression:"\n                                                archivedData.tctinfo2.tctFile\n                                              "}}):e._e(),0==e.viewMode?a("v-file-input",{attrs:{dense:"",placeholder:"Tax Declaration",multiple:"","prepend-icon":"mdi-paperclip"},on:{"click:clear":function(t){return e.deleteattachment({name:"tax_dec_data",id:e.archivedData.tctinfo2.id,iden:1})}},scopedSlots:e._u([{key:"selection",fn:function(t){var i=t.text;return[a("v-chip",{attrs:{small:"",label:"",color:"primary"}},[e._v(" "+e._s(i)+" ")])]}}],null,!0),model:{value:e.archivedData.taxDecInfo2.taxdecFile,callback:function(t){e.$set(e.archivedData.taxDecInfo2,"taxdecFile",t)},expression:"\n                                                archivedData.taxDecInfo2\n                                                  .taxdecFile\n                                              "}}):e._e(),0==e.viewMode?a("v-file-input",{attrs:{placeholder:"Real Property Tax",multiple:"",dense:"","prepend-icon":"mdi-paperclip"},on:{"click:clear":function(t){return e.deleteattachment({name:"real_property_tax_data",id:e.archivedData.tctinfo2.id,iden:1})}},scopedSlots:e._u([{key:"selection",fn:function(t){var i=t.text;return[a("v-chip",{attrs:{small:"",label:"",color:"primary"}},[e._v(" "+e._s(i)+" ")])]}}],null,!0),model:{value:e.archivedData.realProInfo2.realPropertyTaxFile,callback:function(t){e.$set(e.archivedData.realProInfo2,"realPropertyTaxFile",t)},expression:"\n                                                archivedData.realProInfo2\n                                                  .realPropertyTaxFile\n                                              "}}):e._e(),0==e.viewMode?a("v-file-input",{attrs:{placeholder:"Deed Of Sale",multiple:"",dense:"","prepend-icon":"mdi-paperclip"},on:{"click:clear":function(t){return e.deleteattachment({name:"deed_of_sale_data",id:e.archivedData.tctinfo2.id,iden:1})}},scopedSlots:e._u([{key:"selection",fn:function(t){var i=t.text;return[a("v-chip",{attrs:{small:"",label:"",color:"primary"}},[e._v(" "+e._s(i)+" ")])]}}],null,!0),model:{value:e.archivedData.deedOfSaleFile2,callback:function(t){e.$set(e.archivedData,"deedOfSaleFile2",t)},expression:"\n                                                archivedData.deedOfSaleFile2\n                                              "}}):e._e(),0==e.viewMode?a("v-file-input",{attrs:{label:"Vicinity Map",filledtctFile:"","prepend-icon":"mdi-camera"},on:{"click:clear":function(t){return e.deleteattachment({name:"vicinity_map_data",id:e.archivedData.tctinfo2.id,iden:1})}},model:{value:e.archivedData.vicinityMapFile2,callback:function(t){e.$set(e.archivedData,"vicinityMapFile2",t)},expression:"\n                                                archivedData.vicinityMapFile2\n                                              "}}):e._e(),1==e.viewMode?a("div",e._l(e.downloadData2.data,(function(t,i){return a("div",{key:i},["update"!==t.id?a("v-btn",{attrs:{"x-small":"",color:"secondary",dark:"",disabled:0==e.Download_role},on:{click:function(a){return e.download(t)}}},[a("strong",{staticStyle:{"white-space":"nowrap",width:"150px",overflow:"hidden","text-overflow":"ellipsis"}},[e._v(e._s(t.name)+" ")]),a("strong",{staticStyle:{color:"orange"}},[e._v("~( "+e._s(t.size)+")")]),a("v-icon",{attrs:{right:"",color:"green"}},[e._v("mdi-download")])],1):e._e()],1)})),0):e._e()],1)])],1),a("v-col",{attrs:{order:"1"}},[a("v-card",{staticClass:"pa-2",attrs:{outlined:"",tile:""}},[a("fieldset",{staticClass:"pa-4"},[a("legend",[e._v(" REAL PROPERTY TAX DETAILS ")]),a("v-text-field",{attrs:{disabled:e.loadingStatus,label:"Real Property Tax No:"},model:{value:e.archivedData.realProInfo2.realPropertyTaxNumber,callback:function(t){e.$set(e.archivedData.realProInfo2,"realPropertyTaxNumber",t)},expression:"\n                                                archivedData.realProInfo2\n                                                  .realPropertyTaxNumber\n                                              "}}),a("v-dialog",{ref:"dialog2",attrs:{"return-value":e.archivedData.realProInfo2.realPropertyTaxDate,persistent:"",width:"290px"},on:{"update:returnValue":function(t){return e.$set(e.archivedData.realProInfo2,"realPropertyTaxDate",t)},"update:return-value":function(t){return e.$set(e.archivedData.realProInfo2,"realPropertyTaxDate",t)}},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,r=t.attrs;return[a("v-text-field",e._g(e._b({attrs:{label:"Date","prepend-icon":"mdi-calendar",readonly:""},model:{value:e.archivedData.realProInfo2.realPropertyTaxDate,callback:function(t){e.$set(e.archivedData.realProInfo2,"realPropertyTaxDate",t)},expression:"\n                                                    archivedData.realProInfo2\n                                                      .realPropertyTaxDate\n                                                  "}},"v-text-field",r,!1),i))]}}],null,!0),model:{value:e.realPropDM,callback:function(t){e.realPropDM=t},expression:"realPropDM"}},[a("v-date-picker",{attrs:{scrollable:""},model:{value:e.archivedData.realProInfo2.realPropertyTaxDate,callback:function(t){e.$set(e.archivedData.realProInfo2,"realPropertyTaxDate",t)},expression:"\n                                                  archivedData.realProInfo2\n                                                    .realPropertyTaxDate\n                                                "}},[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.realPropDM=!1}}},[e._v(" Cancel ")]),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.dialog2.save(e.archivedData.realProInfo2.realPropertyTaxDate)}}},[e._v(" OK ")])],1)],1),a("v-radio-group",{attrs:{row:""},model:{value:e.archivedData.realProInfo2.realPropertyTaxOption,callback:function(t){e.$set(e.archivedData.realProInfo2,"realPropertyTaxOption",t)},expression:"\n                                                archivedData.realProInfo2\n                                                  .realPropertyTaxOption\n                                              "}},[a("v-radio",{attrs:{label:"Land",value:"real-proper-land"}}),a("v-radio",{attrs:{label:"Building",value:"real-proper-building"}})],1),a("v-text-field",{attrs:{disabled:e.loadingStatus,label:"Amount:"},model:{value:e.archivedData.realProInfo2.realPropertyTaxAmount,callback:function(t){e.$set(e.archivedData.realProInfo2,"realPropertyTaxAmount",t)},expression:"\n                                                archivedData.realProInfo2\n                                                  .realPropertyTaxAmount\n                                              "}}),a("v-text-field",{attrs:{disabled:e.loadingStatus,label:"Zonal Value:"},model:{value:e.archivedData.zonalValue2,callback:function(t){e.$set(e.archivedData,"zonalValue2",t)},expression:"\n                                                archivedData.zonalValue2\n                                              "}})],1)])],1)],1)],1)]),a("v-card-actions",{staticClass:"justify-end"},[a("v-btn",{attrs:{text:""},on:{click:function(e){t.value=!1}}},[e._v("Close")])],1)],1)]}}])})],1)])],1),a("v-col",{attrs:{cols:"12",sm:"4"}},[a("v-card",{staticClass:"pa-2",attrs:{outlined:"",tile:""}},[a("fieldset",{staticClass:"pa-4"},[a("legend",[e._v(" "+e._s(1==e.viewMode?"DOWNLOAD":"")+" ATTACHMENT ")]),0==e.viewMode?a("v-file-input",{attrs:{placeholder:"Transfer Certificate Of Title",multiple:"",dense:"","prepend-icon":"mdi-paperclip"},on:{change:e.getfile,"click:clear":function(t){return e.deleteattachment({name:"tct_data",id:e.archivedData.tctinfo.id,iden:0})}},scopedSlots:e._u([{key:"selection",fn:function(t){var i=t.text;return[a("v-chip",{attrs:{small:"",label:"",color:"primary"}},[e._v(" "+e._s(i)+" ")])]}}],null,!1,590729088),model:{value:e.archivedData.tctinfo.tctFile,callback:function(t){e.$set(e.archivedData.tctinfo,"tctFile",t)},expression:"archivedData.tctinfo.tctFile"}}):e._e(),0==e.viewMode?a("v-file-input",{attrs:{dense:"",placeholder:"Tax Declaration",multiple:"","prepend-icon":"mdi-paperclip"},on:{"click:clear":function(t){return e.deleteattachment({name:"tax_dec_data",id:e.archivedData.tctinfo.id,iden:0})}},scopedSlots:e._u([{key:"selection",fn:function(t){var i=t.text;return[a("v-chip",{attrs:{small:"",label:"",color:"primary"}},[e._v(" "+e._s(i)+" ")])]}}],null,!1,590729088),model:{value:e.archivedData.taxDecInfo.taxdecFile,callback:function(t){e.$set(e.archivedData.taxDecInfo,"taxdecFile",t)},expression:"archivedData.taxDecInfo.taxdecFile"}}):e._e(),0==e.viewMode?a("v-file-input",{attrs:{placeholder:"Real Property Tax",multiple:"",dense:"","prepend-icon":"mdi-paperclip"},on:{"click:clear":function(t){return e.deleteattachment({name:"real_property_tax_data",id:e.archivedData.tctinfo.id,iden:0})}},scopedSlots:e._u([{key:"selection",fn:function(t){var i=t.text;return[a("v-chip",{attrs:{small:"",label:"",color:"primary"}},[e._v(" "+e._s(i)+" ")])]}}],null,!1,590729088),model:{value:e.archivedData.realProInfo.realPropertyTaxFile,callback:function(t){e.$set(e.archivedData.realProInfo,"realPropertyTaxFile",t)},expression:"\n                              archivedData.realProInfo.realPropertyTaxFile\n                            "}}):e._e(),0==e.viewMode?a("v-file-input",{attrs:{placeholder:"Deed Of Sale",multiple:"",dense:"","prepend-icon":"mdi-paperclip"},on:{"click:clear":function(t){return e.deleteattachment({name:"deed_of_sale_data",id:e.archivedData.tctinfo.id,iden:0})}},scopedSlots:e._u([{key:"selection",fn:function(t){var i=t.text;return[a("v-chip",{attrs:{small:"",label:"",color:"primary"}},[e._v(" "+e._s(i)+" ")])]}}],null,!1,590729088),model:{value:e.archivedData.deedOfSaleFile,callback:function(t){e.$set(e.archivedData,"deedOfSaleFile",t)},expression:"archivedData.deedOfSaleFile"}}):e._e(),0==e.viewMode?a("v-file-input",{attrs:{label:"Vicinity Map",filledtctFile:"","prepend-icon":"mdi-camera"},on:{"click:clear":function(t){return e.deleteattachment({name:"vicinity_map_data",id:e.archivedData.tctinfo.id,iden:0})}},model:{value:e.archivedData.vicinityMapFile,callback:function(t){e.$set(e.archivedData,"vicinityMapFile",t)},expression:"archivedData.vicinityMapFile"}}):e._e(),1==e.viewMode?a("div",e._l(e.downloadData.data,(function(t,i){return a("div",{key:i},["update"!==t.id?a("v-btn",{attrs:{"x-small":"",color:"secondary",dark:"",disabled:0==e.Download_role},on:{click:function(a){return e.download(t)}}},[a("strong",{staticStyle:{"white-space":"nowrap",width:"150px",overflow:"hidden","text-overflow":"ellipsis"}},[e._v(e._s(t.name)+" ")]),a("strong",{staticStyle:{color:"orange"}},[e._v("~( "+e._s(t.size)+")")]),a("v-icon",{attrs:{right:"",color:"green"}},[e._v("mdi-download")])],1):e._e()],1)})),0):e._e()],1)])],1)],1)],1)],1)],1)],1)],1)]},proxy:!0},{key:"item.action",fn:function(t){var i=t.item;return[e.Editdoc_role?a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editArchived(i)}}},[e._v(" mdi-pencil ")]):e._e(),e.ShowDoc_role?a("v-icon",{attrs:{small:""},on:{click:function(t){return e.viewArchived(i)}}},[e._v(" mdi-content-duplicate ")]):e._e()]}}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1)],1)},rr=[],nr=(a("caad"),a("2532"),{mixins:[nt["validationMixin"]],data:function(){return{search:"",selected:[],disabledCount:0,headers:[{text:"TCT_NO",align:"left",value:"tct_no"},{text:"OWNER",align:"left",value:"owner"},{text:"LOCATION",align:"left",value:"location"},{text:"FILE CREATED",align:"left",value:"created_at"},{text:"Actions",align:"center",value:"action",sortable:!1}],editedIndex:-1,editedProvider:{name:""},defaultProvider:{name:""},dateAquredM:!1,realPropDM:!1,archivedData:{tctinfo:{tctNumber:"",location:"",dateAquired:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),tctFile:[]},tctinfo2:{tctFile:[]},taxDecInfo:{taxDecNumber:"",taxDecOption:"tax-dec-land",owner:"",previousOwner:"",taxdecFile:[]},taxDecInfo2:{taxDecNumber:"",taxDecOption:"tax-dec-land",owner:"",previousOwner:"",taxdecFile:[]},realProInfo:{realPropertyTaxNumber:"",realPropertyTaxDate:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),realPropertyTaxOption:"real-proper-land",realPropertyTaxFile:[],realPropertyTaxAmount:""},realProInfo2:{realPropertyTaxNumber:"",realPropertyTaxDate:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),realPropertyTaxOption:"real-proper-land",realPropertyTaxFile:[],realPropertyTaxAmount:""},zonalValue:"",deedOfSaleFile:[],vicinityMapFile:[],zonalValue2:"",deedOfSaleFile2:[],vicinityMapFile2:[]},viewMode:!1,reportID:"",downloadData:[],downloadData2:[]}},validations:{archivedData:{tctinfo:{tctNumber:{required:ot["required"]},location:{required:ot["required"]},dateAquired:{required:ot["required"]},area:{required:ot["required"]}},taxDecInfo:{taxDecNumber:{required:ot["required"]},taxDecOption:{required:ot["required"]},owner:{required:ot["required"]},previousOwner:{required:ot["required"]}},realProInfo:{realPropertyTaxNumber:{required:ot["required"]},realPropertyTaxDate:{required:ot["required"]},realPropertyTaxOption:{required:ot["required"]},realPropertyTaxAmount:{required:ot["required"]}},zonalValue:{required:ot["required"]}}},computed:Object(c["a"])(Object(c["a"])({},Object(l["b"])({tct_data:"archived/getArchived",response:"archived/getResponse",permissions:"userPermissions/getPermission"})),{},{deleteAll:function(){return this.permissions.includes("Delete Archived")},userCanCreate_role:function(){return this.permissions.includes("Create Archived")},ShowDoc_role:function(){return this.permissions.includes("Show Archived")},Editdoc_role:function(){return this.permissions.includes("Edit Archived")},Download_role:function(){return this.permissions.includes("Download Archived Files")},tctNumberError:function(){var e=[],t=null;return this.$v.archivedData.tctinfo.tctNumber.$dirty?(t="This field is required.",!this.$v.archivedData.tctinfo.tctNumber.required&&e.push(t),e):e},areaError:function(){var e=[],t=null;return this.$v.archivedData.tctinfo.area.$dirty?(t="This field is required.",!this.$v.archivedData.tctinfo.area.required&&e.push(t),e):e},locationError:function(){var e=[],t=null;return this.$v.archivedData.tctinfo.location.$dirty?(t="This field is required.",!this.$v.archivedData.tctinfo.location.required&&e.push(t),e):e},dateAquiredError:function(){var e=[],t=null;return this.$v.archivedData.tctinfo.dateAquired.$dirty?(t="This field is required.",!this.$v.archivedData.tctinfo.dateAquired.required&&e.push(t),e):e},taxDecNumberError:function(){var e=[],t=null;return this.$v.archivedData.taxDecInfo.taxDecNumber.$dirty?(t="This field is required.",!this.$v.archivedData.taxDecInfo.taxDecNumber.required&&e.push(t),e):e},taxDecOptionError:function(){var e=[],t=null;return this.$v.archivedData.taxDecInfo.taxDecOption.$dirty?(t="This field is required.",!this.$v.archivedData.taxDecInfo.taxDecOption.required&&e.push(t),e):e},ownerError:function(){var e=[],t=null;return this.$v.archivedData.taxDecInfo.owner.$dirty?(t="This field is required.",!this.$v.archivedData.taxDecInfo.owner.required&&e.push(t),e):e},previousOwnerError:function(){var e=[],t=null;return this.$v.archivedData.taxDecInfo.previousOwner.$dirty?(t="This field is required.",!this.$v.archivedData.taxDecInfo.previousOwner.required&&e.push(t),e):e},realPropertyTaxNumberError:function(){var e=[],t=null;return this.$v.archivedData.realProInfo.realPropertyTaxNumber.$dirty?(t="This field is required.",!this.$v.archivedData.realProInfo.realPropertyTaxNumber.required&&e.push(t),e):e},realPropertyTaxDateError:function(){var e=[],t=null;return this.$v.archivedData.realProInfo.realPropertyTaxDate.$dirty?(t="This field is required.",!this.$v.archivedData.realProInfo.realPropertyTaxDate.required&&e.push(t),e):e},realPropertyTaxOptionError:function(){var e=[],t=null;return this.$v.archivedData.realProInfo.realPropertyTaxOption.$dirty?(t="This field is required.",!this.$v.archivedData.realProInfo.realPropertyTaxOption.required&&e.push(t),e):e},realPropertyTaxAmouonalValuentError:function(){var e=[],t=null;return this.$v.archivedData.realProInfo.realPropertyTaxAmount.$dirty?(t="This field is required.",!this.$v.archivedData.realProInfo.realPropertyTaxAmount.required&&e.push(t),e):e},zonalValueError:function(){var e=[],t=null;return this.$v.archivedData.zonalValue.$dirty?(t="This field is required.",!this.$v.archivedData.zonalValue.required&&e.push(t),e):e},dialog:function(){return this.$store.state.dialog},loadingStatus:function(){return this.$store.state.loading},formTitle:function(){return-1===this.editedIndex?"New Achived":"Edit Achived"}}),watch:{providers:function(){this.$v.$reset()}},created:function(){this.$store.dispatch("userPermissions/fetchPermission"),this.$store.dispatch("archived/fetchArchived")},methods:{refreshData:function(){console.log("dd"),this.$store.dispatch("archived/fetchArchived"),this.archivedData={tctinfo:{id:"",tctNumber:"",location:"",dateAquired:"",tctFile:[],tctFileID:"",area:""},tctinfo2:{id:"",tctFile:[],tctFileID2:""},taxDecInfo:{taxDecNumber:"",taxDecOption:"",owner:"",previousOwner:"",taxdecFile:[],taxdecFileID:""},taxDecInfo2:{taxDecNumber:"",taxDecOption:"",owner:"",previousOwner:"",taxdecFile:[],taxdecFileID:""},realProInfo:{realPropertyTaxNumber:"",realPropertyTaxDate:"",realPropertyTaxOption:"",realPropertyTaxFile:[],realPropertyTaxFileID:"",realPropertyTaxAmount:""},realProInfo2:{realPropertyTaxNumber:"",realPropertyTaxDate:"",realPropertyTaxOption:"",realPropertyTaxFile:[],realPropertyTaxFileID:"",realPropertyTaxAmount:""},zonalValue:"",deedOfSaleFile:[],deedOfSaleFileID:"",vicinityMapFile:[],vicinityMapFileID:"",zonalValue2:"",deedOfSaleFile2:[],deedOfSaleFileID2:"",vicinityMapFile2:[],vicinityMapFileID2:""}},openDialog:function(){this.viewMode=!1,this.refreshData(),this.editedIndex=-1,this.$store.dispatch("triggerDialog",!0)},getfile:function(){console.log(this.archivedData.tctinfo.tctFile)},deleteattachment:function(e){this.$store.dispatch("archived/attachmentDeletions",e)},editArchived:function(e){this.viewMode=!1;var t,a,i,r,n,o,s,c,l,d,u=this.tct_data.indexOf(e);this.editedIndex=u,console.log(this.editedIndex),t=e.tax_dec_data[0]?e.tax_dec_data[0]:{filename:"Empty Data",id:"update"},a=e.tct_data[0]?e.tct_data[0]:{filename:"Empty Data",id:"update"},i=e.real_property_data[0]?e.real_property_data[0]:{filename:"Empty Data",id:"update"},r=e.vicinity_map_data[0]?e.vicinity_map_data[0]:{filename:"Empty Data",id:"update"},n=e.deed_of_sale_data[0]?e.deed_of_sale_data[0]:{filename:"Empty Data",id:"update"},o=e.archived_new[0].tax_dec_data2[0]?e.archived_new[0].tax_dec_data2[0]:{filename:"Empty Data",id:"update"},s=e.archived_new[0].tct_data2[0]?e.archived_new[0].tct_data2[0]:{filename:"Empty Data",id:"update"},c=e.archived_new[0].real_property_data2[0]?e.archived_new[0].real_property_data2[0]:{filename:"Empty Data",id:"update"},l=e.archived_new[0].vicinity_map_data2[0]?e.archived_new[0].vicinity_map_data2[0]:{filename:"Empty Data",id:"update"},d=e.archived_new[0].deed_of_sale_data2[0]?e.archived_new[0].deed_of_sale_data2[0]:{filename:"Empty Data",id:"update"},this.archivedData={tctinfo:{id:e.id,tctNumber:e.tct_no,location:e.location,dateAquired:e.date_aquired,tctFile:[{name:a.filename}],tctFileID:a.id,area:e.area},tctinfo2:{id:e.archived_new[0].id,tctFile:[{name:s.filename}],tctFileID:s.id},taxDecInfo:{taxDecNumber:e.tax_dec_no,taxDecOption:e.tax_dec_option,owner:e.owner,previousOwner:e.previous_owner,taxdecFile:[{name:t.filename}],taxdecFileID:t.id},taxDecInfo2:{taxDecNumber:e.archived_new[0].tax_dec_no,taxDecOption:e.archived_new[0].tax_dec_option,owner:e.archived_new[0].owner,previousOwner:e.archived_new[0].previous_owner,taxdecFile:[{name:o.filename}],taxdecFileID:o.id},realProInfo:{realPropertyTaxNumber:e.real_property_tax_no,realPropertyTaxDate:e.real_property_tax_date,realPropertyTaxOption:e.real_property_tax_option,realPropertyTaxFile:[{name:i.filename}],realPropertyTaxFileID:i.id,realPropertyTaxAmount:e.real_property_tax_amount},realProInfo2:{realPropertyTaxNumber:e.archived_new[0].real_property_tax_no,realPropertyTaxDate:e.archived_new[0].real_property_tax_date,realPropertyTaxOption:e.archived_new[0].real_property_tax_option,realPropertyTaxFile:[{name:c.filename}],realPropertyTaxFileID:c.id,realPropertyTaxAmount:e.archived_new[0].real_property_tax_amount},zonalValue:e.zonal_value,deedOfSaleFile:[{name:n.filename}],deedOfSaleFileID:n.id,vicinityMapFile:[{name:r.filename}],vicinityMapFileID:r.id,zonalValue2:e.archived_new[0].zonal_value,deedOfSaleFile2:[{name:d.filename}],deedOfSaleFileID2:d.id,vicinityMapFile2:[{name:l.filename}],vicinityMapFileID2:l.id},this.$store.dispatch("triggerDialog",!0)},viewArchived:function(e){var t,a,i,r,n,o,s,c,l,d;this.reportID=e.reportid,this.viewMode=!0,t=e.tax_dec_data[0]?e.tax_dec_data[0]:{filename:"Empty Data",id:"update"},a=e.tct_data[0]?e.tct_data[0]:{filename:"Empty Data",id:"update"},i=e.real_property_data[0]?e.real_property_data[0]:{filename:"Empty Data",id:"update"},r=e.vicinity_map_data[0]?e.vicinity_map_data[0]:{filename:"Empty Data",id:"update"},n=e.deed_of_sale_data[0]?e.deed_of_sale_data[0]:{filename:"Empty Data",id:"update"},e.archived_new[0]&&(o=e.archived_new[0].tax_dec_data2[0]?e.archived_new[0].tax_dec_data2[0]:{filename:"Empty Data",id:"update"},s=e.archived_new[0].tct_data2[0]?e.archived_new[0].tct_data2[0]:{filename:"Empty Data",id:"update"},c=e.archived_new[0].real_property_data2[0]?e.archived_new[0].real_property_data2[0]:{filename:"Empty Data",id:"update"},l=e.archived_new[0].vicinity_map_data2[0]?e.archived_new[0].vicinity_map_data2[0]:{filename:"Empty Data",id:"update"},d=e.archived_new[0].deed_of_sale_data2[0]?e.archived_new[0].deed_of_sale_data2[0]:{filename:"Empty Data",id:"update"}),this.downloadData={data:[{name:a.filename,id:a.id,size:a.size},{name:t.filename,id:t.id,size:t.size},{name:i.filename,id:i.id,size:i.size},{name:n.filename,id:n.id,size:n.size},{name:r.filename,id:r.id,size:r.size}]},this.downloadData2={data:[{name:s.filename,id:s.id,size:s.size},{name:o.filename,id:o.id,size:o.size},{name:c.filename,id:c.id,size:c.size},{name:d.filename,id:d.id,size:d.size},{name:l.filename,id:l.id,size:l.size}]},this.archivedData={tctinfo:{id:e.id,tctNumber:e.tct_no,location:e.location,dateAquired:e.date_aquired,tctFile:[{name:a.filename}],tctFileID:a.id,area:e.area},tctinfo2:{tctFile:[{name:s.filename}],tctFileID:s.id},taxDecInfo:{taxDecNumber:e.tax_dec_no,taxDecOption:e.tax_dec_option,owner:e.owner,previousOwner:e.previous_owner,taxdecFile:[{name:t.filename}],taxdecFileID:t.id},taxDecInfo2:{taxDecNumber:e.archived_new[0].tax_dec_no,taxDecOption:e.archived_new[0].tax_dec_option,owner:e.archived_new[0].owner,previousOwner:e.archived_new[0].previous_owner,taxdecFile:[{name:o.filename}],taxdecFileID:o.id},realProInfo:{realPropertyTaxNumber:e.real_property_tax_no,realPropertyTaxDate:e.real_property_tax_date,realPropertyTaxOption:e.real_property_tax_option,realPropertyTaxFile:[{name:i.filename}],realPropertyTaxFileID:i.id,realPropertyTaxAmount:e.real_property_tax_amount},realProInfo2:{realPropertyTaxNumber:e.archived_new[0].real_property_tax_no,realPropertyTaxDate:e.archived_new[0].real_property_tax_date,realPropertyTaxOption:e.archived_new[0].real_property_tax_option,realPropertyTaxFile:[{name:c.filename}],realPropertyTaxFileID:c.id,realPropertyTaxAmount:e.archived_new[0].real_property_tax_amount},zonalValue:e.zonal_value,deedOfSaleFile:[{name:n.filename}],deedOfSaleFileID:n.id,vicinityMapFile:[{name:r.filename}],vicinityMapFileID:r.id,zonalValue2:e.archived_new[0].zonal_value,deedOfSaleFile2:[{name:d.filename}],deedOfSaleFileID2:d.id,vicinityMapFile2:[{name:l.filename}],vicinityMapFileID2:l.id},this.$store.dispatch("triggerDialog",!0),console.log(e.archived_new[0])},download:function(e){this.$store.dispatch("archived/downloadArchived",e)},create_add:function(){alert()},close:function(){this.editedIndex=-1,this.$v.$reset(),this.$store.dispatch("triggerDialog",!1)},save:function(){-1===this.editedIndex?this.$store.dispatch("archived/storeArchived",this.archivedData):this.$store.dispatch("archived/updateArchived",this.archivedData),this.refreshData()},deleteItem:function(){var e=this,t=this.$data.selected,a=t.map((function(e){return e.id})),i=t.map((function(e){var t="<br />"+e.tct_no;return t}));this.$dialog.warning({text:"<h3><em>You are about to delete an item(s):</em></h3>"+i,title:"Confirm Delete",actions:{false:"Cancel",true:{text:"Confirm",color:"warning"}}}).then((function(t){t&&(e.$store.dispatch("archived/deleteArchived",a),e.$data.selected=[],e.refreshData())}))}}}),or=nr,sr=a("23a7"),cr=a("67b6"),lr=a("43a6"),dr=Object(m["a"])(or,ir,rr,!1,null,null,null),ur=dr.exports;v()(dr,{VBtn:O["a"],VCard:N["a"],VCardActions:$["a"],VCardText:$["c"],VChip:w["a"],VCol:R["a"],VContainer:we["a"],VDataTable:P["a"],VDatePicker:Pi["a"],VDialog:V["a"],VDivider:h["a"],VFileInput:sr["a"],VIcon:f["a"],VRadio:cr["a"],VRadioGroup:lr["a"],VRow:B["a"],VSpacer:F["a"],VTextField:qe["a"],VToolbar:W["a"],VToolbarItems:J["a"],VToolbarTitle:J["b"],VTooltip:Q["a"]});var mr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.agencies_data,search:e.search,loading:e.loadingStatus,"show-select":""},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Agencies Document")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),e.userCanCreate_role?a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.openDialog}},i),[a("v-icon",[e._v("mdi-plus-circle")])],1)]}}],null,!1,2001171856)},[a("span",[e._v("Add")])]):e._e(),e.deleteAll?a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{disabled:!e.selected.length>0,text:"",icon:""},on:{click:e.deleteAgency}},i),[a("v-icon",[e._v("delete")])],1)]}}],null,!1,4225783169)},[a("span",[e._v("Delete")])]):e._e(),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.refreshData}},i),[a("v-icon",[e._v("mdi-refresh")])],1)]}}])},[a("span",[e._v("Refresh")])]),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-dialog",{attrs:{fullscreen:"",persistent:"",scrollable:"",value:e.dialog,"max-width":"500px","hide-overlay":"",transition:"dialog-bottom-transition"}},[a("v-card",[a("v-car-title",[a("v-toolbar",[a("v-btn",{attrs:{icon:""},on:{click:e.close}},[a("v-icon",[e._v("mdi-close")])],1),1!==e.viewOnly?a("v-toolbar-title",[e._v(" "+e._s(e.formTitle))]):e._e(),0!==e.viewOnly?a("v-toolbar-title",{staticStyle:{"text-transform":"uppercase","font-size":"12px","font-weight":"bold"}},[e._v(e._s(e.reportID))]):e._e(),a("v-spacer"),1!==e.viewOnly?a("v-toolbar-items",[!0!==e.viewMode&&e.userCanCreate_role?a("v-btn",{attrs:{color:"blue-grey"},on:{click:function(t){return e.save()}}},[e._v(" "+e._s(-1===e.editedIndex?"Upload":"Update / Add Data"))]):e._e()],1):e._e()],1)],1),a("v-card-text",[a("v-container",[a("v-row",[1!==e.viewOnly?a("v-col",{attrs:{cols:"4"}},[a("v-card",{staticClass:"mx-auto",attrs:{"max-width":"344"}},[a("v-card-text",[a("div",[e._v("DOLE")])]),a("v-col",{attrs:{cols:"12"}},[a("v-file-input",{attrs:{chips:"",multiple:"",label:"File input w/ chips"},on:{change:e.check},model:{value:e.uploadData.dole_file,callback:function(t){e.$set(e.uploadData,"dole_file",t)},expression:"uploadData.dole_file"}})],1),a("v-col",{attrs:{cols:"12"}})],1)],1):e._e(),1!==e.viewOnly?a("v-col",{attrs:{cols:"4"}},[a("v-card",{staticClass:"mx-auto",attrs:{"max-width":"344"}},[a("v-card-text",[a("div",[e._v("BIR")])]),a("v-col",{attrs:{cols:"12"}},[a("v-file-input",{attrs:{chips:"",multiple:"",label:"File input w/ chips"},model:{value:e.uploadData.bir_file,callback:function(t){e.$set(e.uploadData,"bir_file",t)},expression:"uploadData.bir_file"}})],1),a("v-col",{attrs:{cols:"12"}})],1)],1):e._e(),1!==e.viewOnly?a("v-col",{attrs:{cols:"4"}},[a("v-card",{staticClass:"mx-auto",attrs:{"max-width":"344"}},[a("v-card-text",[a("div",[e._v("LGU")])]),a("v-col",{attrs:{cols:"12"}},[a("v-file-input",{attrs:{chips:"",multiple:"",label:"File input w/ chips"},model:{value:e.uploadData.lgu_file,callback:function(t){e.$set(e.uploadData,"lgu_file",t)},expression:"uploadData.lgu_file"}})],1),a("v-col",{attrs:{cols:"12"}})],1)],1):e._e(),-1!==e.editedIndex||0!==e.viewOnly?a("v-col",{attrs:{cols:"4"}},[a("v-card",{staticClass:"mx-auto",attrs:{"max-width":"344"}},[a("v-card-text",[a("div",[e._v("ATTACHMENT - DOLE")])]),a("v-col",{attrs:{cols:"12"}},e._l(e.downloadData.data.dole,(function(t,i){return a("div",{key:i},[a("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(i){var r=i.on,n=i.attrs;return[a("v-btn",e._g(e._b({attrs:{"x-small":"",color:"secondary",dark:"",disabled:0==e.Download_role},on:{click:function(a){return e.download(t)}}},"v-btn",n,!1),r),[a("strong",{staticStyle:{"white-space":"nowrap",width:"100px",overflow:"hidden","text-overflow":"ellipsis"}},[e._v(e._s(t.filename))]),a("strong",{staticStyle:{color:"orange"}},[e._v("~("+e._s(t.size)+")")]),a("v-icon",{attrs:{right:"",color:"green"}},[e._v("mdi-download")])],1)]}}],null,!0)},[a("span",[e._v(e._s(t.filename))])]),1!==e.viewOnly&&e.deleteAll?a("v-icon",{attrs:{right:"",color:"red",small:"",dense:""},on:{click:function(a){return e.trash(t,"dole")}}},[e._v("mdi-delete")]):e._e()],1)})),0)],1)],1):e._e(),-1!==e.editedIndex||0!==e.viewOnly?a("v-col",{attrs:{cols:"4"}},[a("v-card",{staticClass:"mx-auto",attrs:{"max-width":"344"}},[a("v-card-text",[a("div",[e._v("ATTACHMENT - BIR")])]),a("v-col",{attrs:{cols:"12"}},e._l(e.downloadData.data.bir,(function(t,i){return a("div",{key:i},[a("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(i){var r=i.on,n=i.attrs;return[a("v-btn",e._g(e._b({attrs:{"x-small":"",color:"secondary",dark:"",disabled:0==e.Download_role},on:{click:function(a){return e.download(t)}}},"v-btn",n,!1),r),[a("strong",{staticStyle:{"white-space":"nowrap",width:"100px",overflow:"hidden","text-overflow":"ellipsis"}},[e._v(e._s(t.filename))]),a("strong",{staticStyle:{color:"orange"}},[e._v("~("+e._s(t.size)+")")]),a("v-icon",{attrs:{right:"",color:"green"}},[e._v("mdi-download")])],1)]}}],null,!0)},[a("span",[e._v(e._s(t.filename))])]),1!==e.viewOnly&&e.deleteAll?a("v-icon",{attrs:{right:"",color:"red",small:"",dense:""},on:{click:function(a){return e.trash(t,"bir")}}},[e._v("mdi-delete")]):e._e()],1)})),0)],1)],1):e._e(),-1!==e.editedIndex||0!==e.viewOnly?a("v-col",{attrs:{cols:"4"}},[a("v-card",{staticClass:"mx-auto",attrs:{"max-width":"344"}},[a("v-card-text",[a("div",[e._v("ATTACHMENT - LGU")])]),a("v-col",{attrs:{cols:"12"}},e._l(e.downloadData.data.lgu,(function(t,i){return a("div",{key:i},[a("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(i){var r=i.on,n=i.attrs;return[a("v-btn",e._g(e._b({attrs:{"x-small":"",color:"secondary",dark:"",disabled:0==e.Download_role},on:{click:function(a){return e.download(t)}}},"v-btn",n,!1),r),[a("strong",{staticStyle:{"white-space":"nowrap",width:"100px",overflow:"hidden","text-overflow":"ellipsis"}},[e._v(e._s(t.filename))]),a("strong",{staticStyle:{color:"orange"}},[e._v("~("+e._s(t.size)+")")]),a("v-icon",{attrs:{right:"",color:"green"}},[e._v("mdi-download")])],1)]}}],null,!0)},[a("span",[e._v(e._s(t.filename))])]),1!==e.viewOnly&&e.deleteAll?a("v-icon",{attrs:{right:"",color:"red",small:"",dense:""},on:{click:function(a){return e.trash(t,"lgu")}}},[e._v("mdi-delete")]):e._e()],1)})),0)],1)],1):e._e()],1)],1)],1)],1)],1)],1)]},proxy:!0},{key:"item.action",fn:function(t){var i=t.item;return[a("v-dialog",{attrs:{transition:"dialog-bottom-transition","max-width":"600"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,n=t.attrs;return[a("v-icon",e._g(e._b({staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.getdataDate(i.branch.id)}}},"v-icon",n,!1),r),[e._v(" mdi-check ")])]}},{key:"default",fn:function(t){return[a("v-card",[a("v-toolbar",{attrs:{color:"primary",dark:""}},[e._v("Upload History")]),a("v-simple-table",{scopedSlots:e._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th",{staticClass:"text-left"},[e._v("Jan")]),a("th",{staticClass:"text-left"},[e._v("Feb")]),a("th",{staticClass:"text-left"},[e._v("Mar")]),a("th",{staticClass:"text-left"},[e._v("Apr")]),a("th",{staticClass:"text-left"},[e._v("May")]),a("th",{staticClass:"text-left"},[e._v("Jun")]),a("th",{staticClass:"text-left"},[e._v("Jul")]),a("th",{staticClass:"text-left"},[e._v("Aug")]),a("th",{staticClass:"text-left"},[e._v("Sept")]),a("th",{staticClass:"text-left"},[e._v("Oct")]),a("th",{staticClass:"text-left"},[e._v("Nov")]),a("th",{staticClass:"text-left"},[e._v("Dec")])])]),a("tbody",[a("tr",e._l(e.date_history.data,(function(t,i){return a("td",{key:i},[t?a("v-icon",{attrs:{color:"success"}},[e._v("mdi-check")]):e._e()],1)})),0)])]},proxy:!0}],null,!0)}),a("v-card-actions",{staticClass:"justify-end"},[a("v-btn",{attrs:{text:""},on:{click:function(e){t.value=!1}}},[e._v("Close")])],1)],1)]}}],null,!0)}),e.Editdoc_role?a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editArchived(i)}}},[e._v(" mdi-pencil ")]):e._e(),e.ShowDoc_role?a("v-icon",{attrs:{small:""},on:{click:function(t){return e.viewArchived(i)}}},[e._v(" mdi-content-duplicate ")]):e._e()]}}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1)],1)},pr=[],vr=(a("a434"),{mixins:[nt["validationMixin"]],data:function(){return{reveal:!1,search:"",selected:[],loader:null,loading:!1,disabledCount:0,submitDisable:!0,headers:[{text:"DOC_CODE",align:"left",value:"doc_code"},{text:"BRANCH",align:"left",value:"branch.name"},{text:"UPLOAD_BY",align:"left",value:"upload_by"},{text:"FILE CREATED",align:"left",value:"created_at"},{text:"Actions",align:"center",value:"action",sortable:!1}],editedIndex:-1,viewMode:!1,viewOnly:0,reportID:"",downloadData:[],uploadData:{dole_file:[],bir_file:[],lgu_file:[],id:[]},document_id:""}},validations:{test:{required:ot["required"]}},computed:Object(c["a"])(Object(c["a"])({},Object(l["b"])({agencies_data:"agencies/getAgencies",date_history:"agencies/getdate_history",permissions:"userPermissions/getPermission"})),{},{deleteAll:function(){return this.permissions.includes("Delete Agencies File")},userCanCreate_role:function(){return this.permissions.includes("Create Agencies File")},ShowDoc_role:function(){return this.permissions.includes("Show Agencies File")},Editdoc_role:function(){return this.permissions.includes("Edit Agencies File")},Download_role:function(){return this.permissions.includes("Download Agencies Files")},dialog:function(){return this.$store.state.dialog},loadingStatus:function(){return this.$store.state.loading},formTitle:function(){return-1===this.editedIndex?"New Agencies":"Edit Agencies"}}),watch:{providers:function(){this.$v.$reset()}},created:function(){this.$store.dispatch("agencies/fetchAgencies"),this.$store.dispatch("userPermissions/fetchPermission")},methods:{deleteAgency:function(){var e=this,t=this.$data.selected,a=t.map((function(e){return e.id})),i=t.map((function(e){var t="<br />"+e.doc_code;return t}));this.$dialog.warning({text:"<h3><em>You are about to delete an item(s):</em></h3>"+i,title:"Confirm Delete",actions:{false:"Cancel",true:{text:"Confirm",color:"warning"}}}).then((function(t){t&&(e.$store.dispatch("agencies/deleteAgencies",a),e.$data.selected=[],e.refreshData())}))},refreshData:function(){this.$store.dispatch("agencies/fetchAgencies"),this.uploadData={dole_file:[],bir_file:[],lgu_file:[],id:[]}},openDialog:function(){this.viewOnly=0,this.viewMode=!1,this.refreshData(),this.editedIndex=-1,this.$store.dispatch("triggerDialog",!0)},getfile:function(){},editArchived:function(e){this.document_id=e.unique_id,this.uploadData.id=[],this.uploadData.id.push(this.document_id),this.viewMode=!1,this.viewOnly=0;var t=this.agencies_data.indexOf(e);this.editedIndex=t;var a=[],i=[],r=[];e.dl_data.forEach((function(e,t){1==e.doc_type&&a.push({filename:e.filename,id:e.id,size:e.size}),2==e.doc_type&&i.push({filename:e.filename,id:e.id,size:e.size}),3==e.doc_type&&r.push({filename:e.filename,id:e.id,size:e.size})})),this.downloadData={data:{dole:a,bir:i,lgu:r}},this.$store.dispatch("triggerDialog",!0)},viewArchived:function(e){this.editedIndex=-1,this.reportID=e.doc_code,this.viewOnly=1;var t=[],a=[],i=[];e.dl_data.forEach((function(e,r){1==e.doc_type&&t.push({filename:e.filename,id:e.id,size:e.size}),2==e.doc_type&&a.push({filename:e.filename,id:e.id,size:e.size}),3==e.doc_type&&i.push({filename:e.filename,id:e.id,size:e.size})})),this.downloadData={data:{dole:t,bir:a,lgu:i}},this.$store.dispatch("triggerDialog",!0)},check:function(){},download:function(e){this.$store.dispatch("agencies/downloadAgencies",e)},getdataDate:function(e){this.$store.dispatch("agencies/getDateAgencies",e)},trash:function(e,t){var a=this,i=this.downloadData.data[t];i.forEach((function(i,r){i.id==e.id&&(a.downloadData.data[t].splice(r,1),a.$store.dispatch("agencies/trashAgencies",e),a.refreshData())}))},close:function(){this.editedIndex=-1,this.$v.$reset(),this.$store.dispatch("triggerDialog",!1)},save:function(){-1===this.editedIndex?(this.$store.dispatch("agencies/storeAgencies",this.uploadData),this.refreshData()):(this.$store.dispatch("agencies/updateAgencies",this.uploadData),this.refreshData()),this.refreshData()}}}),hr=vr,fr=(a("5d71"),Object(m["a"])(hr,mr,pr,!1,null,null,null)),_r=fr.exports;v()(fr,{VBtn:O["a"],VCard:N["a"],VCardActions:$["a"],VCardText:$["c"],VCol:R["a"],VContainer:we["a"],VDataTable:P["a"],VDialog:V["a"],VDivider:h["a"],VFileInput:sr["a"],VIcon:f["a"],VRow:B["a"],VSimpleTable:er["a"],VSpacer:F["a"],VTextField:qe["a"],VToolbar:W["a"],VToolbarItems:J["a"],VToolbarTitle:J["b"],VTooltip:Q["a"]});var gr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.creditstanding_data,search:e.search,loading:e.loadingStatus},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Credit Standing")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.openDialog}},i),[a("v-icon",[e._v("mdi-plus-circle")])],1)]}}])},[a("span",[e._v("Add")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.refreshData}},i),[a("v-icon",[e._v("mdi-refresh")])],1)]}}])},[a("span",[e._v("Refresh")])]),a("h6",[e._v("REGULAR CUSTOMER: "),a("i",{staticStyle:{color:"green"}},[e._v(" "+e._s(e.dates_regular[0])+" from "+e._s(e.dates_regular[1]))]),e._v(" "),a("br"),e._v("LEGAL CUSTOMER: "),a("i",{staticStyle:{color:"green"}},[e._v(e._s(e.dates_legal[0])+" from "+e._s(e.dates_legal[1]))])]),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)]},proxy:!0}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}}),a("v-dialog",{attrs:{width:"800"},model:{value:e.create,callback:function(t){e.create=t},expression:"create"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5 dark lighten-2"},[e._v(" Select Date Range to Generate ")]),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-date-picker",{staticClass:"ma-4",attrs:{range:""},model:{value:e.dates_regular,callback:function(t){e.dates_regular=t},expression:"dates_regular"}},[a("h4",[e._v("REGULAR CUSTOMER")])])],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-date-picker",{staticClass:"ma-4",attrs:{range:""},model:{value:e.dates_legal,callback:function(t){e.dates_legal=t},expression:"dates_legal"}},[a("h4",[e._v("LEGAL CUSTOMER")])])],1)],1),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:e.generate}},[e._v(" Generate ")])],1)],1)],1)],1)],1)},br=[],xr={mixins:[nt["validationMixin"]],data:function(){return{dates_regular:["2019-09-10","2019-09-20"],dates_legal:["2019-09-10","2019-09-20"],creditstandingData:[],create:!1,reveal:!1,search:"",selected:[],loader:null,loading:!1,submitDisable:!0,headers:[{text:"CATEGORY",align:"left",value:"Category"},{text:"BRANCH",align:"left",value:"Branch"},{text:"CUSTOMER NAME",align:"left",value:"Cardname"},{text:"BIRTHDAY",align:"left",value:"Bday"},{text:"REBATE",align:"left",value:"Rebate"},{text:"TERMS",align:"left",value:"Terms"},{text:"PAID MOUNT",align:"left",value:"Paid Amoun"},{text:"DOC TOTAL",align:"left",value:"DocTotal"},{text:"BALANCE",align:"left",value:"Balance"},{text:"CRITERIA",align:"left",value:"Criteria"}]}},computed:Object(c["a"])(Object(c["a"])({},Object(l["b"])({creditstanding_data:"creditstanding/getCreditStanding",permissions:"userPermissions/getPermission"})),{},{userCanCreate_role:function(){return this.permissions.includes("Create BlackListed CCS Portal")},dialog:function(){return this.$store.state.dialog},loadingStatus:function(){return this.$store.state.loading}}),watch:{providers:function(){this.$v.$reset()}},created:function(){this.$store.dispatch("userPermissions/fetchPermission")},methods:{refreshData:function(){var e={regular:this.dates_regular,legal:this.dates_legal};this.$store.dispatch("creditstanding/GenerateCreditStanding",e)},openDialog:function(){this.create=!0},generate:function(){var e={regular:this.dates_regular,legal:this.dates_legal};this.$store.dispatch("creditstanding/GenerateCreditStanding",e),this.create=!1}}},Tr=xr,yr=(a("9fd0"),Object(m["a"])(Tr,gr,br,!1,null,null,null)),Sr=yr.exports;v()(yr,{VBtn:O["a"],VCard:N["a"],VCardActions:$["a"],VCardTitle:$["d"],VCol:R["a"],VContainer:we["a"],VDataTable:P["a"],VDatePicker:Pi["a"],VDialog:V["a"],VDivider:h["a"],VIcon:f["a"],VRow:B["a"],VSpacer:F["a"],VTextField:qe["a"],VToolbar:W["a"],VToolbarTitle:J["b"],VTooltip:Q["a"]});var Dr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.blacklisted_data,search:e.search,loading:e.loadingStatus},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Black Listed Customer")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.openDialog}},i),[a("v-icon",[e._v("mdi-plus-circle")])],1)]}}])},[a("span",[e._v("Add")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.refreshData}},i),[a("v-icon",[e._v("mdi-refresh")])],1)]}}])},[a("span",[e._v("Refresh")])]),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)]},proxy:!0}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}}),a("v-dialog",{attrs:{width:"800"},model:{value:e.create,callback:function(t){e.create=t},expression:"create"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5 dark lighten-2"},[e._v(" Select Branch and Date ")]),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-date-picker",{staticClass:"ma-4",attrs:{range:""},model:{value:e.dates_regular,callback:function(t){e.dates_regular=t},expression:"dates_regular"}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-autocomplete",{staticClass:"mt-10 mr-5",attrs:{loading:e.loadingStatus,items:e.branches,"item-value":"Name","item-text":"Name","return-object":"",dense:"",label:"Select Branch",chips:"","hide-details":"","hide-selected":"",solo:""},model:{value:e.branch,callback:function(t){e.branch=t},expression:"branch"}})],1)],1),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:e.generate}},[e._v(" Generate ")])],1)],1)],1)],1)],1)},kr=[],Er={mixins:[nt["validationMixin"]],data:function(){return{branch:"",dates_regular:["2019-09-10","2019-09-20"],create:!1,reveal:!1,search:"",selected:[],loader:null,loading:!1,submitDisable:!0,headers:[{text:"BRANCH",align:"left",value:"Branch"},{text:"CUSTOMER NAME",align:"left",value:"Customer Name"},{text:"ADDRESS",align:"left",value:"Address"},{text:"UNPAID BALANCE",align:"left",value:"Balance"}]}},computed:Object(c["a"])(Object(c["a"])({},Object(l["b"])({blacklisted_data:"blacklisted/getBlackListed",permissions:"userPermissions/getPermission",branches:"blacklisted/getBranchSegment"})),{},{userCanCreate_role:function(){return this.permissions.includes("Create BlackListed CCS Portal")},dialog:function(){return this.$store.state.dialog},loadingStatus:function(){return this.$store.state.loading}}),watch:{providers:function(){this.$v.$reset()}},created:function(){this.$store.dispatch("blacklisted/fetchBlackListed"),this.$store.dispatch("blacklisted/fetchBranchSegment"),this.$store.dispatch("userPermissions/fetchPermission")},methods:{generate:function(){var e={date:this.dates_regular,branch:this.branch["Name"]};this.$store.dispatch("blacklisted/searchBlacklisted",e)},refreshData:function(){this.$store.dispatch("blacklisted/fetchBlackListed")},openDialog:function(){this.create=!0},upload:function(){this.$store.dispatch("blacklisted/UploadBlacklisted",this.blacklistedData),this.refreshData()}}},Ar=Er,Ir=(a("ac0a"),Object(m["a"])(Ar,Dr,kr,!1,null,null,null)),Cr=Ir.exports;v()(Ir,{VAutocomplete:xt["a"],VBtn:O["a"],VCard:N["a"],VCardActions:$["a"],VCardTitle:$["d"],VCol:R["a"],VContainer:we["a"],VDataTable:P["a"],VDatePicker:Pi["a"],VDialog:V["a"],VDivider:h["a"],VIcon:f["a"],VRow:B["a"],VSpacer:F["a"],VTextField:qe["a"],VToolbar:W["a"],VToolbarTitle:J["b"],VTooltip:Q["a"]});var Or=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.cdr_data,search:e.search,loading:e.loadingStatus,"show-select":""},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Customer Digitized Requirements")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),e.userCanCreate_role?a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.openDialog}},i),[a("v-icon",[e._v("mdi-plus-circle")])],1)]}}],null,!1,2001171856)},[a("span",[e._v("Add")])]):e._e(),e.deleteAll?a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{disabled:!e.selected.length>0,text:"",icon:""},on:{click:e.deleteCDR}},i),[a("v-icon",[e._v("delete")])],1)]}}],null,!1,4250759971)},[a("span",[e._v("Delete")])]):e._e(),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.refreshData}},i),[a("v-icon",[e._v("mdi-refresh")])],1)]}}])},[a("span",[e._v("Refresh")])]),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-dialog",{attrs:{fullscreen:"",persistent:"",scrollable:"",value:e.dialog,"max-width":"500px","hide-overlay":"",transition:"dialog-bottom-transition"}},[a("v-card",[a("v-car-title",[a("v-toolbar",[a("v-btn",{attrs:{icon:""},on:{click:e.close}},[a("v-icon",[e._v("mdi-close")])],1),1!==e.viewOnly?a("v-toolbar-title",[e._v(" "+e._s(e.formTitle))]):e._e(),0!==e.viewOnly?a("v-toolbar-title",{staticStyle:{"text-transform":"uppercase","font-size":"12px","font-weight":"bold"}},[e._v(e._s(e.reportID))]):e._e(),a("v-spacer"),1!==e.viewOnly?a("v-toolbar-items",[!0!==e.viewMode?a("v-btn",{attrs:{color:"blue-grey"},on:{click:function(t){return e.save()}}},[e._v(" "+e._s(-1===e.editedIndex?"Upload":"Update / Add Data"))]):e._e()],1):e._e()],1)],1),a("v-card-text",[a("v-container",[a("v-row",[-1===e.editedIndex||0==e.viewOnly?a("v-col",{attrs:{cols:"6"}},[a("v-card",{staticClass:"pa-6"},[a("v-card-text",[a("div",[e._v("CUSTOMER INFO")])]),a("v-text-field",{attrs:{label:"Name of Customer",rules:e.rules,"hide-details":"auto",disabled:1==e.viewOnly},model:{value:e.uploadData.custormer_info.customer_name,callback:function(t){e.$set(e.uploadData.custormer_info,"customer_name",t)},expression:"uploadData.custormer_info.customer_name"}}),a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"return-value":e.date,transition:"scale-transition","offset-y":"","min-width":"auto"},on:{"update:returnValue":function(t){e.date=t},"update:return-value":function(t){e.date=t}},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,r=t.attrs;return[a("v-text-field",e._g(e._b({attrs:{label:"Birthday","prepend-icon":"mdi-calendar",readonly:"",disabled:1==e.viewOnly},model:{value:e.uploadData.custormer_info.birthday,callback:function(t){e.$set(e.uploadData.custormer_info,"birthday",t)},expression:"uploadData.custormer_info.birthday"}},"v-text-field",r,!1),i))]}}],null,!1,4131262806),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[a("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:e.uploadData.custormer_info.birthday,callback:function(t){e.$set(e.uploadData.custormer_info,"birthday",t)},expression:"uploadData.custormer_info.birthday"}},[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.menu=!1}}},[e._v(" Cancel ")]),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.menu.save(e.uploadData.custormer_info.birthday)}}},[e._v(" OK ")])],1)],1),a("v-autocomplete",{attrs:{items:e.branches,"item-value":"value","item-text":"name","return-object":"",dense:"",filled:"",disabled:1==e.viewOnly,label:"Branch"},model:{value:e.uploadData.custormer_info.branch,callback:function(t){e.$set(e.uploadData.custormer_info,"branch",t)},expression:"uploadData.custormer_info.branch"}}),a("v-text-field",{attrs:{label:"Unit Availed (Model)",rules:e.rules,"hide-details":"auto",disabled:1==e.viewOnly},model:{value:e.uploadData.custormer_info.unit_avail,callback:function(t){e.$set(e.uploadData.custormer_info,"unit_avail",t)},expression:"uploadData.custormer_info.unit_avail"}})],1)],1):e._e(),a("v-col",{attrs:{cols:"6"}},[1==e.viewOnly||-1!==e.editedIndex?a("v-card",{staticClass:"d-flex align-center flex-column mb-6"},[a("v-card-text",[a("div",[e._v("PREVIEW / PDF / JPEG / PNG")]),1==e.printing?a("vs-button",{attrs:{icon:"",color:"danger",border:""},on:{click:function(t){return e.print()}}},[a("v-icon",[e._v("print")])],1):e._e()],1),a("div",{attrs:{id:"printer"}},[a("iframe",{staticClass:"embed-responsive-item",staticStyle:{margin:"10px",width:"550px",height:"400px"},attrs:{src:e.attachment_data,allowfullscreen:"",frameborder:"0"}})])],1):e._e()],1),1!==e.viewOnly?a("v-col",{attrs:{cols:"3"}},[a("v-card",{staticClass:"mx-auto",attrs:{"max-width":"330"}},[a("v-card-text",[a("div",[e._v("APPLICATION FORM")])]),a("v-col",{attrs:{cols:"12"}},[a("v-file-input",{attrs:{chips:"",label:"Application Form"},on:{change:e.check},model:{value:e.uploadData.application_file,callback:function(t){e.$set(e.uploadData,"application_file",t)},expression:"uploadData.application_file"}})],1),a("v-col",{attrs:{cols:"12"}})],1)],1):e._e(),1!==e.viewOnly?a("v-col",{attrs:{cols:"3"}},[a("v-card",{staticClass:"mx-auto",attrs:{"max-width":"330"}},[a("v-card-text",[a("div",[e._v("PICTURE 2x2")])]),a("v-col",{attrs:{cols:"12"}},[a("v-file-input",{attrs:{chips:"",label:"2X2 Picture"},model:{value:e.uploadData.picture_file,callback:function(t){e.$set(e.uploadData,"picture_file",t)},expression:"uploadData.picture_file"}})],1),a("v-col",{attrs:{cols:"12"}})],1)],1):e._e(),1!==e.viewOnly?a("v-col",{attrs:{cols:"3"}},[a("v-card",{staticClass:"mx-auto",attrs:{"max-width":"330"}},[a("v-card-text",[a("div",[e._v("VALID ID")])]),a("v-col",{attrs:{cols:"12"}},[a("v-file-input",{attrs:{chips:"",multiple:"",label:"Valid ID Passport, Drivers License..etc"},model:{value:e.uploadData.validID_file,callback:function(t){e.$set(e.uploadData,"validID_file",t)},expression:"uploadData.validID_file"}})],1),a("v-col",{attrs:{cols:"12"}})],1)],1):e._e(),1!==e.viewOnly?a("v-col",{attrs:{cols:"3"}},[a("v-card",{staticClass:"mx-auto",attrs:{"max-width":"330"}},[a("v-card-text",[a("div",[e._v("PROOF OF BILLING")])]),a("v-col",{attrs:{cols:"12"}},[a("v-file-input",{attrs:{chips:"",multiple:"",label:"Proof of bill"},model:{value:e.uploadData.proof_of_billing,callback:function(t){e.$set(e.uploadData,"proof_of_billing",t)},expression:"uploadData.proof_of_billing"}})],1),a("v-col",{attrs:{cols:"12"}})],1)],1):e._e(),-1!==e.editedIndex||0!==e.viewOnly?a("v-col",{attrs:{cols:"3"}},[a("v-card",{staticClass:"mx-auto",attrs:{"max-width":"330"}},[a("v-card-text",[a("div",[e._v("ATTACHMENT - APPLICATION FORM")])]),a("v-col",{attrs:{cols:"12"}},e._l(e.downloadData.data.application,(function(t,i){return a("div",{key:i},[a("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(i){var r=i.on,n=i.attrs;return[e.Download_role?a("v-btn",e._g(e._b({attrs:{"x-small":"",color:"secondary",dark:"",disabled:0==e.Download_role},on:{click:function(a){return e.download(t)}}},"v-btn",n,!1),r),[a("strong",{staticStyle:{"white-space":"nowrap",width:"60px",overflow:"hidden","text-overflow":"ellipsis"}},[e._v(e._s(t.filename))]),a("strong",{staticStyle:{color:"orange"}},[e._v("~("+e._s(t.size)+")")]),a("v-icon",{attrs:{right:"",color:"green"}},[e._v("mdi-download")])],1):e._e()]}}],null,!0)},[a("span",[e._v(e._s(t.filename))])]),1!==e.viewOnly&&e.deleteAll?a("v-icon",{attrs:{right:"",color:"red",small:"",dense:""},on:{click:function(a){return e.trash(t,"application")}}},[e._v("mdi-delete")]):e._e(),a("v-icon",{attrs:{right:"",color:"green",small:"",dense:""},on:{click:function(a){return e.preview(t)}}},[e._v("mdi-eye")])],1)})),0)],1)],1):e._e(),-1!==e.editedIndex||0!==e.viewOnly?a("v-col",{attrs:{cols:"3"}},[a("v-card",{staticClass:"mx-auto",attrs:{"max-width":"330"}},[a("v-card-text",[a("div",[e._v("ATTACHMENT - 2X2 PICTURE")])]),a("v-col",{attrs:{cols:"12"}},e._l(e.downloadData.data.picture,(function(t,i){return a("div",{key:i},[a("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(i){var r=i.on,n=i.attrs;return[e.Download_role?a("v-btn",e._g(e._b({attrs:{"x-small":"",color:"secondary",dark:"",disabled:0==e.Download_role},on:{click:function(a){return e.download(t)}}},"v-btn",n,!1),r),[a("strong",{staticStyle:{"white-space":"nowrap",width:"60px",overflow:"hidden","text-overflow":"ellipsis"}},[e._v(e._s(t.filename))]),a("strong",{staticStyle:{color:"orange"}},[e._v("~("+e._s(t.size)+")")]),a("v-icon",{attrs:{right:"",color:"green"}},[e._v("mdi-download")])],1):e._e()]}}],null,!0)},[a("span",[e._v(e._s(t.filename))])]),1!==e.viewOnly&&e.deleteAll?a("v-icon",{attrs:{right:"",color:"red",small:"",dense:""},on:{click:function(a){return e.trash(t,"picture")}}},[e._v("mdi-delete")]):e._e(),a("v-icon",{attrs:{right:"",color:"green",small:"",dense:""},on:{click:function(a){return e.preview(t)}}},[e._v("mdi-eye")])],1)})),0)],1)],1):e._e(),-1!==e.editedIndex||0!==e.viewOnly?a("v-col",{attrs:{cols:"3"}},[a("v-card",{staticClass:"mx-auto",attrs:{"max-width":"330"}},[a("v-card-text",[a("div",[e._v("ATTACHMENT - VALID ID")])]),a("v-col",{attrs:{cols:"12"}},e._l(e.downloadData.data.valid_ids,(function(t,i){return a("div",{key:i},[a("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(i){var r=i.on,n=i.attrs;return[e.Download_role?a("v-btn",e._g(e._b({attrs:{"x-small":"",color:"secondary",dark:"",disabled:0==e.Download_role},on:{click:function(a){return e.download(t)}}},"v-btn",n,!1),r),[a("strong",{staticStyle:{"white-space":"nowrap",width:"60px",overflow:"hidden","text-overflow":"ellipsis"}},[e._v(e._s(t.filename))]),a("strong",{staticStyle:{color:"orange"}},[e._v("~("+e._s(t.size)+")")]),a("v-icon",{attrs:{right:"",color:"green"}},[e._v("mdi-download")])],1):e._e()]}}],null,!0)},[a("span",[e._v(e._s(t.filename))])]),1!==e.viewOnly&&e.deleteAll?a("v-icon",{attrs:{right:"",color:"red",small:"",dense:""},on:{click:function(a){return e.trash(t,"valid_ids")}}},[e._v("mdi-delete")]):e._e(),a("v-icon",{attrs:{right:"",color:"green",small:"",dense:""},on:{click:function(a){return e.preview(t)}}},[e._v("mdi-eye")])],1)})),0)],1)],1):e._e(),-1!==e.editedIndex||0!==e.viewOnly?a("v-col",{attrs:{cols:"3"}},[a("v-card",{staticClass:"mx-auto",attrs:{"max-width":"330"}},[a("v-card-text",[a("div",[e._v("ATTACHMENT - PROOF OF BILLING")])]),a("v-col",{attrs:{cols:"12"}},e._l(e.downloadData.data.proof,(function(t,i){return a("div",{key:i},[a("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(i){var r=i.on,n=i.attrs;return[e.Download_role?a("v-btn",e._g(e._b({attrs:{"x-small":"",color:"secondary",dark:"",disabled:0==e.Download_role},on:{click:function(a){return e.download(t)}}},"v-btn",n,!1),r),[a("strong",{staticStyle:{"white-space":"nowrap",width:"60px",overflow:"hidden","text-overflow":"ellipsis"}},[e._v(e._s(t.filename))]),a("strong",{staticStyle:{color:"orange"}},[e._v("~("+e._s(t.size)+")")]),a("v-icon",{attrs:{right:"",color:"green"}},[e._v("mdi-download")])],1):e._e()]}}],null,!0)},[a("span",[e._v(e._s(t.filename))])]),1!==e.viewOnly&&e.deleteAll?a("v-icon",{attrs:{right:"",color:"red",small:"",dense:""},on:{click:function(a){return e.trash(t,"proof")}}},[e._v("mdi-delete")]):e._e(),a("v-icon",{attrs:{right:"",color:"green",small:"",dense:""},on:{click:function(a){return e.preview(t)}}},[e._v("mdi-eye")])],1)})),0)],1)],1):e._e()],1)],1)],1)],1)],1)],1)]},proxy:!0},{key:"item.action",fn:function(t){var i=t.item;return[e.Editdoc_role?a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(t){return e.editCDR(i)}}},[e._v(" mdi-pencil ")]):e._e(),e.ShowDoc_role?a("v-icon",{attrs:{small:""},on:{click:function(t){return e.viewCDR(i)}}},[e._v(" mdi-content-duplicate ")]):e._e()]}}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1)],1)},Nr=[],$r=(a("ac1f"),a("1276"),a("96cf"),a("1da1")),wr={mixins:[nt["validationMixin"]],data:function(){return{menu:!1,modal:!1,menu2:!1,reveal:!1,printing:!1,search:"",selected:[],loader:null,loading:!1,disabledCount:0,submitDisable:!0,headers:[{text:"NAME OF CUSTOMER",align:"left",value:"customer_name"},{text:"BIRTHDAY",align:"left",value:"birthday"},{text:"BRANCH",align:"left",value:"branch.name"},{text:"UNIT AVAILED",align:"left",value:"unit_availed"},{text:"DATE CREATED",align:"left",value:"created_at"},{text:"Actions",align:"center",value:"action",sortable:!1}],editedIndex:-1,viewMode:!1,viewOnly:0,reportID:"",downloadData:[],uploadData:{application_file:[],picture_file:[],validID_file:[],proof_of_billing:[],id:[],custormer_info:{customer_name:"",birthday:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),branch:"",unit_avail:""}},document_id:""}},validations:{test:{required:ot["required"]}},computed:Object(c["a"])(Object(c["a"])({},Object(l["b"])({cdr_data:"digitized/getCdr",branches:"digitized/getBranches",attachment_data:"digitized/getAttachment",permissions:"userPermissions/getPermission"})),{},{deleteAll:function(){return this.permissions.includes("Delete CDR")},userCanCreate_role:function(){return this.permissions.includes("Create CDR")},ShowDoc_role:function(){return this.permissions.includes("Show CDR")},Editdoc_role:function(){return this.permissions.includes("Edit CDR")},Download_role:function(){return this.permissions.includes("Download CDR")},attachdata:function(){return this.$store.state.attachment_data},dialog:function(){return this.$store.state.dialog},loadingStatus:function(){return this.$store.state.loading},formTitle:function(){return-1===this.editedIndex?"New Customer Requirement":"Edit Customer Requirement"}}),watch:{providers:function(){this.$v.$reset()}},created:function(){this.$store.dispatch("digitized/fetchCDR"),this.$store.dispatch("digitized/fetchbranches"),this.$store.dispatch("userPermissions/fetchPermission")},methods:{deleteCDR:function(){var e=this,t=this.$data.selected,a=t.map((function(e){return e.id})),i=t.map((function(e){var t="<br />"+e.doc_id;return t}));this.$dialog.warning({text:"<h3><em>You are about to delete an item(s):</em></h3>"+i,title:"Confirm Delete",actions:{false:"Cancel",true:{text:"Confirm",color:"warning"}}}).then((function(t){t&&(e.$store.dispatch("digitized/deleteCDR",a),e.$data.selected=[],e.refreshData())}))},print:function(){var e=this;return Object($r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$htmlToPaper("printer");case 2:case"end":return t.stop()}}),t)})))()},refreshData:function(){this.$store.dispatch("digitized/fetchCDR"),this.$store.dispatch("digitized/fetchbranches"),this.uploadData.custormer_info={customer_name:"",birthday:"",branch:"",unit_avail:""},this.downloadData={data:{application:[],picture:[],valid_ids:[],proof:[]}}},openDialog:function(){this.viewOnly=0,this.viewMode=!1,this.refreshData(),this.editedIndex=-1,this.$store.dispatch("triggerDialog",!0)},getfile:function(){},editCDR:function(e){this.document_id=e.doc_id,this.uploadData.id=[],this.uploadData.id.push(this.document_id),this.viewMode=!1,this.viewOnly=0;var t=this.cdr_data.indexOf(e);this.editedIndex=t;var a=[],i=[],r=[],n=[];e.dl_data.forEach((function(e,t){1==e.doc_type&&a.push({filename:e.filename,id:e.id,size:e.size}),2==e.doc_type&&i.push({filename:e.filename,id:e.id,size:e.size}),3==e.doc_type&&r.push({filename:e.filename,id:e.id,size:e.size}),4==e.doc_type&&n.push({filename:e.filename,id:e.id,size:e.size})})),this.uploadData.custormer_info={customer_name:e.customer_name,birthday:e.birthday,branch:e.branch.id,unit_avail:e.unit_availed},this.downloadData={data:{application:a,picture:i,valid_ids:r,proof:n}},this.$store.dispatch("triggerDialog",!0)},viewCDR:function(e){this.editedIndex=-1,this.reportID=e.doc_id,this.viewOnly=1;var t=[],a=[],i=[],r=[];e.dl_data.forEach((function(e,n){1==e.doc_type&&t.push({filename:e.filename,id:e.id,size:e.size}),2==e.doc_type&&a.push({filename:e.filename,id:e.id,size:e.size}),3==e.doc_type&&i.push({filename:e.filename,id:e.id,size:e.size}),4==e.doc_type&&r.push({filename:e.filename,id:e.id,size:e.size})})),this.uploadData.custormer_info={customer_name:e.customer_name,birthday:e.birthday,branch:e.branch.id,unit_avail:e.unit_availed},this.downloadData={data:{application:t,picture:a,valid_ids:i,proof:r}},this.$store.dispatch("triggerDialog",!0)},check:function(){},download:function(e){this.$store.dispatch("digitized/download",e)},preview:function(e){this.$store.dispatch("digitized/preview",e);var t=e.filename.split(".").pop();console.log(t),this.printing="pdf"!==t},trash:function(e,t){var a=this,i=this.downloadData.data[t];i.forEach((function(i,r){i.id==e.id&&(a.downloadData.data[t].splice(r,1),a.$store.dispatch("digitized/trashCDR",e))}))},close:function(){this.editedIndex=-1,this.$v.$reset(),this.$store.dispatch("triggerDialog",!1)},save:function(){this.$v.$touch(),-1===this.editedIndex?(this.$store.dispatch("digitized/storeCDR",this.uploadData),this.refreshData()):(this.$store.dispatch("digitized/updateCDR",this.uploadData),this.refreshData()),this.refreshData(),console.log(this.uploadData)}}},Rr=wr,Pr=(a("747f"),Object(m["a"])(Rr,Or,Nr,!1,null,null,null)),Vr=Pr.exports;v()(Pr,{VAutocomplete:xt["a"],VBtn:O["a"],VCard:N["a"],VCardText:$["c"],VCol:R["a"],VContainer:we["a"],VDataTable:P["a"],VDatePicker:Pi["a"],VDialog:V["a"],VDivider:h["a"],VFileInput:sr["a"],VIcon:f["a"],VMenu:U["a"],VRow:B["a"],VSpacer:F["a"],VTextField:qe["a"],VToolbar:W["a"],VToolbarItems:J["a"],VToolbarTitle:J["b"],VTooltip:Q["a"]});var qr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.incoming,search:e.search,loading:e.loadingStatus2},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Incoming Payment")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),e.searchAll?a("v-autocomplete",{attrs:{loading:e.loadingStatus,items:e.branches,"item-value":"value","item-text":"name","return-object":"",dense:"",label:"Select Branch",chips:"","hide-details":"","hide-selected":"",solo:""},on:{change:function(t){return e.get()}},model:{value:e.branch,callback:function(t){e.branch=t},expression:"branch"}}):e._e(),e.searchAll?a("v-spacer"):e._e(),a("v-text-field",{attrs:{"append-icon":"search",label:"Customer Name / Invoice","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-dialog",{attrs:{scrollable:"",value:e.dialog,width:"700","hide-overlay":"",transition:"dialog-bottom-transition",persistent:""}},[a("v-card",[a("v-car-title",[a("v-toolbar",[a("v-btn",{attrs:{icon:""},on:{click:e.close}},[a("v-icon",[e._v("mdi-close")])],1),a("v-toolbar-title",[e._v(" "+e._s(e.name)+" "),a("p",{staticStyle:{"font-size":"10px"}},[e._v(" "+e._s(e.address)+" ")])]),a("v-chip",{staticClass:"ma-5",attrs:{color:"green"}},[e._v("PRICELIST CODE:"),a("strong",[e._v(" "+e._s(e.pricelist))])]),a("v-toolbar-title",{staticStyle:{"text-transform":"uppercase","font-size":"12px","font-weight":"bold"}},[e._v(e._s(e.reportID))]),a("v-spacer")],1)],1),a("v-card-text",[a("v-container",[a("v-row",[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers2,items:e.installment,"items-per-page":13,loading:e.loadingStatus},scopedSlots:e._u([{key:"item.Date",fn:function(t){var a=t.item;return[e._v(" "+e._s(""==a.Date?"":new Date(a.Date).toDateString())+" ")]}},{key:"item.OverDueDays",fn:function(t){var i=t.item;return[a("v-chip",{staticClass:"ma-2",attrs:{color:""!==i.check?"red":"green",label:"",small:"",dense:""}},[e._v(" "+e._s(i.OverDueDays)+" ")])]}},{key:"item.Total",fn:function(e){var t=e.item;return[a("money-format",{attrs:{value:parseInt(t.Total),locale:"en","currency-code":"PHP"}})]}},{key:"item.Interest",fn:function(e){var t=e.item;return[a("money-format",{attrs:{value:parseInt(t.Interest),locale:"en","currency-code":"PHP"}})]}}])})],1)],1)],1)],1)],1)],1)]},proxy:!0},{key:"item.Total",fn:function(e){var t=e.item;return[a("money-format",{attrs:{value:parseInt(t.Total),locale:"en","currency-code":"PHP"}})]}},{key:"item.Status",fn:function(t){var i=t.item;return[a("v-chip",{staticClass:"ma-2",attrs:{color:"C"==i.Status?"red":"green",label:"",small:""}},[e._v(" "+e._s("C"==i.Status?"CLOSE":"OPEN")+" ")])]}},{key:"item.action",fn:function(t){var i=t.item;return["CASH"!==i.Installment?a("v-icon",{attrs:{small:""},on:{click:function(t){return e.view(i)}}},[e._v(" mdi-content-duplicate ")]):e._e()]}}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1)],1)},Lr=[],Ur=a("fe61"),jr={components:{"money-format":Ur["a"]},mixins:[nt["validationMixin"]],data:function(){return{pricelist:"",name:"",address:"",branch:"",reveal:!1,search:"",selected:[],loader:null,disabledCount:0,submitDisable:!0,headers:[{text:"CUSTOMER NAME",align:"left",value:"CustomerName"},{text:"INVOICE",align:"left",value:"InvoiceNumber"},{text:"DOCUMENT TYPE",align:"left",value:"Installment"},{text:"PRICELIST",align:"left",value:"PriceList"},{text:"TOTAL",align:"left",value:"Total"},{text:"STATUS",align:"left",value:"Status"},{text:"ACTIONS",align:"center",value:"action",sortable:!1}],headers2:[{text:"DOCUMENT NO",align:"left",value:"DocumentNo"},{text:"INSTALLMENT",align:"left",value:"Intallment"},{text:"DUEDATE",align:"left",value:"Date"},{text:"OVERDUEDAYS",align:"left",value:"OverDueDays"},{text:"TOTAL",align:"left",value:"Total"},{text:"INTEREST",align:"left",value:"Interest"}],editedIndex:-1,viewMode:!1,viewOnly:0,reportID:""}},computed:Object(c["a"])(Object(c["a"])({},Object(l["b"])({branches:"digitized/getBranches",incoming:"incomingpayment/getIncoming",installment:"incomingpayment/getInstallment",permissions:"userPermissions/getPermission"})),{},{searchAll:function(){return this.permissions.includes("Admin Access")},dialog:function(){return this.$store.state.dialog},loadingStatus:function(){return this.$store.state.loading},loadingStatus2:function(){return this.$store.state.loading2}}),watch:{providers:function(){this.$v.$reset()}},created:function(){this.$store.dispatch("incomingpayment/fetchIncoming"),this.$store.dispatch("digitized/fetchbranches"),this.$store.dispatch("userPermissions/fetchPermission")},methods:{refreshData:function(){},openDialog:function(){this.$store.dispatch("triggerDialog",!0)},getfile:function(){},view:function(e){var t,a;"0% SPL"==e.PriceList||"0% REG"==e.PriceList?(t=.05,a="5%"):(t=.07,a="7%"),this.pricelist=e.PriceList+" "+a,console.log(t),this.name=e.CustomerName,this.address=e.Address,this.$store.dispatch("incomingpayment/fetchInstallment",e),this.$store.dispatch("triggerDialog",!0)},check:function(){},get:function(){this.$store.dispatch("incomingpayment/fetchIncoming",this.branch)},close:function(){this.editedIndex=-1,this.$store.dispatch("triggerDialog",!1)}}},Br=jr,Mr=(a("656a"),Object(m["a"])(Br,qr,Lr,!1,null,null,null)),Gr=Mr.exports;v()(Mr,{VAutocomplete:xt["a"],VBtn:O["a"],VCard:N["a"],VCardText:$["c"],VChip:w["a"],VContainer:we["a"],VDataTable:P["a"],VDialog:V["a"],VDivider:h["a"],VIcon:f["a"],VRow:B["a"],VSpacer:F["a"],VTextField:qe["a"],VToolbar:W["a"],VToolbarTitle:J["b"]});var Fr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.incoming,search:e.search,loading:e.loadingStatus2},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Customer Installment Ledger")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),e.searchAll?a("v-autocomplete",{attrs:{loading:e.loadingStatus,items:e.branches,"item-value":"value","item-text":"name","return-object":"",dense:"",label:"Select Branch",chips:"","hide-details":"","hide-selected":"",solo:""},on:{change:function(t){return e.get()}},model:{value:e.branch,callback:function(t){e.branch=t},expression:"branch"}}):e._e(),e.searchAll?a("v-spacer"):e._e(),a("v-text-field",{attrs:{"append-icon":"search",label:"Customer Name / Invoice","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-spacer"),a("p",{staticClass:"text-center"},[a("br"),e.grade?a("strong",[e._v("GRADE: "+e._s(e.grade)+" "),e.grade?e._e():a("v-progress-circular",{attrs:{indeterminate:"",color:"primary"}})],1):e._e(),a("br"),e.grade?a("small",[e._v(" as of "+e._s((new Date).toDateString()))]):e._e()]),a("v-dialog",{attrs:{scrollable:"",value:e.dialog,width:"800","hide-overlay":"",transition:"dialog-bottom-transition",persistent:""}},[a("v-card",[a("v-car-title",[a("v-toolbar",[a("v-btn",{attrs:{icon:""},on:{click:e.close}},[a("v-icon",[e._v("mdi-close")])],1),a("v-toolbar-title",[e._v(" "+e._s(e.name)+" "),a("p",{staticStyle:{"font-size":"10px"}},[e._v(" "+e._s(e.address)+" ")])]),a("v-toolbar-title",{staticStyle:{"text-transform":"uppercase","font-size":"12px","font-weight":"bold"}},[e._v(e._s(e.reportID))]),a("v-chip",{staticClass:"ma-5",attrs:{color:"green"}},[e._v("DOCUMENT TYPE :"),a("strong",[e._v(" "+e._s(e.installment_type))])]),a("v-chip",{staticClass:"ma-1",attrs:{color:"green"}},[e._v("DOWNPAYMENT : "),a("strong",[a("money-format",{attrs:{value:0!=e.downpayment?parseInt(e.downpayment):0,locale:"en","currency-code":"PHP"}})],1)]),a("v-spacer")],1)],1),a("v-card-text",[a("v-container",[a("v-row",[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers2,items:e.installment,"items-per-page":12,loading:e.loadingStatus},scopedSlots:e._u([{key:"item.Date",fn:function(t){var a=t.item;return[e._v(" "+e._s(new Date(a.Date).toDateString())+" ")]}},{key:"item.Total",fn:function(e){var t=e.item;return[a("money-format",{attrs:{value:parseInt(t.Total),locale:"en","currency-code":"PHP"}})]}},{key:"item.Payment",fn:function(e){var t=e.item;return[a("money-format",{attrs:{value:0!=t.Payment?parseInt(t.Payment):0,locale:"en","currency-code":"PHP"}})]}},{key:"item.SapEndingBalance",fn:function(e){var t=e.item;return[a("money-format",{attrs:{value:0!=t.SapEndingBalance?parseInt(t.SapEndingBalance):0,locale:"en","currency-code":"PHP"}})]}},{key:"item.ManualEndingBalance",fn:function(t){var i=t.item;return["C"==i.DocStat?a("v-text-field",{staticClass:"mt-4",attrs:{label:i.ManualEndingBalance,outlined:"",dense:""},on:{change:function(t){return e.update(i)}},model:{value:e.manualending[i.id],callback:function(t){e.$set(e.manualending,i.id,t)},expression:"manualending[item.id]"}}):e._e()]}}])})],1)],1)],1)],1)],1),a("v-dialog",{attrs:{scrollable:"",value:e.dialog2,width:"900","hide-overlay":"",transition:"dialog-bottom-transition",persistent:""}},[a("v-card",[a("v-car-title",[a("v-toolbar",[a("v-btn",{attrs:{icon:""},on:{click:e.close}},[a("v-icon",[e._v("mdi-close")])],1),a("v-toolbar-title",[e._v(" "+e._s(e.name)+" "),a("p",{staticStyle:{"font-size":"10px"}},[e._v(" "+e._s(e.address)+" ")])]),a("v-toolbar-title",{staticStyle:{"text-transform":"uppercase","font-size":"12px","font-weight":"bold"}},[e._v(e._s(e.reportID))]),a("v-spacer")],1)],1),a("v-card-text",[a("v-container",[a("v-row",[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers3,items:e.installment,"items-per-page":12,loading:e.loadingStatus},scopedSlots:e._u([{key:"item.Date",fn:function(t){var a=t.item;return[e._v(" "+e._s(new Date(a.Date).toDateString())+" ")]}},{key:"item.Total",fn:function(e){var t=e.item;return[a("money-format",{attrs:{value:parseInt(t.Total),locale:"en","currency-code":"PHP"}})]}},{key:"item.discrepancy",fn:function(e){var t=e.item;return[a("money-format",{attrs:{value:parseInt(t.SapEndingBalance-t.ManualEndingBalance),locale:"en","currency-code":"PHP"}})]}},{key:"item.Payment",fn:function(e){var t=e.item;return[a("money-format",{attrs:{value:0!=t.Payment?parseInt(t.Payment):0,locale:"en","currency-code":"PHP"}})]}},{key:"item.SapEndingBalance",fn:function(e){var t=e.item;return[a("money-format",{attrs:{value:0!=t.SapEndingBalance?parseInt(t.SapEndingBalance):0,locale:"en","currency-code":"PHP"}})]}},{key:"item.ManualEndingBalance",fn:function(e){var t=e.item;return[a("money-format",{attrs:{value:null!=t.ManualEndingBalance?parseInt(t.ManualEndingBalance):"",locale:"en","currency-code":"PHP"}})]}}])})],1)],1)],1)],1)],1)],1)]},proxy:!0},{key:"item.Status",fn:function(t){var i=t.item;return[a("v-chip",{staticClass:"ma-2",attrs:{color:"C"==i.Status?"red":"green",label:"",small:""}},[e._v(" "+e._s("C"==i.Status?"CLOSE":"OPEN")+" ")])]}},{key:"item.action",fn:function(t){var i=t.item;return["CASH"!==i.Installment?a("v-icon",{attrs:{small:""},on:{click:function(t){return e.view(i)}}},[e._v(" mdi-content-duplicate ")]):e._e(),"CASH"!==i.Installment?a("v-icon",{attrs:{small:""},on:{click:function(t){return e.discyp(i)}}},[e._v(" mdi-file ")]):e._e()]}},{key:"item.Total",fn:function(e){var t=e.item;return[a("money-format",{attrs:{value:parseInt(t.Total),locale:"en","currency-code":"PHP"}})]}}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1)],1)},Yr=[],zr={components:{"money-format":Ur["a"]},mixins:[nt["validationMixin"]],data:function(){return{installment_type:"",downpayment:"",name:"",address:"",branch:"",reveal:!1,search:"",selected:[],loader:null,disabledCount:0,submitDisable:!0,headers:[{text:"CUSTOMER NAME",align:"left",value:"CustomerName"},{text:"INVOICE",align:"left",value:"InvoiceNumber"},{text:"DOCUMENT TYPE",align:"left",value:"Installment"},{text:"TOTAL",align:"left",value:"Total"},{text:"STATUS",align:"left",value:"Status"},{text:"ACTIONS",align:"center",value:"action",sortable:!1}],headers2:[{text:"DUEDATE",align:"left",value:"Date"},{text:"INSTALLMENT",align:"left",value:"Intallment"},{text:"INSTALLMENT DUE",align:"left",value:"Total"},{text:"PAYMENTS",align:"left",value:"Payment"},{text:"MANUAL ENDING BALANCE",align:"left",value:"ManualEndingBalance"}],headers3:[{text:"DUEDATE",align:"left",value:"Date"},{text:"INSTALLMENT",align:"left",value:"Intallment"},{text:"INSTALLMENT DUE",align:"left",value:"Total"},{text:"PAYMENTS",align:"left",value:"Payment"},{text:"SAP ENDING BALANCE",align:"left",value:"SapEndingBalance"},{text:"MANUAL ENDING BALANCE",align:"left",value:"ManualEndingBalance"},{text:"DISCREPANCY",align:"left",value:"discrepancy"}],manualending:[],editedIndex:-1,viewMode:!1,viewOnly:0,reportID:"",dialog2:!1}},computed:Object(c["a"])(Object(c["a"])({},Object(l["b"])({branches:"digitized/getBranches",incoming:"recon/getIncoming",installment:"recon/getInstallment",grade:"recon/getbranchgrade",permissions:"userPermissions/getPermission"})),{},{searchAll:function(){return this.permissions.includes("Admin Access")},dialog:function(){return this.$store.state.dialog},loadingStatus:function(){return this.$store.state.loading},loadingStatus2:function(){return this.$store.state.loading2}}),watch:{providers:function(){this.$v.$reset()}},created:function(){this.$store.dispatch("recon/fetchIncoming"),this.$store.dispatch("digitized/fetchbranches"),this.$store.dispatch("userPermissions/fetchPermission")},methods:{refreshData:function(){},openDialog:function(){this.$store.dispatch("triggerDialog",!0)},getfile:function(){},view:function(e){console.log(e),this.name=e.CustomerName,this.address=e.Address,this.downpayment=e.DownPayment,this.installment_type=e.Installment,this.$store.dispatch("recon/fetchInstallment",e),this.$store.dispatch("triggerDialog",!0)},discyp:function(e){this.name=e.CustomerName,this.address=e.Address,this.$store.dispatch("recon/fetchInstallment",e),this.dialog2=!0},check:function(){},get:function(){this.$store.dispatch("recon/fetchIncoming",this.branch)},close:function(){this.manualending=[],this.editedIndex=-1,this.$store.dispatch("triggerDialog",!1),this.dialog2=!1},update:function(e){var t={id:e.id,value:this.manualending[e.id]};this.$store.dispatch("recon/updateManual",t)}}},Hr=zr,Kr=(a("d5ea"),a("490a")),Wr=Object(m["a"])(Hr,Fr,Yr,!1,null,null,null),Jr=Wr.exports;v()(Wr,{VAutocomplete:xt["a"],VBtn:O["a"],VCard:N["a"],VCardText:$["c"],VChip:w["a"],VContainer:we["a"],VDataTable:P["a"],VDialog:V["a"],VDivider:h["a"],VIcon:f["a"],VProgressCircular:Kr["a"],VRow:B["a"],VSpacer:F["a"],VTextField:qe["a"],VToolbar:W["a"],VToolbarTitle:J["b"]});var Qr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.overdues,search:e.search,loading:e.loadingStatus,"item-key":"index","sort-by":"branch","group-by":"branch","custom-filter":e.customFilter},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Credit Dunning Letters")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.refreshData}},i),[a("v-icon",[e._v("mdi-refresh")])],1)]}}])},[a("span",[e._v("Refresh")])]),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)]},proxy:!0},{key:"group.header",fn:function(t){var i=t.toggle,r=t.isOpen,n=t.group;return[a("th",{attrs:{colspan:"3"}},[a("v-icon",{staticClass:"mr-2",class:{active:r},on:{click:i}},[e._v(" mdi-chevron-down ")]),e._v(" "+e._s(n.toUpperCase())+" BRANCH ")],1)]}},{key:"item.aging",fn:function(t){var a=t.item;return[e._v(" "+e._s(e.getOverdue(a.aging))+" ")]}},{key:"item.action",fn:function(t){var i=t.item;return[a("v-btn",{attrs:{small:"",text:"",depressed:"",loading:e.downloading[i.row_id],disabled:e.downloading[i.row_id]},on:{click:function(t){return e.downloadLetters(i)}},scopedSlots:e._u([{key:"loader",fn:function(){return[a("span",{staticClass:"mr-2"},[e._v("Dowloading... ")]),a("span",{staticClass:"custom-loader"},[a("v-icon",{attrs:{light:""}},[e._v("mdi-dots-circle")])],1)]},proxy:!0}],null,!0)},[a("v-icon",{attrs:{left:""}},[e._v(" mdi-file-download-outline ")]),e._v(" Download Letters ")],1)]}}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1)],1)},Xr=[],Zr=(a("25f0"),{data:function(){return{selected:[],search:"",headers:[{text:"BRANCH",align:"start",value:"branch"},{text:"OVERDUE",align:"start",value:"aging",groupable:!1},{text:"OVERDUE TOTAL",align:"center",value:"aging_count",groupable:!1},{text:"ACTIONS",align:"start",value:"action",sortable:!1,groupable:!1}]}},computed:Object(c["a"])(Object(c["a"])({},Object(l["b"])({overdues:"dunning/getOverdues",downloading:"dunning/getDownloadingStatus"})),{},{loadingStatus:function(){return this.$store.state.loading},getOverdue:function(){return function(e){return e.substring(e.indexOf(" "),e.length)}}}),created:function(){this.get()},methods:{customFilter:function(e,t,a){return null!=e&&a.aging==e&&(e=this.getOverdue(e)),null!=e&&null!=t&&"string"===typeof e&&-1!==e.toString().toLocaleLowerCase().indexOf(t)},refreshData:function(){this.get()},downloadLetters:function(e){var t=e.branch,a=e.aging,i=e.row_id;this.$store.dispatch("dunning/downloadLetters",{branch:t,aging:a,index:i})},get:function(){this.$store.dispatch("dunning/fetchOverdues")}}}),en=Zr,tn=(a("0e40"),Object(m["a"])(en,Qr,Xr,!1,null,"572e9788",null)),an=tn.exports;v()(tn,{VBtn:O["a"],VContainer:we["a"],VDataTable:P["a"],VDivider:h["a"],VIcon:f["a"],VSpacer:F["a"],VTextField:qe["a"],VToolbar:W["a"],VToolbarTitle:J["b"],VTooltip:Q["a"]});var rn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[a("v-card",[a("v-card-title",{staticClass:"text-h5"},[e._v(" Validation Portal ")]),a("v-card-subtitle",[e._v("Template")]),a("v-divider"),a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"4"}},[a("v-file-input",{attrs:{"prepend-icon":"mdi-microsoft-excel","show-size":"","error-messages":e.input_validation_errors.base_on_file,label:"Select file to base on"},model:{value:e.base_on_file,callback:function(t){e.base_on_file=t},expression:"base_on_file"}})],1),a("v-col",{attrs:{cols:"4"}},[a("v-file-input",{attrs:{"prepend-icon":"mdi-microsoft-excel","show-size":"","error-messages":e.input_validation_errors.comparison_file,label:"Select another file for comparison"},model:{value:e.comparison_file,callback:function(t){e.comparison_file=t},expression:"comparison_file"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"4"}},[a("v-text-field",{attrs:{"prepend-icon":"mdi-table-column","error-messages":e.input_validation_errors.unique_column_1,label:"Enter first unique column"},model:{value:e.unique_column_1,callback:function(t){e.unique_column_1=t},expression:"unique_column_1"}})],1),a("v-col",{attrs:{cols:"4"}},[a("v-text-field",{attrs:{"prepend-icon":"mdi-table-column","error-messages":e.input_validation_errors.unique_column_2,label:"Enter second unique column",hint:"Optional","persistent-hint":""},model:{value:e.unique_column_2,callback:function(t){e.unique_column_2=t},expression:"unique_column_2"}})],1)],1),a("v-row",[a("v-col",{staticClass:"align-end",attrs:{cols:"12"}},[a("v-btn",{staticClass:"mr-2",attrs:{loading:e.validation_on_progress},on:{click:function(t){return e.validateData()}}},[e._v("Validate")]),e.needExporting?a("v-btn",{attrs:{loading:e.exporting_on_progress},on:{click:function(t){return e.exportToExcel()}}},[e._v("Export To Excel")]):e._e()],1)],1),e.success_message?a("div",{staticClass:"mt-5"},[a("div",{staticClass:"text-h6 green--text text--darken-1"},[e._v(e._s(e.success_message))])]):e._e(),e.validation_errors.validationErrorType?a("div",{staticClass:"mt-7"},[a("h3",{staticClass:"mb-1 red--text text--lighten-1 text-h6"},[e._v("Validation Errors")]),a("h4",{staticClass:"mb-2 red--text text--lighten-2"},[e._v(e._s(e.validation_errors.validationErrorType))]),e.validation_errors.excelSrc?a("h4",[e._v("Excel Source: "+e._s(e.validation_errors.excelSrc))]):e._e(),e.validation_errors.message?a("div",{domProps:{innerHTML:e._s(e.validation_errors.message)}}):e._e(),e.validation_errors.notEqualColumns?a("v-data-table",{staticClass:"elevation-2 mt-4",attrs:{headers:e.headers,items:e.validation_errors.notEqualColumns,"items-per-page":15}}):e._e(),"Data not found"==e.validation_errors.validationErrorType?a("div",[e.isComparisonNotFoundExisted?a("div",{staticClass:"mt-2"},[a("label",[e._v("The data listed below are not existed in "),a("strong",[e._v(e._s(e.validation_errors.itemsNotFound.comparison_sheet_not_found.notFoundIn))])]),a("div",[a("strong",[e._v("Data From:")]),e._v(" "+e._s(e.validation_errors.itemsNotFound.comparison_sheet_not_found.excelSrc))]),a("div",[a("strong",[e._v("Total Errors:")]),e._v(" "+e._s(e.validation_errors.itemsNotFound.comparison_sheet_not_found.error_count))]),e.validation_errors.itemsNotFound.comparison_sheet_not_found.data?a("v-data-table",{staticClass:"elevation-2 mt-4",attrs:{headers:e.data_not_found_headers,items:e.validation_errors.itemsNotFound.comparison_sheet_not_found.data,"items-per-page":15}}):e._e()],1):e._e(),e.isBaseDataNotFoundExisted?a("div",{class:e.getBaseBaseDataNotFoundClassMargin},[a("label",[e._v("The data listed below are not existed in "),a("strong",[e._v(e._s(e.validation_errors.itemsNotFound.base_sheet_not_found.notFoundIn))])]),a("div",[a("strong",[e._v("Data From:")]),e._v(" "+e._s(e.validation_errors.itemsNotFound.base_sheet_not_found.excelSrc))]),a("div",[a("strong",[e._v("Total Errors:")]),e._v(" "+e._s(e.validation_errors.itemsNotFound.base_sheet_not_found.error_count))]),e.validation_errors.itemsNotFound.base_sheet_not_found.data?a("v-data-table",{staticClass:"elevation-2 mt-4",attrs:{headers:e.data_not_found_headers,items:e.validation_errors.itemsNotFound.base_sheet_not_found.data,"items-per-page":15}}):e._e()],1):e._e()]):e._e()],1):e._e()],1)],1)],1)],1)},nn=[],on={created:function(){this.$store.dispatch("validation_template/checkAuth")},mounted:function(){this.$store.dispatch("validation_template/resetValidationMessages")},data:function(){return{headers:[{text:"No.",align:"center",sortable:!1,value:"no"},{text:"Unique Column",align:"start",value:"unique_column"},{text:"Header",align:"start",value:"header"},{text:"Row",align:"start",value:"row",sortable:!1},{text:"Value",align:"start",value:"value",sortable:!1},{text:"Expected Value",align:"start",value:"expected_value",sortable:!1}],data_not_found_headers:[{text:"No.",align:"center",sortable:!1,value:"no"},{text:"Header",align:"start",value:"header"},{text:"Row",align:"start",value:"row",sortable:!1},{text:"Value",align:"start",value:"value",sortable:!1}],unique_column_1:"",unique_column_2:"",base_on_file:null,comparison_file:null}},methods:{validateData:function(){this.$store.dispatch("validation_template/validateTemplate",{base_on_file:this.base_on_file,comparison_file:this.comparison_file,unique_column_1:this.unique_column_1,unique_column_2:this.unique_column_2})},exportToExcel:function(){var e=this.validation_errors,t=[],a=[],i="";this.cellValueNotMatchErrType?(t=["Unique Column","Header","Row","Value","Expected Value"],a=e.notEqualColumns,i="CellValuesDoesNotMatch"):this.dataNotFoundErrType&&(t=["Header","Row","Value"],a=e.itemsNotFound,i="DataNotFound"),this.$store.dispatch("validation_template/exportToExcel",{excel_headers:t,data:a,type:i})}},computed:Object(c["a"])({getBaseBaseDataNotFoundClassMargin:function(){return this.isComparisonNotFoundExisted?"mt-5":"mt-2"},isComparisonNotFoundExisted:function(){var e=this.validation_errors;return e.itemsNotFound.comparison_sheet_not_found&&e.itemsNotFound.comparison_sheet_not_found.data.length>0},isBaseDataNotFoundExisted:function(){var e=this.validation_errors;return e.itemsNotFound.base_sheet_not_found&&e.itemsNotFound.base_sheet_not_found.data.length>0},getValidationErrType:function(){var e=this.validation_errors,t=e.validationErrorType;return t},cellValueNotMatchErrType:function(){return!!this.getValidationErrType&&this.getValidationErrType.includes("Cell Values doesn't match")},dataNotFoundErrType:function(){return!!this.getValidationErrType&&this.getValidationErrType.includes("Data not found")},needExporting:function(){return this.cellValueNotMatchErrType||this.dataNotFoundErrType}},Object(l["b"])({input_validation_errors:"validation_template/getInputValidationErrors",validation_errors:"validation_template/getValidationErrors",validation_on_progress:"validation_template/getValidationProgress",success_message:"validation_template/getSuccessMessage",exporting_on_progress:"validation_template/getExportingProgress"}))},sn=on,cn=Object(m["a"])(sn,rn,nn,!1,null,null,null),ln=cn.exports;v()(cn,{VBtn:O["a"],VCard:N["a"],VCardSubtitle:$["b"],VCardText:$["c"],VCardTitle:$["d"],VCol:R["a"],VContainer:we["a"],VDataTable:P["a"],VDivider:h["a"],VFileInput:sr["a"],VRow:B["a"],VTextField:qe["a"]});var dn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[a("v-card",[a("v-card-title",{staticClass:"text-h5"},[e._v(" Validation Portal ")]),a("v-card-subtitle",[e._v("Good Receipt Model - Serial Model")]),a("v-divider"),a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"4"}},[a("v-file-input",{attrs:{"prepend-icon":"mdi-microsoft-excel","show-size":"","error-messages":e.input_validation_errors.base_on_file,label:"Select file to base on"},model:{value:e.base_on_file,callback:function(t){e.base_on_file=t},expression:"base_on_file"}})],1),a("v-col",{attrs:{cols:"4"}},[a("v-file-input",{attrs:{"prepend-icon":"mdi-microsoft-excel","show-size":"","error-messages":e.input_validation_errors.comparison_file,label:"Select another file for comparison"},model:{value:e.comparison_file,callback:function(t){e.comparison_file=t},expression:"comparison_file"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"4"}},[a("v-text-field",{attrs:{"prepend-icon":"mdi-table-column","error-messages":e.input_validation_errors.column_to_compare,label:"Enter column to compare"},model:{value:e.column_to_compare,callback:function(t){e.column_to_compare=t},expression:"column_to_compare"}})],1),a("v-col",{attrs:{cols:"4"}},[a("v-text-field",{attrs:{"prepend-icon":"mdi-table-column",label:"Enter alternate name","error-messages":e.input_validation_errors.alt_name_of_col,hint:"Optional","persistent-hint":""},model:{value:e.alt_name_of_col,callback:function(t){e.alt_name_of_col=t},expression:"alt_name_of_col"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"4"}},[a("v-text-field",{attrs:{"prepend-icon":"mdi-table-column","error-messages":e.input_validation_errors.match_column_1,label:"Enter matched column 1"},model:{value:e.match_column_1,callback:function(t){e.match_column_1=t},expression:"match_column_1"}})],1),a("v-col",{attrs:{cols:"4"}},[a("v-text-field",{attrs:{"prepend-icon":"mdi-table-column","error-messages":e.input_validation_errors.match_column_2,label:"Enter matched column 2",hint:"Optional","persistent-hint":""},model:{value:e.match_column_2,callback:function(t){e.match_column_2=t},expression:"match_column_2"}})],1),a("v-col",{staticClass:"align-end",attrs:{cols:"12"}},[a("v-btn",{staticClass:"mr-2",attrs:{loading:e.validation_on_progress},on:{click:function(t){return e.validateData()}}},[e._v("Validate")]),e.validation_errors.validationErrorType?a("v-btn",{attrs:{loading:e.exporting_on_progress},on:{click:function(t){return e.exportToExcel()}}},[e._v("Export To Excel")]):e._e()],1)],1),e.success_message?a("div",{staticClass:"mt-5"},[a("div",{staticClass:"text-h6 green--text text--darken-1"},[e._v(e._s(e.success_message))])]):e._e(),e.validation_errors.validationErrorType?a("div",{staticClass:"mt-7"},[a("h3",{staticClass:"mb-1 red--text text--lighten-1 text-h6"},[e._v("Validation Errors")]),a("h4",{staticClass:"mb-2 red--text text--lighten-2"},[e._v(e._s(e.validation_errors.validationErrorType))]),e.validation_errors.excelSrc?a("h4",[e._v("Excel Source: "+e._s(e.validation_errors.excelSrc))]):e._e(),e.validation_errors.message?a("div",{domProps:{innerHTML:e._s(e.validation_errors.message)}}):e._e(),e.validation_errors.notMatchData?a("v-data-table",{staticClass:"elevation-2 mt-4",attrs:{headers:e.headers,items:e.validation_errors.notMatchData,"items-per-page":15}}):e._e()],1):e._e()],1)],1)],1)],1)},un=[],mn={created:function(){this.$store.dispatch("validation_template/checkAuth")},mounted:function(){this.$store.dispatch("validation_good_receipt_serial/resetValidationMessages")},data:function(){return{headers:[{text:"No.",align:"center",sortable:!1,value:"no"},{text:"Header",align:"start",value:"header"},{text:"Row",align:"start",value:"row",sortable:!1},{text:"Value",align:"start",value:"value",sortable:!1},{text:"Expected Value",align:"start",value:"expected_value",sortable:!1}],column_to_compare:"LineNum",alt_name_of_col:"DocLineNum",match_column_1:"ItemCode",match_column_2:"WhsCode",base_on_file:null,comparison_file:null}},methods:{validateData:function(){this.$store.dispatch("validation_good_receipt_serial/validateGoodReceiptToSerial",{base_on_file:this.base_on_file,comparison_file:this.comparison_file,column_to_compare:this.column_to_compare,alt_name_of_col:this.alt_name_of_col,match_column_1:this.match_column_1,match_column_2:this.match_column_2})},exportToExcel:function(){var e=this.validation_errors,t=["Header","Row","Value","Expected Value"],a=e.notMatchData;this.$store.dispatch("validation_template/exportToExcel",{excel_headers:t,data:a,type:"DataDoesnotMatch"})}},computed:Object(c["a"])({},Object(l["b"])({input_validation_errors:"validation_good_receipt_serial/getInputValidationErrors",validation_errors:"validation_good_receipt_serial/getValidationErrors",validation_on_progress:"validation_good_receipt_serial/getValidationProgress",success_message:"validation_good_receipt_serial/getSuccessMessage",exporting_on_progress:"validation_template/getExportingProgress"}))},pn=mn,vn=Object(m["a"])(pn,dn,un,!1,null,null,null),hn=vn.exports;v()(vn,{VBtn:O["a"],VCard:N["a"],VCardSubtitle:$["b"],VCardText:$["c"],VCardTitle:$["d"],VCol:R["a"],VContainer:we["a"],VDataTable:P["a"],VDivider:h["a"],VFileInput:sr["a"],VRow:B["a"],VTextField:qe["a"]});var fn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[a("v-card",[a("v-card-title",{staticClass:"text-h5"},[e._v(" Validation Portal ")]),a("v-card-subtitle",[e._v("BP Master Data CardCode - AR Invoice CardCode")]),a("v-divider"),a("v-card-text",[a("v-row",[a("v-col",{attrs:{cols:"4"}},[a("v-file-input",{attrs:{"prepend-icon":"mdi-microsoft-excel","show-size":"","error-messages":e.input_validation_errors.base_on_file,label:"Select file to base on"},model:{value:e.base_on_file,callback:function(t){e.base_on_file=t},expression:"base_on_file"}})],1),a("v-col",{attrs:{cols:"4"}},[a("v-file-input",{attrs:{"prepend-icon":"mdi-microsoft-excel","show-size":"","error-messages":e.input_validation_errors.comparison_file,label:"Select another file for comparison"},model:{value:e.comparison_file,callback:function(t){e.comparison_file=t},expression:"comparison_file"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"4"}},[a("v-text-field",{attrs:{"prepend-icon":"mdi-table-column","error-messages":e.input_validation_errors.base_match_column,label:"Base file match column name"},model:{value:e.base_match_column,callback:function(t){e.base_match_column=t},expression:"base_match_column"}})],1),a("v-col",{attrs:{cols:"4"}},[a("v-text-field",{attrs:{"prepend-icon":"mdi-table-column",label:"Comparison file match column name","error-messages":e.input_validation_errors.comparison_match_column},model:{value:e.comparison_match_column,callback:function(t){e.comparison_match_column=t},expression:"comparison_match_column"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"4"}},[a("v-combobox",{attrs:{chips:"",clearable:"",label:"Input columns to get in base file",multiple:"","prepend-icon":"mdi-table-column","error-messages":e.input_validation_errors.base_columns_to_get},scopedSlots:e._u([{key:"selection",fn:function(t){var i=t.attrs,r=t.item,n=t.select,o=t.selected;return[a("v-chip",e._b({attrs:{"input-value":o,close:""},on:{click:n,"click:close":function(t){return e.removeBaseColumn(r)}}},"v-chip",i,!1),[a("strong",[e._v(e._s(r))])])]}}]),model:{value:e.base_columns_to_get,callback:function(t){e.base_columns_to_get=t},expression:"base_columns_to_get"}})],1),a("v-col",{attrs:{cols:"4"}},[a("v-combobox",{attrs:{chips:"",clearable:"",label:"Input columns to get in comparison file",multiple:"","prepend-icon":"mdi-table-column","error-messages":e.input_validation_errors.comparison_columns_to_get},scopedSlots:e._u([{key:"selection",fn:function(t){var i=t.attrs,r=t.item,n=t.select,o=t.selected;return[a("v-chip",e._b({attrs:{"input-value":o,close:""},on:{click:n,"click:close":function(t){return e.removeComparisonColumn(r)}}},"v-chip",i,!1),[a("strong",[e._v(e._s(r))])])]}}]),model:{value:e.comparison_columns_to_get,callback:function(t){e.comparison_columns_to_get=t},expression:"comparison_columns_to_get"}})],1),a("v-col",{staticClass:"align-end",attrs:{cols:"12"}},[a("v-btn",{staticClass:"mr-2",attrs:{loading:e.validation_on_progress},on:{click:function(t){return e.validateData()}}},[e._v("Validate")]),e.validation_errors.validationErrorType?a("v-btn",{attrs:{loading:e.exporting_on_progress},on:{click:function(t){return e.exportToExcel()}}},[e._v("Export To Excel")]):e._e()],1)],1),e.success_message?a("div",{staticClass:"mt-5"},[a("div",{staticClass:"text-h6 green--text text--darken-1"},[e._v(e._s(e.success_message))])]):e._e(),e.validation_errors.validationErrorType?a("div",{staticClass:"mt-7"},[a("h3",{staticClass:"mb-1 red--text text--lighten-1 text-h6"},[e._v("Validation Errors")]),a("h4",{staticClass:"mb-2 red--text text--lighten-2"},[e._v(e._s(e.validation_errors.validationErrorType))]),"Data not found"==e.validation_errors.validationErrorType?a("div",[e.validation_errors.itemsNotFound.base_sheet_not_found&&e.validation_errors.itemsNotFound.base_sheet_not_found.data.length>0?a("div",{staticClass:"mt-2"},[a("label",[e._v("The data listed below are not existed in "),a("strong",[e._v(e._s(e.validation_errors.itemsNotFound.base_sheet_not_found.notFoundIn))])]),a("div",[a("strong",[e._v("Data From:")]),e._v(" "+e._s(e.validation_errors.itemsNotFound.base_sheet_not_found.excelSrc))]),a("div",[a("strong",[e._v("Total Errors:")]),e._v(" "+e._s(e.validation_errors.itemsNotFound.base_sheet_not_found.error_count))]),e.validation_errors.itemsNotFound.base_sheet_not_found.data?a("v-data-table",{staticClass:"elevation-2 mt-4",attrs:{headers:e.data_not_found_headers,items:e.validation_errors.itemsNotFound.base_sheet_not_found.data,"items-per-page":15}}):e._e()],1):e._e()]):e._e()]):e._e()],1)],1)],1)],1)},_n=[],gn={created:function(){this.$store.dispatch("validation_template/checkAuth")},mounted:function(){this.$store.dispatch("validation_bp_master_ar_invoice_cardcode/resetValidationMessages")},data:function(){return{data_not_found_headers:[{text:"No.",align:"center",sortable:!1,value:"no"},{text:"Header",align:"start",value:"header"},{text:"Row",align:"start",value:"row",sortable:!1},{text:"Value",align:"start",value:"value",sortable:!1}],base_match_column:"AliasName",comparison_match_column:"CardCode",base_on_file:null,comparison_file:null,base_columns_to_get:["CardCode","AliasName"],comparison_columns_to_get:["CardName"]}},methods:{validateData:function(){this.$store.dispatch("validation_bp_master_ar_invoice_cardcode/validateBPMasterDataCardCodeArInvoice",{base_on_file:this.base_on_file,comparison_file:this.comparison_file,base_match_column:this.base_match_column,comparison_match_column:this.comparison_match_column,base_columns_to_get:this.base_columns_to_get,comparison_columns_to_get:this.comparison_columns_to_get})},removeBaseColumn:function(e){this.base_columns_to_get.splice(this.base_columns_to_get.indexOf(e),1)},removeComparisonColumn:function(e){this.comparison_columns_to_get.splice(this.comparison_columns_to_get.indexOf(e),1)},exportToExcel:function(){var e=this.validation_errors,t=["Header","Row","Value"],a=e.itemsNotFound;this.$store.dispatch("validation_template/exportToExcel",{excel_headers:t,data:a,type:"DataNotFound"})}},computed:Object(c["a"])({},Object(l["b"])({input_validation_errors:"validation_bp_master_ar_invoice_cardcode/getInputValidationErrors",validation_errors:"validation_bp_master_ar_invoice_cardcode/getValidationErrors",validation_on_progress:"validation_bp_master_ar_invoice_cardcode/getValidationProgress",success_message:"validation_bp_master_ar_invoice_cardcode/getSuccessMessage",exporting_on_progress:"validation_template/getExportingProgress"}))},bn=gn,xn=a("2b5d"),Tn=Object(m["a"])(bn,fn,_n,!1,null,null,null),yn=Tn.exports;v()(Tn,{VBtn:O["a"],VCard:N["a"],VCardSubtitle:$["b"],VCardText:$["c"],VCardTitle:$["d"],VChip:w["a"],VCol:R["a"],VCombobox:xn["a"],VContainer:we["a"],VDataTable:P["a"],VDivider:h["a"],VFileInput:sr["a"],VRow:B["a"],VTextField:qe["a"]});var Sn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._v(" Revolving Fund ")])},Dn=[],kn={},En=kn,An=Object(m["a"])(En,Sn,Dn,!1,null,null,null),In=An.exports,Cn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",[a("v-app-bar",{staticClass:"nav-color"},[a("v-img",{staticStyle:{margin:"5px"},attrs:{src:"/addessa_logo.png","max-width":"40","max-height":"40"}}),a("v-toolbar-title",{staticClass:"textfont2",staticStyle:{color:"#14a76c"},attrs:{"data-aos":"fade-down"}},[e._v("ADDESSA RAFFLE DRAW")]),a("v-spacer"),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-card",e._g({staticClass:"mx-auto",attrs:{"max-width":"450","data-aos":"fade-right"}},i),[a("v-list-item",{attrs:{"two-line":""}},[a("v-list-item-content",[a("v-list-item-title",{staticClass:"textfont2",staticStyle:{color:"#14a76c"}},[e._v(" Raffle Draw Start on")]),a("v-list-item-subtitle",[e._v(e._s(new Date(e.RaffleDate)))])],1)],1)],1)]}}])})],1),a("v-container",{staticClass:"card-color",staticStyle:{height:"720px"},attrs:{center:""}},[a("v-card",{staticStyle:{"margin-bottom":"20px"},attrs:{dark:""}},[a("v-card-title",{staticClass:"textfont2",staticStyle:{color:"#ffe400"},attrs:{"data-aos":"fade-right"}},[e._v(" Announcement ")]),a("v-card-subtitle",[a("v-alert",{attrs:{dismissible:"",color:"cyan",border:"left",elevation:"2","colored-border":"",icon:"mdi-message"},model:{value:e.alert,callback:function(t){e.alert=t},expression:"alert"}},[e._v(" Message to customer ")])],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-card",{staticStyle:{"min-height":"500px"}},[a("v-card-title",{staticClass:"text-h5"}),a("v-card-subtitle",[a("v-row",[a("v-col",{attrs:{cols:"12 "}},[0!=e.timer?a("p",{staticClass:"textfont1",staticStyle:{color:"#14a76c","font-size":"100px","text-align":"center","margin-top":"150px"}},[e._v(" "+e._s(e.timer)+" ")]):e._e(),0==e.timer&&1==e.go?a("v-card",{staticStyle:{"margin-bottom":"20px","min-height":"200px","text-align":"center"}},[a("v-avatar",{staticClass:"ma-3",attrs:{size:"125",tile:""}},[a("v-img",{attrs:{src:"/trophy.webp"}})],1),a("br"),a("br"),a("p",{staticClass:"textfont2",staticStyle:{"font-size":"50px"}},[e._v(" Congratulations ")]),a("br"),a("p",[e._v(" You are the winner of 1,000,000 pesos and House in lot 1 hectires with rice field bagong tanim, I hope you are prepared for the great and exciting changes that will come to your life soon. Enjoy and stay safe. ")]),a("v-btn",{staticStyle:{margin:"10px"},attrs:{color:"dark",small:"",dense:""},on:{click:function(t){e.results=!0}}},[e._v("Raffle Result")]),a("v-dialog",{attrs:{"max-width":"290"},model:{value:e.results,callback:function(t){e.results=t},expression:"results"}},[a("v-card",{staticStyle:{"text-align":"center"}},[a("v-card-title",{staticClass:"textfont2"},[e._v(" Raffle Draw Winners ")]),a("v-card-text",e._l(e.Winners.data[0],(function(t,i){return a("div",{key:i},[a("strong",[e._v(" "+e._s(t.customer)+" "),a("br"),e._v("Invoice: "),a("p",{staticStyle:{color:"#14a76c"}},[e._v(" "+e._s(t.invoice)+" ")])])])})),0),a("v-card-actions",[a("v-spacer")],1)],1)],1)],1):e._e()],1)],1)],1)],1)],1)],1)],1)],1)},On=[],Nn={data:function(){return{results:!1,RaffleDate:"07/18/2022 12:30",timer:"",percent:0,go:0,winners:[]}},computed:Object(c["a"])(Object(c["a"])({},Object(l["b"])({Winners:"raffledraw/getWinner"})),{},{countdownDate:function(){return new Date(this.RaffleDate).getTime()}}),methods:{},mounted:function(){var e=this;this.sockets.subscribe("check",(function(t){if(e.timer=t.status,console.log(t),0==t.status){var a=e.$vs.loading({percent:e.percent}),i=setInterval((function(){e.percent<=100&&a.changePercent("".concat(e.percent++,"%"))}),40);setTimeout((function(){a.close(),clearInterval(i),e.percent=0,e.go=1}),4800),e.$store.dispatch("raffledraw/GetWinner")}}))}},$n=Nn,wn=(a("6ccc"),a("0798")),Rn=a("8212"),Pn=Object(m["a"])($n,Cn,On,!1,null,null,null),Vn=Pn.exports;v()(Pn,{VAlert:wn["a"],VAppBar:C["a"],VAvatar:Rn["a"],VBtn:O["a"],VCard:N["a"],VCardActions:$["a"],VCardSubtitle:$["b"],VCardText:$["c"],VCardTitle:$["d"],VCol:R["a"],VContainer:we["a"],VDialog:V["a"],VImg:q["a"],VListItem:b["a"],VListItemContent:T["b"],VListItemSubtitle:T["c"],VListItemTitle:T["d"],VRow:B["a"],VSpacer:F["a"],VToolbarTitle:J["b"],VTooltip:Q["a"]});var qn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[[a("v-card",{attrs:{color:"dark lighten-2",dark:""}},[a("v-card-title",{staticClass:"text-h5 dark lighten-3"},[e._v(" Validate GiftCode ")]),a("v-card-text",[e._v(" EX: HBDSUKIABCD1234 ")]),a("v-card-text",[a("v-autocomplete",{attrs:{items:e.entries,loading:e.isLoading,"search-input":e.search,color:"white","hide-no-data":"","hide-selected":"","item-text":"code","item-value":"code",label:"Validate Your Customer Gift Code",placeholder:"Start typing to Search","prepend-icon":"mdi-database-search","return-object":""},on:{"update:searchInput":function(t){e.search=t},"update:search-input":function(t){e.search=t}},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})],1),a("v-divider"),a("v-expand-transition",[e.model?a("v-list",{staticClass:"dark lighten-3"},e._l(e.fields,(function(t,i){return a("v-list-item",{key:i},[a("label",[a("strong",[e._v("NAME:")]),e._v(" "),a("strong",{staticStyle:{"text-decoration":"underline"}},[e._v(e._s(t.name))]),a("br"),a("strong",[e._v("GIFT CODE:")]),e._v(" "),a("strong",{staticStyle:{"text-decoration":"underline",color:"green"}},[e._v(e._s(t.code))]),a("br"),a("strong",[e._v("DATE SENT:")]),e._v(" "),a("strong",[e._v(e._s(new Date(t.created_at)))]),a("br"),a("strong",[e._v("BIRTHDAY:")]),e._v(" "),a("strong",[e._v(e._s(new Date(t.birthday).toDateString()))]),a("br"),a("br"),a("strong",[e._v("MESSAGE:")]),a("br"),e._v(" "),a("small",[e._v(e._s(t.message))]),a("br"),a("strong",[e._v("STATUS:")]),a("br"),e._v(" "),a("div",{style:"VALID"==t.status?"color: green; font-weight: bold;":"color: red; font-weight: bold;"},[e._v(e._s(t.status))])])])})),1):e._e()],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{disabled:!e.model,color:"grey darken-3"},on:{click:function(t){e.model=null}}},[e._v(" Clear "),a("v-icon",{attrs:{right:""}},[e._v(" mdi-close-circle ")])],1)],1)],1)]],2)],1)},Ln=[],Un=(a("ddb0"),{data:function(){return{descriptionLimit:60,entries:[],isLoading:!1,model:null,search:null}},computed:{fields:function(){return[this.model]}},watch:{search:function(e){var t=this;this.isLoading||(this.isLoading=!0,fetch("http://192.168.1.19:7771/api/sms/giftcode/fetch?search="+e).then((function(e){return e.json()})).then((function(e){var a=e.count,i=e.entries;t.count=a,t.entries=i})).catch((function(e){console.log(e)})).finally((function(){return t.isLoading=!1})))}},mounted:function(){}}),jn=Un,Bn=a("0789"),Mn=Object(m["a"])(jn,qn,Ln,!1,null,null,null),Gn=Mn.exports;v()(Mn,{VAutocomplete:xt["a"],VBtn:O["a"],VCard:N["a"],VCardActions:$["a"],VCardText:$["c"],VCardTitle:$["d"],VContainer:we["a"],VDivider:h["a"],VExpandTransition:Bn["a"],VIcon:f["a"],VList:_["a"],VListItem:b["a"],VSpacer:F["a"]});var Fn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.paymentcbr_data,search:e.search,loading:e.loadingStatus},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("QPLD Incoming Payments CRB")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.openDialog}},i),[a("v-icon",[e._v("mdi-plus-circle")])],1)]}}])},[a("span",[e._v("Generate")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:function(t){return e.printpre()}}},i),[a("v-icon",[e._v("print")])],1)]}}])},[a("span",[e._v("Print")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("json-excel",{attrs:{data:e.paymentcbr_data}},[a("v-btn",e._g({attrs:{text:"",icon:""}},i),[a("v-icon",[e._v("mdi-file-export")])],1)],1)]}}])},[a("span",[e._v("Export")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.refreshData}},i),[a("v-icon",[e._v("mdi-refresh")])],1)]}}])},[a("span",[e._v("Refresh")])]),a("h6",[e._v(" DATE: "),a("i",{staticStyle:{"font-size":"13px"}},[e._v(" "+e._s(e.dates_regular)+" ")]),a("br"),e._v("BRANCH: "),a("i",{staticStyle:{"font-size":"13px"}},[e._v(e._s(e.branch["Name"])+" ")])]),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)]},proxy:!0},{key:"item.Date",fn:function(t){var a=t.item;return[e._v(" "+e._s(e.moment(a.Date).format("MM.DD.YY"))+" ")]}},{key:"item.Amount",fn:function(e){var t=e.item;return[a("money-format",{attrs:{value:parseFloat(t.Amount),locale:"en","currency-code":"PHP"}})]}},{key:"item.Interest",fn:function(e){var t=e.item;return[a("money-format",{attrs:{value:parseFloat(t.Interest),locale:"en","currency-code":"PHP"}})]}},{key:"item.otherBranch_Acct",fn:function(e){var t=e.item;return[a("money-format",{attrs:{value:parseFloat(t.otherBranch_Acct),locale:"en","currency-code":"PHP"}})]}},{key:"item.PaymtAcct",fn:function(e){var t=e.item;return[a("money-format",{attrs:{value:parseFloat(t.PaymtAcct),locale:"en","currency-code":"PHP"}})]}}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}}),a("v-dialog",{attrs:{width:"800"},model:{value:e.create,callback:function(t){e.create=t},expression:"create"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5 dark lighten-2"},[e._v(" Select Branch and Date ")]),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-date-picker",{staticClass:"ma-4",attrs:{"year-icon":"mdi-calendar-blank","prev-icon":"mdi-skip-previous","next-icon":"mdi-skip-next"},model:{value:e.dates_regular,callback:function(t){e.dates_regular=t},expression:"dates_regular"}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-autocomplete",{staticClass:"mt-10 mr-5",attrs:{loading:e.loadingStatus,items:e.branches,"item-value":"Name","item-text":"Name","return-object":"",dense:"",label:"Select Branch",chips:"","hide-details":"","hide-selected":"",solo:""},model:{value:e.branch,callback:function(t){e.branch=t},expression:"branch"}})],1)],1),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:e.generate}},[e._v(" Generate ")])],1)],1)],1)],1),a("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:e.printDialog,callback:function(t){e.printDialog=t},expression:"printDialog"}},[a("v-card",[a("v-toolbar",{staticStyle:{"background-color":"#f2e7d0"},attrs:{dark:""}},[a("v-btn",{attrs:{icon:"",dark:""},on:{click:function(t){e.printDialog=!1}}},[a("v-icon",{staticStyle:{color:"black"}},[e._v("mdi-close")])],1),a("v-toolbar-title",{staticStyle:{color:"black"}},[e._v("Incoming Payment QPLD Print Preview")]),a("v-spacer")],1),a("v-divider"),1==e.iden?a("iframe",{ref:"myiframe",staticStyle:{width:"100%",height:"1000px"},attrs:{src:e.printLink,title:"Incoming Payment PrintPreview"}}):e._e(),0==e.iden?a("v-skeleton-loader",{attrs:{"max-height":"100%","max-width":"100%",type:"card"}}):e._e()],1)],1)],1)},Yn=[],zn=(a("3ca3"),a("2b3d"),a("c1df")),Hn=a.n(zn),Kn={components:{JsonExcel:_t["a"],"money-format":Ur["a"]},data:function(){return{iden:0,printLink:"",printDialog:!1,branch:"Agoo",dates_regular:"2022-08-30",create:!1,reveal:!1,search:"",selected:[],loader:null,loading:!1,submitDisable:!0,headers:[{text:"DocNum",align:"left",value:"DocNum"},{text:"Date",align:"left",value:"Date"},{text:"Name",align:"left",value:"Name"},{text:"Particulars",align:"left",value:"Particulars"},{text:"OR#",align:"left",value:"OR#"},{text:"Amount",align:"left",value:"Amount"},{text:"PaymtAcc",align:"left",value:"PaymtAcct"},{text:"Interest/DP",align:"left",value:"Interest"},{text:"Other Incoming Payments",align:"left",value:"otherBranch_Acct"},{text:"Supplier",align:"left",value:"Supplier"},{text:"Rebate",align:"left",value:"Rebate"}]}},computed:Object(c["a"])(Object(c["a"])({},Object(l["b"])({paymentcbr_data:"paymentCRB/getPaymentCRB",permissions:"userPermissions/getPermission",branches:"blacklisted/getBranchSegment",currentUser:"currentUser"})),{},{userCanCreate_role:function(){return this.permissions.includes("Create BlackListed CCS Portal")},dialog:function(){return this.$store.state.dialog},loadingStatus:function(){return this.$store.state.loading}}),watch:{providers:function(){this.$v.$reset()}},created:function(){this.$store.dispatch("paymentCRB/GeneratePaymentCRB"),this.$store.dispatch("blacklisted/fetchBranchSegment"),this.$store.dispatch("userPermissions/fetchPermission")},methods:{printpre:function(){function e(e,a,i){return t.apply(this,arguments)}function t(){return t=Object($r["a"])(regeneratorRuntime.mark((function e(t,a,i){var r,n,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://192.168.1.19:7771/api/reports/printview?branch="+a+"&date="+i,{method:"GET",headers:{Authorization:"Bearer ".concat(t)}});case 2:return r=e.sent,e.next=5,r.blob();case 5:n=e.sent,o=URL.createObjectURL(n),document.querySelector("iframe").setAttribute("src",o);case 8:case"end":return e.stop()}}),e)}))),t.apply(this,arguments)}this.printLink="",this.printDialog=!0,this.iden=0,e(this.currentUser.token,this.branch["Name"],this.dates_regular),this.iden=1},generate:function(){var e={date:this.dates_regular,branch:this.branch["Name"]};this.$store.dispatch("paymentCRB/GeneratePaymentCRB",e)},refreshData:function(){var e={date:this.dates_regular,branch:this.branch["Name"]};this.$store.dispatch("paymentCRB/GeneratePaymentCRB",e)},openDialog:function(){this.create=!0},upload:function(){this.$store.dispatch("blacklisted/UploadBlacklisted",this.blacklistedData),this.refreshData()}}},Wn=Kn,Jn=(a("98b8"),Object(m["a"])(Wn,Fn,Yn,!1,null,null,null)),Qn=Jn.exports;v()(Jn,{VAutocomplete:xt["a"],VBtn:O["a"],VCard:N["a"],VCardActions:$["a"],VCardTitle:$["d"],VCol:R["a"],VContainer:we["a"],VDataTable:P["a"],VDatePicker:Pi["a"],VDialog:V["a"],VDivider:h["a"],VIcon:f["a"],VRow:B["a"],VSkeletonLoader:et["a"],VSpacer:F["a"],VTextField:qe["a"],VToolbar:W["a"],VToolbarTitle:J["b"],VTooltip:Q["a"]});var Xn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.query,search:e.search,loading:e.loadingStatus},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Invoice Query Series Revised")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.openDialog}},i),[a("v-icon",[e._v("mdi-plus-circle")])],1)]}}])},[a("span",[e._v("Generate")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:function(t){return e.printpre()}}},i),[a("v-icon",[e._v("print")])],1)]}}])},[a("span",[e._v("Print")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("json-excel",{attrs:{data:e.paymentcbr_data}},[a("v-btn",e._g({attrs:{text:"",icon:""}},i),[a("v-icon",[e._v("mdi-file-export")])],1)],1)]}}])},[a("span",[e._v("Export")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.refreshData}},i),[a("v-icon",[e._v("mdi-refresh")])],1)]}}])},[a("span",[e._v("Refresh")])]),a("h6",[e._v(" DATE: "),a("i",{staticStyle:{"font-size":"13px"}},[e._v(" "+e._s(e.dates_regular)+" ")]),a("br"),e._v("SERIESNAME: "),a("i",{staticStyle:{"font-size":"13px"}},[e._v(e._s(e.branch.SeriesName)+" ")])]),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)]},proxy:!0},{key:"item.Date",fn:function(t){var a=t.item;return[e._v(" "+e._s(e.moment(a.Date).format("MM.DD.YY"))+" ")]}},{key:"item.Amount",fn:function(e){var t=e.item;return[a("money-format",{attrs:{value:parseFloat(t.Amount),locale:"en","currency-code":"PHP"}})]}},{key:"item.Interest",fn:function(e){var t=e.item;return[a("money-format",{attrs:{value:parseFloat(t.Interest),locale:"en","currency-code":"PHP"}})]}},{key:"item.otherBranch_Acct",fn:function(e){var t=e.item;return[a("money-format",{attrs:{value:parseFloat(t.otherBranch_Acct),locale:"en","currency-code":"PHP"}})]}},{key:"item.PaymtAcct",fn:function(e){var t=e.item;return[a("money-format",{attrs:{value:parseFloat(t.PaymtAcct),locale:"en","currency-code":"PHP"}})]}}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}}),a("v-dialog",{attrs:{width:"800"},model:{value:e.create,callback:function(t){e.create=t},expression:"create"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5 dark lighten-2"},[e._v(" Select Branch and Date ")]),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-date-picker",{staticClass:"ma-4",attrs:{"year-icon":"mdi-calendar-blank","prev-icon":"mdi-skip-previous","next-icon":"mdi-skip-next",range:""},model:{value:e.dates_regular,callback:function(t){e.dates_regular=t},expression:"dates_regular"}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-autocomplete",{staticClass:"mt-10 mr-5",attrs:{loading:e.loadingStatus,items:e.branches,"item-value":"Name","item-text":"SeriesName","return-object":"",dense:"",label:"Select Branch",chips:"","hide-details":"","hide-selected":"",solo:""},model:{value:e.branch,callback:function(t){e.branch=t},expression:"branch"}})],1)],1),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:e.generate}},[e._v(" Generate ")])],1)],1)],1)],1),a("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:e.printDialog,callback:function(t){e.printDialog=t},expression:"printDialog"}},[a("v-card",[a("v-toolbar",{staticStyle:{"background-color":"#f2e7d0"},attrs:{dark:""}},[a("v-btn",{attrs:{icon:"",dark:""},on:{click:function(t){e.printDialog=!1}}},[a("v-icon",{staticStyle:{color:"black"}},[e._v("mdi-close")])],1),a("v-toolbar-title",{staticStyle:{color:"black"}},[e._v("Invoice Query Series Revised Print Preview")]),a("v-spacer")],1),a("v-divider"),1==e.iden?a("iframe",{ref:"myiframe",staticStyle:{width:"100%",height:"1000px"},attrs:{src:e.printLink,title:"Incoming Payment PrintPreview"}}):e._e(),0==e.iden?a("v-skeleton-loader",{attrs:{"max-height":"100%","max-width":"100%",type:"card"}}):e._e()],1)],1)],1)},Zn=[],eo={components:{JsonExcel:_t["a"],"money-format":Ur["a"]},data:function(){return{iden:0,printLink:"",printDialog:!1,branch:"Agoo",dates_regular:["2022-06-02","2022-06-30"],create:!1,reveal:!1,search:"",selected:[],loader:null,loading:!1,submitDisable:!0,headers:[{text:"INVOICE#",align:"left",value:"INVOICE"},{text:"DOCUMENT DATE",align:"left",value:"DOCUMENTDATE"},{text:"DOCUMENT NUMBER",align:"left",value:"DOCUMENTNUMBER"},{text:"NAME OF CUSTOMER",align:"left",value:"NAMEOFCUSTOMER"},{text:"INVOICE AMOUNT",align:"left",value:"INVOICEAMOUNT"},{text:"STATUS",align:"left",value:"STATUS"},{text:"PAYMENT TERM",align:"left",value:"PaymentTerms"},{text:"CLOSED TYPE",align:"left",value:"CLOSEDTYPE"}]}},computed:Object(c["a"])(Object(c["a"])({},Object(l["b"])({query:"invoice_query_series_revised/QUERY",permissions:"userPermissions/getPermission",branches:"invoice_query_series_revised/getBranchSegment",currentUser:"currentUser"})),{},{dialog:function(){return this.$store.state.dialog},loadingStatus:function(){return this.$store.state.loading}}),created:function(){this.$store.dispatch("invoice_query_series_revised/fetchBranchSegment"),this.$store.dispatch("userPermissions/fetchPermission")},methods:{printpre:function(){function e(e,a,i,r){return t.apply(this,arguments)}function t(){return t=Object($r["a"])(regeneratorRuntime.mark((function e(t,a,i,r){var n,o,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://192.168.1.19:7771/api/public/reports/queries/invoicequeryseriesrevised?q=printing&datefrom="+a+"&dateto="+i+"&series="+r,{method:"GET",headers:{Authorization:"Bearer ".concat(t)}});case 2:return n=e.sent,e.next=5,n.blob();case 5:o=e.sent,s=URL.createObjectURL(o),document.querySelector("iframe").setAttribute("src",s);case 8:case"end":return e.stop()}}),e)}))),t.apply(this,arguments)}this.printLink="",this.printDialog=!0,this.iden=0,e(this.currentUser.token,this.dates_regular[0],this.dates_regular[1],this.branch.SeriesName),this.iden=1},generate:function(){var e={date:this.dates_regular,branch:this.branch};this.$store.dispatch("invoice_query_series_revised/generatequery",e)},refreshData:function(){var e={date:this.dates_regular,branch:this.branch};this.$store.dispatch("invoice_query_series_revised/generatequery",e)},openDialog:function(){this.create=!0},upload:function(){this.$store.dispatch("blacklisted/UploadBlacklisted",this.blacklistedData),this.refreshData()}}},to=eo,ao=(a("1ff8"),Object(m["a"])(to,Xn,Zn,!1,null,null,null)),io=ao.exports;v()(ao,{VAutocomplete:xt["a"],VBtn:O["a"],VCard:N["a"],VCardActions:$["a"],VCardTitle:$["d"],VCol:R["a"],VContainer:we["a"],VDataTable:P["a"],VDatePicker:Pi["a"],VDialog:V["a"],VDivider:h["a"],VIcon:f["a"],VRow:B["a"],VSkeletonLoader:et["a"],VSpacer:F["a"],VTextField:qe["a"],VToolbar:W["a"],VToolbarTitle:J["b"],VTooltip:Q["a"]});var ro=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.query,search:e.search,loading:e.loadingStatus},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Marketing AR Invoice Query")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.openDialog}},i),[a("v-icon",[e._v("mdi-plus-circle")])],1)]}}])},[a("span",[e._v("Generate")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:function(t){return e.printpre()}}},i),[a("v-icon",[e._v("print")])],1)]}}])},[a("span",[e._v("Print")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("json-excel",{attrs:{data:e.paymentcbr_data}},[a("v-btn",e._g({attrs:{text:"",icon:""}},i),[a("v-icon",[e._v("mdi-file-export")])],1)],1)]}}])},[a("span",[e._v("Export")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.refreshData}},i),[a("v-icon",[e._v("mdi-refresh")])],1)]}}])},[a("span",[e._v("Refresh")])]),a("h6",[e._v(" DATE: "),a("i",{staticStyle:{"font-size":"13px"}},[e._v(" "+e._s(e.dates_regular)+" ")]),a("br"),e._v("BRANCH: "),a("i",{staticStyle:{"font-size":"13px"}},[e._v(e._s(e.branch.SeriesName)+" ")])]),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)]},proxy:!0}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}}),a("v-dialog",{attrs:{width:"800"},model:{value:e.create,callback:function(t){e.create=t},expression:"create"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5 dark lighten-2"},[e._v(" Select Branch and Date ")]),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-date-picker",{staticClass:"ma-4",attrs:{"year-icon":"mdi-calendar-blank","prev-icon":"mdi-skip-previous","next-icon":"mdi-skip-next",range:""},model:{value:e.dates_regular,callback:function(t){e.dates_regular=t},expression:"dates_regular"}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-autocomplete",{staticClass:"mt-10 mr-5",attrs:{loading:e.loadingStatus,items:e.branches,"item-value":"Name","item-text":"SeriesName","return-object":"",dense:"",label:"Select Branch",chips:"","hide-details":"","hide-selected":"",solo:""},model:{value:e.branch,callback:function(t){e.branch=t},expression:"branch"}})],1)],1),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:e.generate}},[e._v(" Generate ")])],1)],1)],1)],1),a("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:e.printDialog,callback:function(t){e.printDialog=t},expression:"printDialog"}},[a("v-card",[a("v-toolbar",{staticStyle:{"background-color":"#f2e7d0"},attrs:{dark:""}},[a("v-btn",{attrs:{icon:"",dark:""},on:{click:function(t){e.printDialog=!1}}},[a("v-icon",{staticStyle:{color:"black"}},[e._v("mdi-close")])],1),a("v-toolbar-title",{staticStyle:{color:"black"}},[e._v("Incoming Payment QPLD Print Preview")]),a("v-spacer")],1),a("v-divider"),1==e.iden?a("iframe",{ref:"myiframe",staticStyle:{width:"100%",height:"1000px"},attrs:{src:e.printLink,title:"Incoming Payment PrintPreview"}}):e._e(),0==e.iden?a("v-skeleton-loader",{attrs:{"max-height":"100%","max-width":"100%",type:"card"}}):e._e()],1)],1)],1)},no=[],oo={components:{JsonExcel:_t["a"]},data:function(){return{iden:0,printLink:"",printDialog:!1,branch:"Agoo",dates_regular:["2022-07-01","2022-07-30"],create:!1,reveal:!1,search:"",selected:[],loader:null,loading:!1,submitDisable:!0,headers:[{text:"NAME",align:"left",value:"NAME"},{text:"ADDRESS",align:"left",value:"ADDRESS"},{text:"BRAND",align:"left",value:"BRAND"},{text:"PRODUCTCATEGORY",align:"left",value:"PRODUCTCATEGORY"},{text:"MODEL",align:"left",value:"MODEL"},{text:"CONTACTNO",align:"left",value:"CONTACTNO"}]}},computed:Object(c["a"])(Object(c["a"])({},Object(l["b"])({query:"marketing_ar_invoice/QUERY",permissions:"userPermissions/getPermission",branches:"marketing_ar_invoice/getBranchSegment",currentUser:"currentUser"})),{},{dialog:function(){return this.$store.state.dialog},loadingStatus:function(){return this.$store.state.loading}}),watch:{providers:function(){this.$v.$reset()}},created:function(){this.$store.dispatch("marketing_ar_invoice/fetchBranchSegment"),this.$store.dispatch("userPermissions/fetchPermission")},methods:{printpre:function(){function e(e,a,i,r){return t.apply(this,arguments)}function t(){return t=Object($r["a"])(regeneratorRuntime.mark((function e(t,a,i,r){var n,o,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://192.168.1.19:7771/api/public/reports/queries/marketingarinvoicequery?q=printing&datefrom="+a+"&dateto="+i+"&series="+r,{method:"GET",headers:{Authorization:"Bearer ".concat(t)}});case 2:return n=e.sent,e.next=5,n.blob();case 5:o=e.sent,s=URL.createObjectURL(o),document.querySelector("iframe").setAttribute("src",s);case 8:case"end":return e.stop()}}),e)}))),t.apply(this,arguments)}this.printLink="",this.printDialog=!0,this.iden=0,e(this.currentUser.token,this.dates_regular[0],this.dates_regular[1],this.branch.SeriesName),this.iden=1},generate:function(){var e={date:this.dates_regular,branch:this.branch};this.$store.dispatch("marketing_ar_invoice/generatequery",e)},refreshData:function(){var e={date:this.dates_regular,branch:this.branch};this.$store.dispatch("marketing_ar_invoice/generatequery",e)},openDialog:function(){this.create=!0},upload:function(){this.$store.dispatch("blacklisted/UploadBlacklisted",this.blacklistedData),this.refreshData()}}},so=oo,co=(a("e7cb"),Object(m["a"])(so,ro,no,!1,null,null,null)),lo=co.exports;v()(co,{VAutocomplete:xt["a"],VBtn:O["a"],VCard:N["a"],VCardActions:$["a"],VCardTitle:$["d"],VCol:R["a"],VContainer:we["a"],VDataTable:P["a"],VDatePicker:Pi["a"],VDialog:V["a"],VDivider:h["a"],VIcon:f["a"],VRow:B["a"],VSkeletonLoader:et["a"],VSpacer:F["a"],VTextField:qe["a"],VToolbar:W["a"],VToolbarTitle:J["b"],VTooltip:Q["a"]});var uo=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.query,search:e.search,loading:e.loadingStatus},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Summary of Customer Deposit Applied")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.openDialog}},i),[a("v-icon",[e._v("mdi-plus-circle")])],1)]}}])},[a("span",[e._v("Generate")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:function(t){return e.printpre()}}},i),[a("v-icon",[e._v("print")])],1)]}}])},[a("span",[e._v("Print")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("json-excel",{attrs:{data:e.paymentcbr_data}},[a("v-btn",e._g({attrs:{text:"",icon:""}},i),[a("v-icon",[e._v("mdi-file-export")])],1)],1)]}}])},[a("span",[e._v("Export")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.refreshData}},i),[a("v-icon",[e._v("mdi-refresh")])],1)]}}])},[a("span",[e._v("Refresh")])]),a("h6",[e._v(" DATE: "),a("i",{staticStyle:{"font-size":"13px"}},[e._v(" "+e._s(e.dates_regular)+" ")]),a("br"),e._v("BRANCH: "),a("i",{staticStyle:{"font-size":"13px"}},[e._v(e._s(e.branch.U_Branch1)+" ")])]),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)]},proxy:!0}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}}),a("v-dialog",{attrs:{width:"800"},model:{value:e.create,callback:function(t){e.create=t},expression:"create"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5 dark lighten-2"},[e._v(" Select Branch and Date ")]),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-date-picker",{staticClass:"ma-4",attrs:{"year-icon":"mdi-calendar-blank","prev-icon":"mdi-skip-previous","next-icon":"mdi-skip-next",range:""},model:{value:e.dates_regular,callback:function(t){e.dates_regular=t},expression:"dates_regular"}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-autocomplete",{staticClass:"mt-10 mr-5",attrs:{loading:e.loadingStatus,items:e.branches,"item-value":"Name","item-text":"U_Branch1","return-object":"",dense:"",label:"Select Branch",chips:"","hide-details":"","hide-selected":"",solo:""},model:{value:e.branch,callback:function(t){e.branch=t},expression:"branch"}})],1)],1),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:e.generate}},[e._v(" Generate ")])],1)],1)],1)],1),a("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:e.printDialog,callback:function(t){e.printDialog=t},expression:"printDialog"}},[a("v-card",[a("v-toolbar",{staticStyle:{"background-color":"#f2e7d0"},attrs:{dark:""}},[a("v-btn",{attrs:{icon:"",dark:""},on:{click:function(t){e.printDialog=!1}}},[a("v-icon",{staticStyle:{color:"black"}},[e._v("mdi-close")])],1),a("v-toolbar-title",{staticStyle:{color:"black"}},[e._v("Summary of Customer Deposit Applied Print Preview")]),a("v-spacer")],1),a("v-divider"),1==e.iden?a("iframe",{ref:"myiframe",staticStyle:{width:"100%",height:"1000px"},attrs:{src:e.printLink,title:"Incoming Payment PrintPreview"}}):e._e(),0==e.iden?a("v-skeleton-loader",{attrs:{"max-height":"100%","max-width":"100%",type:"card"}}):e._e()],1)],1)],1)},mo=[],po={components:{JsonExcel:_t["a"]},data:function(){return{iden:0,printLink:"",printDialog:!1,branch:"Agoo",dates_regular:["2022-06-01","2022-06-30"],create:!1,reveal:!1,search:"",selected:[],loader:null,loading:!1,submitDisable:!0,headers:[{text:"CUSTOMERNAME",align:"left",value:"CUSTOMERNAME"},{text:"DATE",align:"left",value:"DATE"},{text:"JE NUMBER",align:"left",value:"JENUMBER"},{text:"TRANSCODE",align:"left",value:"TRANSCODE"},{text:"REF2",align:"left",value:"REF2"},{text:"AMOUNT",align:"left",value:"AMOUNT"}]}},computed:Object(c["a"])(Object(c["a"])({},Object(l["b"])({query:"summary_of_customer_depostiapplied/QUERY",permissions:"userPermissions/getPermission",branches:"summary_of_customer_depostiapplied/getBranchSegment",currentUser:"currentUser"})),{},{dialog:function(){return this.$store.state.dialog},loadingStatus:function(){return this.$store.state.loading}}),watch:{providers:function(){this.$v.$reset()}},created:function(){this.$store.dispatch("summary_of_customer_depostiapplied/fetchBranchSegment"),this.$store.dispatch("userPermissions/fetchPermission")},methods:{printpre:function(){function e(e,a,i,r){return t.apply(this,arguments)}function t(){return t=Object($r["a"])(regeneratorRuntime.mark((function e(t,a,i,r){var n,o,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://192.168.1.19:7771/api/public/reports/queries/summaryofcustomerdepositapplied?q=printing&datefrom="+a+"&dateto="+i+"&series="+r,{method:"GET",headers:{Authorization:"Bearer ".concat(t)}});case 2:return n=e.sent,e.next=5,n.blob();case 5:o=e.sent,s=URL.createObjectURL(o),document.querySelector("iframe").setAttribute("src",s);case 8:case"end":return e.stop()}}),e)}))),t.apply(this,arguments)}this.printLink="",this.printDialog=!0,this.iden=0,e(this.currentUser.token,this.dates_regular[0],this.dates_regular[1],this.branch.U_Branch1),this.iden=1},generate:function(){var e={date:this.dates_regular,branch:this.branch};this.$store.dispatch("summary_of_customer_depostiapplied/generatequery",e)},refreshData:function(){var e={date:this.dates_regular,branch:this.branch};this.$store.dispatch("summary_of_customer_depostiapplied/generatequery",e)},openDialog:function(){this.create=!0},upload:function(){this.$store.dispatch("blacklisted/UploadBlacklisted",this.blacklistedData),this.refreshData()}}},vo=po,ho=(a("da2e"),Object(m["a"])(vo,uo,mo,!1,null,null,null)),fo=ho.exports;v()(ho,{VAutocomplete:xt["a"],VBtn:O["a"],VCard:N["a"],VCardActions:$["a"],VCardTitle:$["d"],VCol:R["a"],VContainer:we["a"],VDataTable:P["a"],VDatePicker:Pi["a"],VDialog:V["a"],VDivider:h["a"],VIcon:f["a"],VRow:B["a"],VSkeletonLoader:et["a"],VSpacer:F["a"],VTextField:qe["a"],VToolbar:W["a"],VToolbarTitle:J["b"],VTooltip:Q["a"]});var _o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.query,search:e.search,loading:e.loadingStatus},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Adjustment Sales Discount")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.openDialog}},i),[a("v-icon",[e._v("mdi-plus-circle")])],1)]}}])},[a("span",[e._v("Generate")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:function(t){return e.printpre()}}},i),[a("v-icon",[e._v("print")])],1)]}}])},[a("span",[e._v("Print")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("json-excel",{attrs:{data:e.paymentcbr_data}},[a("v-btn",e._g({attrs:{text:"",icon:""}},i),[a("v-icon",[e._v("mdi-file-export")])],1)],1)]}}])},[a("span",[e._v("Export")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.refreshData}},i),[a("v-icon",[e._v("mdi-refresh")])],1)]}}])},[a("span",[e._v("Refresh")])]),a("h6",[e._v(" DATE: "),a("i",{staticStyle:{"font-size":"13px"}},[e._v(" "+e._s(e.dates_regular)+" ")]),a("br"),e._v("BRANCH: "),a("i",{staticStyle:{"font-size":"13px"}},[e._v(e._s(e.branch.U_Branch1)+" ")])]),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)]},proxy:!0}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}}),a("v-dialog",{attrs:{width:"800"},model:{value:e.create,callback:function(t){e.create=t},expression:"create"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5 dark lighten-2"},[e._v(" Select Branch and Date ")]),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-date-picker",{staticClass:"ma-4",attrs:{"year-icon":"mdi-calendar-blank","prev-icon":"mdi-skip-previous","next-icon":"mdi-skip-next",range:""},model:{value:e.dates_regular,callback:function(t){e.dates_regular=t},expression:"dates_regular"}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-autocomplete",{staticClass:"mt-10 mr-5",attrs:{loading:e.loadingStatus,items:e.branches,"item-value":"Name","item-text":"U_Branch1","return-object":"",dense:"",label:"Select Branch",chips:"","hide-details":"","hide-selected":"",solo:""},model:{value:e.branch,callback:function(t){e.branch=t},expression:"branch"}})],1)],1),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:e.generate}},[e._v(" Generate ")])],1)],1)],1)],1),a("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:e.printDialog,callback:function(t){e.printDialog=t},expression:"printDialog"}},[a("v-card",[a("v-toolbar",{staticStyle:{"background-color":"#f2e7d0"},attrs:{dark:""}},[a("v-btn",{attrs:{icon:"",dark:""},on:{click:function(t){e.printDialog=!1}}},[a("v-icon",{staticStyle:{color:"black"}},[e._v("mdi-close")])],1),a("v-toolbar-title",{staticStyle:{color:"black"}},[e._v("Adjustment Sales Discount Print Preview")]),a("v-spacer")],1),a("v-divider"),1==e.iden?a("iframe",{ref:"myiframe",staticStyle:{width:"100%",height:"1000px"},attrs:{src:e.printLink,title:"Incoming Payment PrintPreview"}}):e._e(),0==e.iden?a("v-skeleton-loader",{attrs:{"max-height":"100%","max-width":"100%",type:"card"}}):e._e()],1)],1)],1)},go=[],bo={components:{JsonExcel:_t["a"]},data:function(){return{iden:0,printLink:"",printDialog:!1,branch:"Agoo",dates_regular:["2022-06-01","2022-06-30"],create:!1,reveal:!1,search:"",selected:[],loader:null,loading:!1,submitDisable:!0,headers:[{text:"CUSTOMERNAME",align:"left",value:"CUSTOMERNAME"},{text:"DATE",align:"left",value:"DATE"},{text:"JE NUMBER",align:"left",value:"JENUMBER"},{text:"TRANSCODE",align:"left",value:"TRANSCODE"},{text:"REF2",align:"left",value:"REF2"},{text:"AMOUNT",align:"left",value:"AMOUNT"}]}},computed:Object(c["a"])(Object(c["a"])({},Object(l["b"])({query:"adjustment_sales_discount/QUERY",permissions:"userPermissions/getPermission",branches:"adjustment_sales_discount/getBranchSegment",currentUser:"currentUser"})),{},{dialog:function(){return this.$store.state.dialog},loadingStatus:function(){return this.$store.state.loading}}),watch:{providers:function(){this.$v.$reset()}},created:function(){this.$store.dispatch("adjustment_sales_discount/fetchBranchSegment"),this.$store.dispatch("userPermissions/fetchPermission")},methods:{printpre:function(){function e(e,a,i,r){return t.apply(this,arguments)}function t(){return t=Object($r["a"])(regeneratorRuntime.mark((function e(t,a,i,r){var n,o,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://192.168.1.19:7771/api/public/reports/queries/adjustmentsalesdiscount?q=printing&datefrom="+a+"&dateto="+i+"&series="+r,{method:"GET",headers:{Authorization:"Bearer ".concat(t)}});case 2:return n=e.sent,e.next=5,n.blob();case 5:o=e.sent,s=URL.createObjectURL(o),document.querySelector("iframe").setAttribute("src",s);case 8:case"end":return e.stop()}}),e)}))),t.apply(this,arguments)}this.printLink="",this.printDialog=!0,this.iden=0,e(this.currentUser.token,this.dates_regular[0],this.dates_regular[1],this.branch.U_Branch1),this.iden=1},generate:function(){var e={date:this.dates_regular,branch:this.branch};this.$store.dispatch("adjustment_sales_discount/generatequery",e)},refreshData:function(){var e={date:this.dates_regular,branch:this.branch};this.$store.dispatch("adjustment_sales_discount/generatequery",e)},openDialog:function(){this.create=!0},upload:function(){this.$store.dispatch("blacklisted/UploadBlacklisted",this.blacklistedData),this.refreshData()}}},xo=bo,To=(a("0af4"),Object(m["a"])(xo,_o,go,!1,null,null,null)),yo=To.exports;v()(To,{VAutocomplete:xt["a"],VBtn:O["a"],VCard:N["a"],VCardActions:$["a"],VCardTitle:$["d"],VCol:R["a"],VContainer:we["a"],VDataTable:P["a"],VDatePicker:Pi["a"],VDialog:V["a"],VDivider:h["a"],VIcon:f["a"],VRow:B["a"],VSkeletonLoader:et["a"],VSpacer:F["a"],VTextField:qe["a"],VToolbar:W["a"],VToolbarTitle:J["b"],VTooltip:Q["a"]});var So=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.query,search:e.search,loading:e.loadingStatus},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Recomputed Account")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.openDialog}},i),[a("v-icon",[e._v("mdi-plus-circle")])],1)]}}])},[a("span",[e._v("Generate")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:function(t){return e.printpre()}}},i),[a("v-icon",[e._v("print")])],1)]}}])},[a("span",[e._v("Print")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("json-excel",{attrs:{data:e.paymentcbr_data}},[a("v-btn",e._g({attrs:{text:"",icon:""}},i),[a("v-icon",[e._v("mdi-file-export")])],1)],1)]}}])},[a("span",[e._v("Export")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.refreshData}},i),[a("v-icon",[e._v("mdi-refresh")])],1)]}}])},[a("span",[e._v("Refresh")])]),a("h6",[e._v(" DATE: "),a("i",{staticStyle:{"font-size":"13px"}},[e._v(" "+e._s(e.dates_regular)+" ")]),a("br"),e._v("BRANCH: "),a("i",{staticStyle:{"font-size":"13px"}},[e._v(e._s(e.branch.U_Branch1)+" ")])]),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)]},proxy:!0}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}}),a("v-dialog",{attrs:{width:"800"},model:{value:e.create,callback:function(t){e.create=t},expression:"create"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5 dark lighten-2"},[e._v(" Select Branch and Date ")]),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-date-picker",{staticClass:"ma-4",attrs:{"year-icon":"mdi-calendar-blank","prev-icon":"mdi-skip-previous","next-icon":"mdi-skip-next",range:""},model:{value:e.dates_regular,callback:function(t){e.dates_regular=t},expression:"dates_regular"}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-autocomplete",{staticClass:"mt-10 mr-5",attrs:{loading:e.loadingStatus,items:e.branches,"item-value":"Name","item-text":"U_Branch1","return-object":"",dense:"",label:"Select Branch",chips:"","hide-details":"","hide-selected":"",solo:""},model:{value:e.branch,callback:function(t){e.branch=t},expression:"branch"}})],1)],1),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:e.generate}},[e._v(" Generate ")])],1)],1)],1)],1),a("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:e.printDialog,callback:function(t){e.printDialog=t},expression:"printDialog"}},[a("v-card",[a("v-toolbar",{staticStyle:{"background-color":"#f2e7d0"},attrs:{dark:""}},[a("v-btn",{attrs:{icon:"",dark:""},on:{click:function(t){e.printDialog=!1}}},[a("v-icon",{staticStyle:{color:"black"}},[e._v("mdi-close")])],1),a("v-toolbar-title",{staticStyle:{color:"black"}},[e._v("Recomputed Account Print Preview")]),a("v-spacer")],1),a("v-divider"),1==e.iden?a("iframe",{ref:"myiframe",staticStyle:{width:"100%",height:"1000px"},attrs:{src:e.printLink,title:"Incoming Payment PrintPreview"}}):e._e(),0==e.iden?a("v-skeleton-loader",{attrs:{"max-height":"100%","max-width":"100%",type:"card"}}):e._e()],1)],1)],1)},Do=[],ko={components:{JsonExcel:_t["a"]},data:function(){return{iden:0,printLink:"",printDialog:!1,branch:"Agoo",dates_regular:["2022-06-01","2022-06-30"],create:!1,reveal:!1,search:"",selected:[],loader:null,loading:!1,submitDisable:!0,headers:[{text:"DOCNUM",align:"left",value:"DocNum"},{text:"CARDNAME",align:"left",value:"CardName"},{text:"INVOICE#",align:"left",value:"Invoice"},{text:"OR#",align:"left",value:"OR"},{text:"DATE OF OR",align:"left",value:"DateofOR"},{text:"COLLECTOR CODE",align:"left",value:"CollectorCode"},{text:"BRANCH",align:"left",value:"Branch"}]}},computed:Object(c["a"])(Object(c["a"])({},Object(l["b"])({query:"recomputed_account/QUERY",permissions:"userPermissions/getPermission",branches:"recomputed_account/getBranchSegment",currentUser:"currentUser"})),{},{dialog:function(){return this.$store.state.dialog},loadingStatus:function(){return this.$store.state.loading}}),watch:{providers:function(){this.$v.$reset()}},created:function(){this.$store.dispatch("recomputed_account/fetchBranchSegment"),this.$store.dispatch("userPermissions/fetchPermission")},methods:{printpre:function(){function e(e,a,i,r){return t.apply(this,arguments)}function t(){return t=Object($r["a"])(regeneratorRuntime.mark((function e(t,a,i,r){var n,o,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://192.168.1.19:7771/api/public/reports/queries/recomputedaccount?q=printing&datefrom="+a+"&dateto="+i+"&series="+r,{method:"GET",headers:{Authorization:"Bearer ".concat(t)}});case 2:return n=e.sent,e.next=5,n.blob();case 5:o=e.sent,s=URL.createObjectURL(o),document.querySelector("iframe").setAttribute("src",s);case 8:case"end":return e.stop()}}),e)}))),t.apply(this,arguments)}this.printLink="",this.printDialog=!0,this.iden=0,e(this.currentUser.token,this.dates_regular[0],this.dates_regular[1],this.branch.U_Branch1),this.iden=1},generate:function(){var e={date:this.dates_regular,branch:this.branch};this.$store.dispatch("recomputed_account/generatequery",e)},refreshData:function(){var e={date:this.dates_regular,branch:this.branch};this.$store.dispatch("recomputed_account/generatequery",e)},openDialog:function(){this.create=!0},upload:function(){this.$store.dispatch("blacklisted/UploadBlacklisted",this.blacklistedData),this.refreshData()}}},Eo=ko,Ao=(a("b7a3"),Object(m["a"])(Eo,So,Do,!1,null,null,null)),Io=Ao.exports;v()(Ao,{VAutocomplete:xt["a"],VBtn:O["a"],VCard:N["a"],VCardActions:$["a"],VCardTitle:$["d"],VCol:R["a"],VContainer:we["a"],VDataTable:P["a"],VDatePicker:Pi["a"],VDialog:V["a"],VDivider:h["a"],VIcon:f["a"],VRow:B["a"],VSkeletonLoader:et["a"],VSpacer:F["a"],VTextField:qe["a"],VToolbar:W["a"],VToolbarTitle:J["b"],VTooltip:Q["a"]});var Co=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.queries,search:e.search,loading:e.loadingStatus},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Searching of Vehicle Parts")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.openDialog}},i),[a("v-icon",[e._v("mdi-plus-circle")])],1)]}}])},[a("span",[e._v("Generate")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:function(t){return e.printpre()}}},i),[a("v-icon",[e._v("print")])],1)]}}])},[a("span",[e._v("Print")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("json-excel",{attrs:{data:e.queries}},[a("v-btn",e._g({attrs:{text:"",icon:""}},i),[a("v-icon",[e._v("mdi-file-export")])],1)],1)]}}])},[a("span",[e._v("Export")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.refreshData}},i),[a("v-icon",[e._v("mdi-refresh")])],1)]}}])},[a("span",[e._v("Refresh")])]),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)]},proxy:!0}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}}),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.create,callback:function(t){e.create=t},expression:"create"}},[a("v-card",[a("v-card-title",[e._v(" Select Vehicle Parts & Type ")]),a("v-card-text",[a("v-select",{attrs:{items:e.parts,label:"Parts","item-value":"name","item-text":"name"},model:{value:e.vpart,callback:function(t){e.vpart=t},expression:"vpart"}}),a("v-select",{attrs:{items:e.types,label:"Type","item-text":"U_vRMExpTyp","item-value":"U_vRMExpTyp"},model:{value:e.vtype,callback:function(t){e.vtype=t},expression:"vtype"}})],1),a("v-card-actions",{attrs:{right:""}},[a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){return e.generate()}}},[e._v(" Generate ")])],1)],1)],1)],1),a("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:e.printDialog,callback:function(t){e.printDialog=t},expression:"printDialog"}},[a("v-card",[a("v-toolbar",{staticStyle:{"background-color":"#f2e7d0"},attrs:{dark:""}},[a("v-btn",{attrs:{icon:"",dark:""},on:{click:function(t){e.printDialog=!1}}},[a("v-icon",{staticStyle:{color:"black"}},[e._v("mdi-close")])],1),a("v-toolbar-title",{staticStyle:{color:"black"}},[e._v("Searching of Vehicle Parts Print Preview")]),a("v-spacer")],1),a("v-divider"),1==e.iden?a("iframe",{ref:"myiframe",staticStyle:{width:"100%",height:"1000px"},attrs:{src:e.printLink,title:"Searching of Vehicle Parts PrintPreview"}}):e._e(),0==e.iden?a("v-skeleton-loader",{attrs:{"max-height":"100%","max-width":"100%",type:"card"}}):e._e()],1)],1)],1)},Oo=[],No={components:{JsonExcel:_t["a"]},data:function(){return{vpart:"",vtype:"",itemsdata:[],iden:0,printLink:"",printDialog:!1,create:!1,reveal:!1,search:"",selected:[],loader:null,loading:!1,submitDisable:!0,headers:[{text:"CATEGORY",align:"left",value:"CATEGORY"},{text:"VEHICLE PART",align:"left",value:"VEHICLE PART"},{text:"BODY TYPE",align:"left",value:"BODY TYPE"},{text:"EXPENSE TYPE",align:"left",value:"EXPENSE TYPE"},{text:"LIFE SPAN",align:"left",value:"LIFE SPAN"}]}},computed:Object(c["a"])(Object(c["a"])({},Object(l["b"])({parts:"searching_of_vehicles_parts/PARTS",types:"searching_of_vehicles_parts/TYPES",queries:"searching_of_vehicles_parts/QUERIES",permissions:"userPermissions/getPermission",currentUser:"currentUser"})),{},{dialog:function(){return this.$store.state.dialog},loadingStatus:function(){return this.$store.state.loading}}),created:function(){this.$store.dispatch("searching_of_vehicles_parts/fetchVEHICLEPARTS"),this.$store.dispatch("searching_of_vehicles_parts/fetchVEHICLETYPE"),this.$store.dispatch("userPermissions/fetchPermission")},methods:{printpre:function(){function e(e,a,i){return t.apply(this,arguments)}function t(){return t=Object($r["a"])(regeneratorRuntime.mark((function e(t,a,i){var r,n,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://192.168.1.19:7771/api/public/reports/queries/searchofvehicleparts?q=printing&part="+a+"&type="+i,{method:"GET",headers:{Authorization:"Bearer ".concat(t)}});case 2:return r=e.sent,e.next=5,r.blob();case 5:n=e.sent,o=URL.createObjectURL(n),document.querySelector("iframe").setAttribute("src",o);case 8:case"end":return e.stop()}}),e)}))),t.apply(this,arguments)}this.printLink="",this.printDialog=!0,this.iden=0,e(this.currentUser.token,this.vpart,this.vtype),this.iden=1},generate:function(){var e=this;return Object($r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.itemsdata={type:e.vtype,part:e.vpart},t.next=3,e.$store.dispatch("searching_of_vehicles_parts/GenerateVEHICLETQUERIES",e.itemsdata);case 3:e.create=!1;case 4:case"end":return t.stop()}}),t)})))()},refreshData:function(){this.$store.dispatch("searching_of_vehicles_parts/GenerateVEHICLETQUERIES",this.itemsdata)},openDialog:function(){this.create=!0}}},$o=No,wo=(a("2f8b"),Object(m["a"])($o,Co,Oo,!1,null,null,null)),Ro=wo.exports;v()(wo,{VBtn:O["a"],VCard:N["a"],VCardActions:$["a"],VCardText:$["c"],VCardTitle:$["d"],VContainer:we["a"],VDataTable:P["a"],VDialog:V["a"],VDivider:h["a"],VIcon:f["a"],VSelect:M["a"],VSkeletonLoader:et["a"],VSpacer:F["a"],VTextField:qe["a"],VToolbar:W["a"],VToolbarTitle:J["b"],VTooltip:Q["a"]});var Po=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.query,search:e.search,loading:e.loadingStatus},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("AR-Invoice Open Balance")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.openDialog}},i),[a("v-icon",[e._v("mdi-plus-circle")])],1)]}}])},[a("span",[e._v("Generate")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:function(t){return e.printpre()}}},i),[a("v-icon",[e._v("print")])],1)]}}])},[a("span",[e._v("Print")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("json-excel",{attrs:{data:e.paymentcbr_data}},[a("v-btn",e._g({attrs:{text:"",icon:""}},i),[a("v-icon",[e._v("mdi-file-export")])],1)],1)]}}])},[a("span",[e._v("Export")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.refreshData}},i),[a("v-icon",[e._v("mdi-refresh")])],1)]}}])},[a("span",[e._v("Refresh")])]),a("h6",[e._v(" BRANCH: "),a("i",{staticStyle:{"font-size":"13px"}},[e._v(e._s(e.branch.U_Branch1)+" ")])]),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)]},proxy:!0}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}}),a("v-dialog",{attrs:{width:"800"},model:{value:e.create,callback:function(t){e.create=t},expression:"create"}},[a("v-card",[a("v-card-title",{staticClass:"dark lighten-2"},[e._v(" Select Branch ")]),a("v-autocomplete",{staticStyle:{margin:"10px"},attrs:{loading:e.loadingStatus,items:e.branches,"item-value":"Name","item-text":"U_Branch1","return-object":"",dense:"",label:"Select Branch",chips:"","hide-details":"","hide-selected":"",solo:""},model:{value:e.branch,callback:function(t){e.branch=t},expression:"branch"}}),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:e.generate}},[e._v(" Generate ")])],1)],1)],1)],1),a("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:e.printDialog,callback:function(t){e.printDialog=t},expression:"printDialog"}},[a("v-card",[a("v-toolbar",{staticStyle:{"background-color":"#f2e7d0"},attrs:{dark:""}},[a("v-btn",{attrs:{icon:"",dark:""},on:{click:function(t){e.printDialog=!1}}},[a("v-icon",{staticStyle:{color:"black"}},[e._v("mdi-close")])],1),a("v-toolbar-title",{staticStyle:{color:"black"}},[e._v("AR-Invoice Open Balance Print Preview")]),a("v-spacer")],1),a("v-divider"),1==e.iden?a("iframe",{ref:"myiframe",staticStyle:{width:"100%",height:"1000px"},attrs:{src:e.printLink,title:"Incoming Payment PrintPreview"}}):e._e(),0==e.iden?a("v-skeleton-loader",{attrs:{"max-height":"100%","max-width":"100%",type:"card"}}):e._e()],1)],1)],1)},Vo=[],qo={components:{JsonExcel:_t["a"]},data:function(){return{iden:0,printLink:"",printDialog:!1,branch:"Agoo",create:!1,reveal:!1,search:"",selected:[],loader:null,loading:!1,submitDisable:!0,headers:[{text:"BRANCH",align:"left",value:"Branch"},{text:"DOCUMENT DATE",align:"left",value:"DocDate"},{text:"INVOICE #",align:"left",value:"Invoice"},{text:"DOCUMENT #",align:"left",value:"DocumentNo"},{text:"CUSTOMER NAME",align:"left",value:"CustomerName"},{text:"OPEN BALANCE AMOUNT",align:"left",value:"OpenBalanceAmt"}]}},computed:Object(c["a"])(Object(c["a"])({},Object(l["b"])({query:"ar_invoice_open_balance/QUERY",permissions:"userPermissions/getPermission",branches:"ar_invoice_open_balance/getBranchSegment",currentUser:"currentUser"})),{},{dialog:function(){return this.$store.state.dialog},loadingStatus:function(){return this.$store.state.loading}}),watch:{providers:function(){this.$v.$reset()}},created:function(){this.$store.dispatch("ar_invoice_open_balance/fetchBranchSegment"),this.$store.dispatch("userPermissions/fetchPermission")},methods:{printpre:function(){function e(e,a){return t.apply(this,arguments)}function t(){return t=Object($r["a"])(regeneratorRuntime.mark((function e(t,a){var i,r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://192.168.1.19:7771/api/public/reports/queries/arinvoiceopenbalance?q=printing&&series="+a,{method:"GET",headers:{Authorization:"Bearer ".concat(t)}});case 2:return i=e.sent,e.next=5,i.blob();case 5:r=e.sent,n=URL.createObjectURL(r),document.querySelector("iframe").setAttribute("src",n);case 8:case"end":return e.stop()}}),e)}))),t.apply(this,arguments)}this.printLink="",this.printDialog=!0,this.iden=0,e(this.currentUser.token,this.branch.U_Branch1),this.iden=1},generate:function(){var e={branch:this.branch};this.$store.dispatch("ar_invoice_open_balance/generatequery",e)},refreshData:function(){var e={branch:this.branch};this.$store.dispatch("ar_invoice_open_balance/generatequery",e)},openDialog:function(){this.create=!0},upload:function(){this.$store.dispatch("blacklisted/UploadBlacklisted",this.blacklistedData),this.refreshData()}}},Lo=qo,Uo=(a("25fd"),Object(m["a"])(Lo,Po,Vo,!1,null,null,null)),jo=Uo.exports;v()(Uo,{VAutocomplete:xt["a"],VBtn:O["a"],VCard:N["a"],VCardActions:$["a"],VCardTitle:$["d"],VContainer:we["a"],VDataTable:P["a"],VDialog:V["a"],VDivider:h["a"],VIcon:f["a"],VSkeletonLoader:et["a"],VSpacer:F["a"],VTextField:qe["a"],VToolbar:W["a"],VToolbarTitle:J["b"],VTooltip:Q["a"]});var Bo=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.query,search:e.search,loading:e.loadingStatus},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Incoming Payment Customer Deposit")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.openDialog}},i),[a("v-icon",[e._v("mdi-plus-circle")])],1)]}}])},[a("span",[e._v("Generate")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:function(t){return e.printpre()}}},i),[a("v-icon",[e._v("print")])],1)]}}])},[a("span",[e._v("Print")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("json-excel",{attrs:{data:e.paymentcbr_data}},[a("v-btn",e._g({attrs:{text:"",icon:""}},i),[a("v-icon",[e._v("mdi-file-export")])],1)],1)]}}])},[a("span",[e._v("Export")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.refreshData}},i),[a("v-icon",[e._v("mdi-refresh")])],1)]}}])},[a("span",[e._v("Refresh")])]),a("h6",[e._v(" BRANCH: "),a("i",{staticStyle:{"font-size":"13px"}},[e._v(e._s(e.branch.U_Branch1)+" ")])]),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)]},proxy:!0}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}}),a("v-dialog",{attrs:{width:"800"},model:{value:e.create,callback:function(t){e.create=t},expression:"create"}},[a("v-card",[a("v-card-title",{staticClass:"dark lighten-2"},[e._v(" Select Branch ")]),a("v-autocomplete",{staticStyle:{margin:"10px"},attrs:{loading:e.loadingStatus,items:e.branches,"item-value":"Name","item-text":"U_Branch1","return-object":"",dense:"",label:"Select Branch",chips:"","hide-details":"","hide-selected":"",solo:""},model:{value:e.branch,callback:function(t){e.branch=t},expression:"branch"}}),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:e.generate}},[e._v(" Generate ")])],1)],1)],1)],1),a("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:e.printDialog,callback:function(t){e.printDialog=t},expression:"printDialog"}},[a("v-card",[a("v-toolbar",{staticStyle:{"background-color":"#f2e7d0"},attrs:{dark:""}},[a("v-btn",{attrs:{icon:"",dark:""},on:{click:function(t){e.printDialog=!1}}},[a("v-icon",{staticStyle:{color:"black"}},[e._v("mdi-close")])],1),a("v-toolbar-title",{staticStyle:{color:"black"}},[e._v("Incoming Payment Customer Deposit Print Preview")]),a("v-spacer")],1),a("v-divider"),1==e.iden?a("iframe",{ref:"myiframe",staticStyle:{width:"100%",height:"1000px"},attrs:{src:e.printLink,title:"Incoming Payment PrintPreview"}}):e._e(),0==e.iden?a("v-skeleton-loader",{attrs:{"max-height":"100%","max-width":"100%",type:"card"}}):e._e()],1)],1)],1)},Mo=[],Go={components:{JsonExcel:_t["a"]},data:function(){return{iden:0,printLink:"",printDialog:!1,branch:"Agoo",create:!1,reveal:!1,search:"",selected:[],loader:null,loading:!1,submitDisable:!0,headers:[{text:"BRANCH",align:"left",value:"Branch"},{text:"DOCUMENT DATE",align:"left",value:"DocDate"},{text:"INVOICE #",align:"left",value:"Invoice"},{text:"DOCUMENT #",align:"left",value:"DocumentNo"},{text:"CUSTOMER NAME",align:"left",value:"CustomerName"},{text:"OPEN BALANCE AMOUNT",align:"left",value:"OpenBalanceAmt"}]}},computed:Object(c["a"])(Object(c["a"])({},Object(l["b"])({query:"incoming_payment_customer_deposit/QUERY",permissions:"userPermissions/getPermission",branches:"incoming_payment_customer_deposit/getBranchSegment",currentUser:"currentUser"})),{},{dialog:function(){return this.$store.state.dialog},loadingStatus:function(){return this.$store.state.loading}}),watch:{providers:function(){this.$v.$reset()}},created:function(){this.$store.dispatch("incoming_payment_customer_deposit/fetchBranchSegment"),this.$store.dispatch("userPermissions/fetchPermission")},methods:{printpre:function(){function e(e,a){return t.apply(this,arguments)}function t(){return t=Object($r["a"])(regeneratorRuntime.mark((function e(t,a){var i,r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://192.168.1.19:7771/api/public/reports/queries/incomingpaymentcustomerdeposit?q=printing&series="+a,{method:"GET",headers:{Authorization:"Bearer ".concat(t)}});case 2:return i=e.sent,e.next=5,i.blob();case 5:r=e.sent,n=URL.createObjectURL(r),document.querySelector("iframe").setAttribute("src",n);case 8:case"end":return e.stop()}}),e)}))),t.apply(this,arguments)}this.printLink="",this.printDialog=!0,this.iden=0,e(this.currentUser.token,this.branch.U_Branch1),this.iden=1},generate:function(){var e={branch:this.branch};this.$store.dispatch("incoming_payment_customer_deposit/generatequery",e)},refreshData:function(){var e={branch:this.branch};this.$store.dispatch("incoming_payment_customer_deposit/generatequery",e)},openDialog:function(){this.create=!0},upload:function(){this.$store.dispatch("blacklisted/UploadBlacklisted",this.blacklistedData),this.refreshData()}}},Fo=Go,Yo=(a("5d1f"),Object(m["a"])(Fo,Bo,Mo,!1,null,null,null)),zo=Yo.exports;v()(Yo,{VAutocomplete:xt["a"],VBtn:O["a"],VCard:N["a"],VCardActions:$["a"],VCardTitle:$["d"],VContainer:we["a"],VDataTable:P["a"],VDialog:V["a"],VDivider:h["a"],VIcon:f["a"],VSkeletonLoader:et["a"],VSpacer:F["a"],VTextField:qe["a"],VToolbar:W["a"],VToolbarTitle:J["b"],VTooltip:Q["a"]});var Ho=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.query,search:e.search,loading:e.loadingStatus},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Incoming Payment Open Balance ")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.openDialog}},i),[a("v-icon",[e._v("mdi-plus-circle")])],1)]}}])},[a("span",[e._v("Generate")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:function(t){return e.printpre()}}},i),[a("v-icon",[e._v("print")])],1)]}}])},[a("span",[e._v("Print")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("json-excel",{attrs:{data:e.paymentcbr_data}},[a("v-btn",e._g({attrs:{text:"",icon:""}},i),[a("v-icon",[e._v("mdi-file-export")])],1)],1)]}}])},[a("span",[e._v("Export")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.refreshData}},i),[a("v-icon",[e._v("mdi-refresh")])],1)]}}])},[a("span",[e._v("Refresh")])]),a("h6",[e._v(" BRANCH: "),a("i",{staticStyle:{"font-size":"13px"}},[e._v(e._s(e.branch.SeriesName)+" ")])]),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"search",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)]},proxy:!0}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}}),a("v-dialog",{attrs:{width:"800"},model:{value:e.create,callback:function(t){e.create=t},expression:"create"}},[a("v-card",[a("v-card-title",{staticClass:"dark lighten-2"},[e._v(" Select Branch ")]),a("v-autocomplete",{staticStyle:{margin:"10px"},attrs:{loading:e.loadingStatus,items:e.branches,"item-value":"Name","item-text":"SeriesName","return-object":"",dense:"",label:"Select Branch",chips:"","hide-details":"","hide-selected":"",solo:""},model:{value:e.branch,callback:function(t){e.branch=t},expression:"branch"}}),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:e.generate}},[e._v(" Generate ")])],1)],1)],1)],1),a("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:e.printDialog,callback:function(t){e.printDialog=t},expression:"printDialog"}},[a("v-card",[a("v-toolbar",{staticStyle:{"background-color":"#f2e7d0"},attrs:{dark:""}},[a("v-btn",{attrs:{icon:"",dark:""},on:{click:function(t){e.printDialog=!1}}},[a("v-icon",{staticStyle:{color:"black"}},[e._v("mdi-close")])],1),a("v-toolbar-title",{staticStyle:{color:"black"}},[e._v("Incoming Payment Open Balance Print Preview")]),a("v-spacer")],1),a("v-divider"),1==e.iden?a("iframe",{ref:"myiframe",staticStyle:{width:"100%",height:"1000px"},attrs:{src:e.printLink,title:"Incoming Payment PrintPreview"}}):e._e(),0==e.iden?a("v-skeleton-loader",{attrs:{"max-height":"100%","max-width":"100%",type:"card"}}):e._e()],1)],1)],1)},Ko=[],Wo={components:{JsonExcel:_t["a"]},data:function(){return{iden:0,printLink:"",printDialog:!1,branch:"Agoo",create:!1,reveal:!1,search:"",selected:[],loader:null,loading:!1,submitDisable:!0,headers:[{text:"SERIES NAME",align:"left",value:"SeriesName"},{text:"SERIES",align:"left",value:"Series"},{text:"DOCDATE",align:"left",value:"DocDate"},{text:"DOCNUM",align:"left",value:"DocNum"},{text:"CARDNAME",align:"left",value:"CardName"},{text:"COUNTER REF",align:"left",value:"CounterRef"},{text:"OPEN BALANCE AMOUNT",align:"left",value:"OpenBal"}]}},computed:Object(c["a"])(Object(c["a"])({},Object(l["b"])({query:"incoming_payment_open_balance/QUERY",permissions:"userPermissions/getPermission",branches:"incoming_payment_open_balance/getBranchSegment",currentUser:"currentUser"})),{},{dialog:function(){return this.$store.state.dialog},loadingStatus:function(){return this.$store.state.loading}}),watch:{providers:function(){this.$v.$reset()}},created:function(){this.$store.dispatch("incoming_payment_open_balance/fetchBranchSegment"),this.$store.dispatch("userPermissions/fetchPermission")},methods:{printpre:function(){function e(e,a){return t.apply(this,arguments)}function t(){return t=Object($r["a"])(regeneratorRuntime.mark((function e(t,a){var i,r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://192.168.1.19:7771/api/public/reports/queries/incomingpaymentopenbalance?q=printing&series="+a,{method:"GET",headers:{Authorization:"Bearer ".concat(t)}});case 2:return i=e.sent,e.next=5,i.blob();case 5:r=e.sent,n=URL.createObjectURL(r),document.querySelector("iframe").setAttribute("src",n);case 8:case"end":return e.stop()}}),e)}))),t.apply(this,arguments)}this.printLink="",this.printDialog=!0,this.iden=0,e(this.currentUser.token,this.branch.SeriesName),this.iden=1},generate:function(){var e={branch:this.branch};this.$store.dispatch("incoming_payment_open_balance/generatequery",e)},refreshData:function(){var e={branch:this.branch};this.$store.dispatch("incoming_payment_open_balance/generatequery",e)},openDialog:function(){this.create=!0},upload:function(){this.$store.dispatch("blacklisted/UploadBlacklisted",this.blacklistedData),this.refreshData()}}},Jo=Wo,Qo=(a("788d"),Object(m["a"])(Jo,Ho,Ko,!1,null,null,null)),Xo=Qo.exports;v()(Qo,{VAutocomplete:xt["a"],VBtn:O["a"],VCard:N["a"],VCardActions:$["a"],VCardTitle:$["d"],VContainer:we["a"],VDataTable:P["a"],VDialog:V["a"],VDivider:h["a"],VIcon:f["a"],VSkeletonLoader:et["a"],VSpacer:F["a"],VTextField:qe["a"],VToolbar:W["a"],VToolbarTitle:J["b"],VTooltip:Q["a"]});var Zo=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",{attrs:{"text-xs-center":""}},[a("vs-button",{staticStyle:{"background-color":"blanchedalmond","min-width":"70px",color:"black"},attrs:{"animation-type":"scale"},on:{click:function(t){e.dialog=!0}},scopedSlots:e._u([{key:"animate",fn:function(){return[a("strong",{staticStyle:{"margin-left":"10px"}},[e._v("CONFIGURE ⚙")]),a("v-img",{staticStyle:{width:"70px",height:"70px"},attrs:{src:"/sap.png"}})]},proxy:!0}])},[a("v-img",{staticStyle:{width:"100px"},attrs:{src:"/sap.png"}}),a("strong",[e._v("SAP B1 DATABASE")])],1)],1),a("v-dialog",{attrs:{"hide-overlay":"",transition:"dialog-bottom-transition",color:"black"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",{attrs:{color:"#f2e7d0"}},[a("v-toolbar",{attrs:{dark:"",color:"#f2e7d0"}},[a("v-btn",{attrs:{icon:"",dark:""},on:{click:function(t){e.dialog=!1}}},[a("v-icon",{staticStyle:{color:"black"}},[e._v("mdi-close")])],1),a("v-toolbar-title",{staticStyle:{color:"black"}},[e._v("Database / Configure")]),a("v-spacer"),a("v-toolbar-items",[a("vs-button",{attrs:{size:"large"},on:{click:function(t){return e.submit()}}},[a("v-icon",[e._v("mdi-content-save-all")])],1),a("vs-button",{attrs:{size:"large"},on:{click:function(t){return e.create()}}},[e._v(" CREATE ")])],1)],1),a("v-list",{attrs:{"three-line":"",subheader:""}},[a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-card",{staticClass:"pa-2",attrs:{outlined:"",tile:""}},[a("v-subheader",[e._v("DATABASE / CREATE")]),a("v-list-item",[a("v-list-item-content",[a("form",[a("v-text-field",{attrs:{"error-messages":e.hostErrors,label:"Host",required:""},on:{input:function(t){return e.$v.host.$touch()},blur:function(t){return e.$v.host.$touch()}},model:{value:e.host,callback:function(t){e.host=t},expression:"host"}}),a("v-text-field",{attrs:{"error-messages":e.dbnameErrors,label:"Database Name",required:""},on:{input:function(t){return e.$v.dbname.$touch()},blur:function(t){return e.$v.dbname.$touch()}},model:{value:e.dbname,callback:function(t){e.dbname=t},expression:"dbname"}}),a("v-text-field",{attrs:{"error-messages":e.usernameErrors,label:"Username",required:""},on:{input:function(t){return e.$v.username.$touch()},blur:function(t){return e.$v.username.$touch()}},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),a("v-text-field",{attrs:{"error-messages":e.passwordErrors,label:"Password",type:"password",required:""},on:{input:function(t){return e.$v.password.$touch()},blur:function(t){return e.$v.password.$touch()}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),a("v-select",{attrs:{items:e.connections,"error-messages":e.connectionsErrors,label:"Connection","item-text":"name","item-value":"value",required:""},on:{change:function(t){return e.$v.connections.$touch()},blur:function(t){return e.$v.connections.$touch()}},model:{value:e.connection,callback:function(t){e.connection=t},expression:"connection"}}),a("v-select",{attrs:{items:e.ports,"error-messages":e.portsErrors,label:"Port","item-text":"name","item-value":"value",required:""},on:{change:function(t){return e.$v.ports.$touch()},blur:function(t){return e.$v.ports.$touch()}},model:{value:e.port,callback:function(t){e.port=t},expression:"port"}})],1)])],1)],1)],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-card",{staticClass:"pa-2",attrs:{outlined:"",tile:""}},[a("v-subheader",[e._v("DATABASE / UPDATE ")]),a("v-list-item",[a("v-list-item-content",[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.databaseData,"items-per-page":5},scopedSlots:e._u([{key:"item.action",fn:function(t){var i=t.item;return[a("vs-button-group",[a("vs-button",{attrs:{border:""},on:{click:function(t){return e.edit(i)}}},[a("v-icon",[e._v("mdi-grease-pencil")])],1),a("vs-button",{attrs:{border:"",icon:""},on:{click:function(t){return e.trash(i)}}},[a("v-icon",[e._v("mdi-delete")])],1)],1)]}}])})],1)],1)],1)],1)],1)],1),a("v-divider")],1)],1)],1)},es=[],ts={mixins:[nt["validationMixin"]],validations:{host:{required:ot["required"]},dbname:{required:ot["required"]},username:{required:ot["required"]},password:{required:ot["required"]},connections:{required:ot["required"]},ports:{required:ot["required"]}},data:function(){return{headers:[{text:"HOST",value:"host"},{text:"DBNAME",value:"dbname"},{text:"USERNAME",value:"username"},{text:"PASSWORD",value:"password"},{text:"CONNECTION",value:"connection"},{text:"PORT",value:"port"},{text:"ACTION",value:"action"}],id:"",entryname:"",dialog:!1,host:"",dbname:"",username:"",password:"",connections:[{name:"Mssql",value:"sqlsrv"},{name:"mysql",value:"mysql"},{name:" PostgreSQL",value:"pgsql"}],ports:[{name:"3306",value:"3306"},{name:"1433",value:"1433"}],connection:"",port:""}},created:function(){this.$store.dispatch("fetchDBAll")},computed:Object(c["a"])(Object(c["a"])({},Object(l["b"])({databaseData:"getDBLIST"})),{},{hostErrors:function(){var e=[];return this.$v.host.$dirty?(!this.$v.host.required&&e.push("Host is required"),e):e},dbnameErrors:function(){var e=[];return this.$v.dbname.$dirty?(!this.$v.dbname.required&&e.push("Database Name is required"),e):e},usernameErrors:function(){var e=[];return this.$v.username.$dirty?(!this.$v.username.required&&e.push("UserName is required"),e):e},passwordErrors:function(){var e=[];return this.$v.password.$dirty?(!this.$v.password.required&&e.push("Password is required"),e):e},connectionsErrors:function(){var e=[];return this.$v.connections.$dirty?(!this.$v.connections.required&&e.push("Connection is required"),e):e},portsErrors:function(){var e=[];return this.$v.ports.$dirty?(!this.$v.ports.required&&e.push("Port is required"),e):e}}),methods:{submit:function(){var e=this;this.$v.$touch();var t={host:this.host,dbname:this.dbname,username:this.username,password:this.password,connection:this.connection,port:this.port,id:this.id,entry:this.entryname};this.id?this.$store.dispatch("updateDBcon",t).then((function(t){200==t.status&&e.refresh()})):this.$store.dispatch("createDBcon",t).then((function(t){200==t.status&&e.refresh()}))},refresh:function(){this.id="",this.host="",this.dbname="",this.username="",this.password="",this.port="1433",this.connection="mssql",this.$store.dispatch("fetchDBAll")},edit:function(e){this.host=e.host,this.dbname=e.dbname,this.username=e.username,this.password=e.password,this.port=e.port,this.connection=e.connection,this.id=e.id,this.entryname=e.entry},create:function(){this.id="",this.host="",this.dbname="",this.username="",this.password="",this.port="1433",this.connection="mssql"},trash:function(e){var t=this,a={id:e.id,entryname:e.entry};this.$store.dispatch("deleteDBcon",a).then((function(e){200==e.status&&t.refresh()}))}}},as=ts,is=Object(m["a"])(as,Zo,es,!1,null,null,null),rs=is.exports;v()(is,{VBtn:O["a"],VCard:N["a"],VCol:R["a"],VContainer:we["a"],VDataTable:P["a"],VDialog:V["a"],VDivider:h["a"],VIcon:f["a"],VImg:q["a"],VList:_["a"],VListItem:b["a"],VListItemContent:T["b"],VRow:B["a"],VSelect:M["a"],VSpacer:F["a"],VSubheader:Y["a"],VTextField:qe["a"],VToolbar:W["a"],VToolbarItems:J["a"],VToolbarTitle:J["b"]});var ns=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",{attrs:{"text-xs-center":""}},[a("div",{staticClass:"center"},[a("v-dialog",{attrs:{"hide-overlay":"",fullscreen:"",transition:"dialog-bottom-transition"},model:{value:e.bookingmodal,callback:function(t){e.bookingmodal=t},expression:"bookingmodal"}},[a("v-card",[a("v-toolbar",{staticStyle:{background:"linear-gradient("},attrs:{dark:""}},[a("v-btn",{attrs:{icon:"",dark:""},on:{click:function(t){e.bookingmodal=e.reset()}}},[a("v-icon",[e._v("mdi-close")])],1),a("v-toolbar-title",[e._v(" REQUEST-"),a("strong",[e._v(e._s(e.activerequest.name))])]),a("v-spacer"),a("v-btn",{attrs:{color:"primary",absolute:"",right:"",fab:""},on:{click:function(t){return e.restore()}}},[a("v-icon",[e._v("mdi-backup-restore")])],1),a("v-toolbar-items")],1),a("v-list",{attrs:{"three-line":"",subheader:""}},[a("v-list-item",[a("v-list-item-content",[a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{attrs:{cols:"12",sm:"2"}},[a("v-card",{staticClass:"pa-3",attrs:{height:"1100"}},[a("h5",[e._v("PRODUCT INFORMATION")]),a("v-chip",{attrs:{"x-medium":""}},[e._v(" Model* ")]),a("v-autocomplete",{attrs:{items:e.itemsAuto,loading:e.isLoading,"search-input":e.search,"hide-details":"","hide-selected":"","item-text":"model","item-value":"model",label:"Search Model"},on:{"update:searchInput":function(t){e.search=t},"update:search-input":function(t){e.search=t},change:function(t){return e.autoclear()}},scopedSlots:e._u([{key:"no-data",fn:function(){return[a("v-list-item",[a("v-list-item-title",[e._v(" Search Model "),a("strong",[e._v("Model")])])],1)]},proxy:!0},{key:"selection",fn:function(t){var i=t.attr,r=t.on,n=t.item,o=t.selected;return[a("v-chip",e._g(e._b({staticClass:"white--text",attrs:{"input-value":o,color:"blue-grey"}},"v-chip",i,!1),r),[a("v-icon",{attrs:{left:""}},[e._v(" mdi-file-check ")]),a("span",{domProps:{textContent:e._s(n.model)}})],1)]}},{key:"item",fn:function(t){var i=t.item;return[a("v-list-item-avatar",{staticClass:"text-h5 font-weight-light white--text",attrs:{color:"indigo"}},[e._v(" "+e._s(i.categories.charAt(0))+" ")]),a("v-list-item-content",{on:{click:function(t){return e.modelsActivate(i)}}},[a("v-list-item-title",{domProps:{textContent:e._s(i.model)}}),a("v-list-item-subtitle",{domProps:{textContent:e._s(i.categories)}}),a("v-list-item-subtitle",{domProps:{textContent:e._s(i.Brand)}})],1),a("v-list-item-action")]}}]),model:{value:e.data.units.model,callback:function(t){e.$set(e.data.units,"model",t)},expression:"data.units.model"}}),a("v-text-field",{attrs:{placeholder:"Model",required:"",dense:"",disabled:!0},on:{change:function(t){return e.autoclear()}},model:{value:e.data.units.model,callback:function(t){e.$set(e.data.units,"model",t)},expression:"data.units.model"}}),a("v-chip",{attrs:{"x-medium":""}},[e._v(" Product Categories ")]),a("v-autocomplete",{attrs:{items:e.productListDown.prodcategories,placeholder:"Product Categories","item-text":"name","item-value":"value",required:"",dense:""},on:{change:function(t){return e.getindex()}},model:{value:e.data.units.prodcategories,callback:function(t){e.$set(e.data.units,"prodcategories",t)},expression:"data.units.prodcategories"}}),a("v-chip",{attrs:{"x-medium":""}},[e._v(" Appliance Type* ")]),a("v-autocomplete",{attrs:{items:e.productListDown.appliancetype,"error-messages":e.appliancetypeError,placeholder:"Appliance Type*","item-text":"name","item-value":"value",required:"",dense:""},model:{value:e.data.units.appliancetype,callback:function(t){e.$set(e.data.units,"appliancetype",t)},expression:"data.units.appliancetype"}}),a("v-chip",{attrs:{"x-medium":""}},[e._v(" Brand* ")]),a("v-autocomplete",{attrs:{items:e.productListDown.brand,"error-messages":e.brandError,placeholder:"Brand*","item-text":"name","item-value":"value",required:"",dense:""},model:{value:e.data.units.brand,callback:function(t){e.$set(e.data.units,"brand",t)},expression:"data.units.brand"}}),a("v-chip",{attrs:{"x-medium":""}},[e._v(" Serial No."+e._s("INSTALLATION"==e.activerequest.name?"*":""))]),a("v-text-field",{attrs:{placeholder:"Serial No.","error-messages":e.serialError,dense:"",required:""},model:{value:e.data.units.serialno,callback:function(t){e.$set(e.data.units,"serialno",t)},expression:"data.units.serialno"}}),a("v-chip",{attrs:{"x-medium":""}},[e._v("Unit Condition* ")]),a("v-select",{staticStyle:{margin:"6px"},attrs:{items:e.productListDown.unitcondition,"error-messages":e.unitconditionError,placeholder:"Unit Condition*","item-text":"name","item-value":"value",required:"",dense:""},model:{value:e.data.units.unitcondition,callback:function(t){e.$set(e.data.units,"unitcondition",t)},expression:"data.units.unitcondition"}}),a("v-chip",{attrs:{"x-medium":""}},[e._v(" Warranty Condition* ")]),a("v-select",{attrs:{items:e.productListDown.warrantycondition,"error-messages":e.warrantyconditionError,placeholder:"Warranty Condition*","item-text":"name","item-value":"value",required:"",dense:""},model:{value:e.data.units.warrantycondition,callback:function(t){e.$set(e.data.units,"warrantycondition",t)},expression:"data.units.warrantycondition"}}),a("v-chip",{staticClass:"ma-2",attrs:{"x-medium":""}},[e._v("DATE PURCHASE *")]),a("br"),a("v-menu",{ref:"menu1",attrs:{"close-on-content-click":!1,"return-value":e.date,transition:"scale-transition","offset-y":"","min-width":"auto"},on:{"update:returnValue":function(t){e.date=t},"update:return-value":function(t){e.date=t}},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,r=t.attrs;return[a("v-text-field",e._g(e._b({attrs:{label:"Date Purchased","prepend-icon":"mdi-calendar",readonly:""},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}},"v-text-field",r,!1),i))]}}]),model:{value:e.menu1,callback:function(t){e.menu1=t},expression:"menu1"}},[a("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:e.data.units.datepurchase,callback:function(t){e.$set(e.data.units,"datepurchase",t)},expression:"data.units.datepurchase"}},[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.menu1=!1}}},[e._v(" Cancel ")]),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.menu1.save(e.data.units.datepurchase)}}},[e._v(" OK ")])],1)],1),1==e.reqIdentifier?a("v-chip",{staticClass:"ma-2",attrs:{"x-medium":""}},[e._v(" Problem ")]):e._e(),1==e.reqIdentifier?a("v-autocomplete",{attrs:{items:e.problemItemsAuto,loading:e.isLoading,"search-input":e.searchP,"error-messages":e.problemError,"hide-details":"","hide-selected":"","item-text":"Name","item-value":"Name",label:"Search Problem"},on:{"update:searchInput":function(t){e.searchP=t},"update:search-input":function(t){e.searchP=t}},scopedSlots:e._u([{key:"no-data",fn:function(){return[a("v-list-item",[a("v-list-item-title",[e._v(" Search Problem ")])],1)]},proxy:!0},{key:"selection",fn:function(t){var i=t.attr,r=t.on,n=t.item,o=t.selected2;return[a("v-chip",e._g(e._b({staticClass:"white--text",attrs:{"input-value":o,color:"blue-grey"}},"v-chip",i,!1),r),[a("v-icon",{attrs:{left:""}},[e._v(" mdi-file-check ")]),a("span",{domProps:{textContent:e._s(n.Name)}})],1)]}},{key:"item",fn:function(t){var i=t.item;return[a("v-list-item-avatar",{staticClass:"text-h5 font-weight-light white--text",attrs:{color:"indigo"}},[e._v(" "+e._s(i.Name.charAt(0))+" ")]),a("v-list-item-content",[a("v-list-item-title",{domProps:{textContent:e._s(i.Name)}}),a("v-list-item-subtitle",{domProps:{textContent:e._s(i.Name)}})],1),a("v-list-item-action")]}}],null,!1,2967913260),model:{value:e.data.units.problem,callback:function(t){e.$set(e.data.units,"problem",t)},expression:"data.units.problem"}}):e._e(),1==e.reqIdentifier?a("v-text-field",{directives:[{name:"uppercase",rawName:"v-uppercase"}],attrs:{placeholder:"Problem",required:"",dense:""},model:{value:e.data.units.problem,callback:function(t){e.$set(e.data.units,"problem",t)},expression:"data.units.problem"}}):e._e(),a("v-chip",{staticClass:"ma-1",attrs:{"x-medium":""}},[e._v("Priority ")]),a("v-select",{staticStyle:{margin:"2px"},attrs:{items:e.productListDown.priority,placeholder:"Priority","item-text":"name","item-value":"value",required:"",dense:""},model:{value:e.data.units.priority,callback:function(t){e.$set(e.data.units,"priority",t)},expression:"data.units.priority"}})],1)],1),4==e.reqIdentifier?a("v-col",{attrs:{cols:"12",sm:"3"}},[a("v-card",{staticClass:"pa-3",attrs:{height:"1100"}},[a("v-chip",{attrs:{"x-medium":""}},[e._v("Property Type* ")]),a("v-select",{attrs:{items:e.usagedetailsListDown.propertytype,"error-messages":e.propertytypeError,placeholder:"Property Type*","item-text":"name","item-value":"value",required:"",dense:""},on:{change:function(t){return e.propertyTypeController()}},model:{value:e.data.usage.propertytype,callback:function(t){e.$set(e.data.usage,"propertytype",t)},expression:"data.usage.propertytype"}}),a("v-chip",{attrs:{"x-medium":""}},[e._v("Level ")]),a("v-select",{attrs:{items:e.usagedetailsListDown.level,placeholder:"Level","item-text":"name","item-value":"value",required:"",disabled:1==e.ifcommercial,dense:""},model:{value:e.data.usage.level,callback:function(t){e.$set(e.data.usage,"level",t)},expression:"data.usage.level"}}),a("v-chip",{attrs:{"x-medium":""}},[e._v("Location ")]),a("v-select",{attrs:{items:e.usagedetailsListDown.location,placeholder:"Location","item-text":"name","item-value":"value",required:"",disabled:1==e.ifcommercial,dense:""},model:{value:e.data.usage.location,callback:function(t){e.$set(e.data.usage,"location",t)},expression:"data.usage.location"}}),a("v-chip",{attrs:{"x-medium":""}},[e._v("Area ")]),a("v-text-field",{attrs:{prefix:"sqm",placeholder:"Area","error-messages":e.areaError,required:"",disabled:1==e.ifcommercial,dense:""},on:{input:function(t){return e.$v.data.usage.area.$touch()},keypress:e.checkAreaKey},model:{value:e.data.usage.area,callback:function(t){e.$set(e.data.usage,"area",t)},expression:"data.usage.area"}}),a("v-chip",{attrs:{"x-medium":""}},[e._v("Wall Finish* ")]),a("v-select",{attrs:{items:e.usagedetailsListDown.wallfinish,"error-messages":e.wallfinishError,placeholder:"Wall Finish*","item-text":"name","item-value":"value",disabled:1==e.ifcommercial,required:"",dense:""},on:{change:function(t){return e.verifywall()}},model:{value:e.data.usage.wallfinish,callback:function(t){e.$set(e.data.usage,"wallfinish",t)},expression:"data.usage.wallfinish"}}),a("v-chip",{attrs:{"x-medium":""}},[e._v("Power Supply Location")]),a("v-select",{attrs:{items:e.usagedetailsListDown.withpowersupply,"error-messages":e.withpowersupplyError,placeholder:"With Power Supply*","item-text":"name","item-value":"value",required:"",dense:"",disabled:1==e.ifcommercial},model:{value:e.data.usage.withpowersupply,callback:function(t){e.$set(e.data.usage,"withpowersupply",t)},expression:"data.usage.withpowersupply"}}),a("v-chip",{attrs:{"x-medium":""}},[e._v("Date of Delivery")]),a("v-menu",{ref:"menu3",attrs:{"close-on-content-click":!1,"return-value":e.data.usage.deliverydate,transition:"scale-transition","offset-y":"","min-width":"auto"},on:{"update:returnValue":function(t){return e.$set(e.data.usage,"deliverydate",t)},"update:return-value":function(t){return e.$set(e.data.usage,"deliverydate",t)}},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,r=t.attrs;return[a("v-text-field",e._g(e._b({attrs:{label:"Delivery Date","prepend-icon":"mdi-calendar",readonly:""},model:{value:e.data.usage.deliverydate,callback:function(t){e.$set(e.data.usage,"deliverydate",t)},expression:"data.usage.deliverydate"}},"v-text-field",r,!1),i))]}}],null,!1,2426117047),model:{value:e.menu3,callback:function(t){e.menu3=t},expression:"menu3"}},[a("v-date-picker",{attrs:{"no-title":"",scrollable:""},model:{value:e.data.usage.deliverydate,callback:function(t){e.$set(e.data.usage,"deliverydate",t)},expression:"data.usage.deliverydate"}},[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.menu3=!1}}},[e._v(" Cancel ")]),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.menu3.save(e.data.usage.deliverydate)}}},[e._v(" OK ")])],1)],1),a("v-chip",{attrs:{"x-medium":""}},[e._v("Time Of Delivery ")]),a("vue-timepicker",{staticStyle:{margin:"6px"},model:{value:e.data.usage.time,callback:function(t){e.$set(e.data.usage,"time",t)},expression:"data.usage.time"}}),a("br"),a("v-chip",{attrs:{"x-medium":""}},[e._v("Installation Address")]),a("v-radio-group",{on:{change:function(t){return e.addressV()}},model:{value:e.InstallationAddress,callback:function(t){e.InstallationAddress=t},expression:"InstallationAddress"}},[a("v-radio",{attrs:{label:"Customer"}}),a("v-radio",{attrs:{label:"Others"}})],1),1==e.InstallationAddress?a("v-text-field",{staticStyle:{margin:"6px"},attrs:{placeholder:"Installation Address",required:"",dense:""},model:{value:e.data.usage.locationofinstallation,callback:function(t){e.$set(e.data.usage,"locationofinstallation",t)},expression:"data.usage.locationofinstallation"}}):e._e(),a("v-chip",{attrs:{"x-medium":""}},[e._v("Amount Paid(Installation fee)")]),a("v-text-field",{staticStyle:{margin:"6px"},attrs:{prefix:"PHP",placeholder:"Amount Paid",required:"",dense:""},on:{keypress:e.onlyNumber},model:{value:e.data.usage.paidamoun,callback:function(t){e.$set(e.data.usage,"paidamoun",t)},expression:"data.usage.paidamoun"}}),a("v-text-field",{staticStyle:{margin:"6px"},attrs:{prefix:"OR#",placeholder:"OR #",required:"",dense:""},on:{keypress:e.onlyNumber},model:{value:e.data.usage.or,callback:function(t){e.$set(e.data.usage,"or",t)},expression:"data.usage.or"}})],1)],1):e._e(),a("v-col",{attrs:{cols:"12",sm:"2"}},[a("v-card",{staticClass:"pa-1",attrs:{height:"1100"}},[a("h5",[e._v("CUSTOMER INFORMATION")]),a("v-chip",{staticClass:"ma-2",attrs:{"x-medium":""}},[e._v(" Contact Phone Number*")]),a("v-text-field",{staticClass:"ma-2",attrs:{"error-messages":e.cpnumberError,placeholder:"Contact Phone Number*","single-line":"",type:"integer",maxlength:e.max,dense:"",required:""},on:{keypress:e.onlyNumber},model:{value:e.customer.cpnumber,callback:function(t){e.$set(e.customer,"cpnumber",t)},expression:"customer.cpnumber"}}),a("vs-button",{staticClass:"ma-2",attrs:{outlined:"",color:"indigo",size:"mini"},on:{click:function(t){return e.checkRecExist()}}},[e._v(" CHECK RECORD ")]),a("v-chip",{staticClass:"ma-2",attrs:{"x-medium":""}},[e._v("Email Address (OPTIONAL)")]),a("v-text-field",{directives:[{name:"uppercase",rawName:"v-uppercase"}],staticClass:"ma-2",attrs:{placeholder:"Email Address (OPTIONAL)",required:"",dense:"",disabled:1==e.checkIdentifier},model:{value:e.customer.emailaddress,callback:function(t){e.$set(e.customer,"emailaddress",t)},expression:"customer.emailaddress"}}),a("v-chip",{staticClass:"ma-2",attrs:{"x-medium":""}},[e._v("Last Name *")]),a("v-text-field",{directives:[{name:"uppercase",rawName:"v-uppercase"}],staticClass:"ma-2",attrs:{placeholder:"Last Name","error-messages":e.lastnameError,required:"",dense:"",disabled:1==e.checkIdentifier},model:{value:e.customer.lastname,callback:function(t){e.$set(e.customer,"lastname",t)},expression:"customer.lastname"}}),a("v-chip",{staticClass:"ma-2",attrs:{"x-medium":""}},[e._v("First Name *")]),a("v-text-field",{directives:[{name:"uppercase",rawName:"v-uppercase"}],staticClass:"ma-2",attrs:{"error-messages":e.firstnameError,placeholder:"First Name",required:"",dense:"",disabled:1==e.checkIdentifier},model:{value:e.customer.firstname,callback:function(t){e.$set(e.customer,"firstname",t)},expression:"customer.firstname"}}),a("v-chip",{staticClass:"ma-2",attrs:{"x-medium":""}},[e._v("Middle Name")]),a("v-text-field",{directives:[{name:"uppercase",rawName:"v-uppercase"}],staticClass:"ma-2",attrs:{placeholder:"Middle Name","error-messages":e.middlenameError,required:"",dense:"",disabled:1==e.checkIdentifier},model:{value:e.customer.middlename,callback:function(t){e.$set(e.customer,"middlename",t)},expression:"customer.middlename"}}),a("v-chip",{staticClass:"ma-2",attrs:{"x-medium":""}},[e._v("Contact Person")]),a("v-text-field",{directives:[{name:"uppercase",rawName:"v-uppercase"}],staticClass:"ma-2",attrs:{placeholder:"Contact Person","error-messages":e.contactpersonError,required:"",dense:"",disabled:1==e.checkIdentifier},model:{value:e.customer.contactperson,callback:function(t){e.$set(e.customer,"contactperson",t)},expression:"customer.contactperson"}}),a("v-chip",{staticClass:"ma-2",attrs:{"x-medium":""}},[e._v("Alternate No. (OPTIONAL)")]),a("v-text-field",{staticClass:"ma-2",attrs:{placeholder:"Telephone No. (OPTIONAL)","hide-details":"","single-line":"",type:"integer",maxlength:e.max,dense:"",required:"",disabled:1==e.checkIdentifier},on:{keypress:e.onlyNumber},model:{value:e.customer.telephoneno,callback:function(t){e.$set(e.customer,"telephoneno",t)},expression:"customer.telephoneno"}}),a("v-chip",{staticClass:"ma-2",attrs:{"x-medium":""}},[e._v("LANDMARK")]),a("v-text-field",{directives:[{name:"uppercase",rawName:"v-uppercase"}],staticClass:"ma-2",attrs:{placeholder:"LANDMARK ",required:"",disabled:1==e.checkIdentifier},model:{value:e.customer.landmark,callback:function(t){e.$set(e.customer,"landmark",t)},expression:"customer.landmark"}}),3==e.reqIdentifier?a("v-chip",{staticClass:"ma-2",attrs:{"x-medium":""}},[e._v("SURVEY LOCATION")]):e._e(),3==e.reqIdentifier?a("v-text-field",{directives:[{name:"uppercase",rawName:"v-uppercase"}],staticClass:"ma-2",attrs:{placeholder:"Survey Location",required:"",dense:"",disabled:1==e.checkIdentifier},model:{value:e.data.usage.locationofinstallation,callback:function(t){e.$set(e.data.usage,"locationofinstallation",t)},expression:"data.usage.locationofinstallation"}}):e._e()],1)],1),a("v-col",{attrs:{cols:"12",sm:"2"}},[a("v-card",{staticClass:"pa-3",attrs:{height:"1100"}},[a("v-chip",{staticClass:"ma-1",attrs:{"x-medium":""}},[e._v("Region *")]),a("v-select",{staticClass:"ma-1",attrs:{items:e.addressesListDown.region,placeholder:"Region","item-text":"region_name","item-value":"region_code",required:"",dense:"","error-messages":e.regionError,disabled:1==e.checkIdentifier},on:{change:function(t){return e.regionD()}},model:{value:e.customer.region,callback:function(t){e.$set(e.customer,"region",t)},expression:"customer.region"}}),a("v-chip",{staticClass:"ma-1",attrs:{"x-medium":""}},[e._v("Province *")]),a("v-select",{staticClass:"ma-1",attrs:{items:e.addressesListDown.province,"error-messages":e.provinceError,dense:"",placeholder:"Province","item-text":"province_name","item-value":"province_name",required:"",disabled:1==e.checkIdentifier},on:{change:function(t){return e.provinceD()}},model:{value:e.customer.province,callback:function(t){e.$set(e.customer,"province",t)},expression:"customer.province"}}),a("v-chip",{staticClass:"ma-1",attrs:{"x-medium":""}},[e._v("Municipality/City *")]),a("v-select",{staticClass:"ma-1",attrs:{items:e.addressesListDown.mcity,"error-messages":e.mcityError,dense:"",placeholder:"Municipality/City","item-text":"city_name","item-value":"city_code",required:"",disabled:1==e.checkIdentifier},on:{change:function(t){return e.mcityD()}},model:{value:e.customer.mcity,callback:function(t){e.$set(e.customer,"mcity",t)},expression:"customer.mcity"}}),a("v-chip",{staticClass:"ma-1",attrs:{"x-medium":""}},[e._v("Barangay *")]),a("v-select",{staticClass:"ma-1",attrs:{items:e.addressesListDown.barangay,"error-messages":e.barangayError,placeholder:"Barangay","item-text":"brgy_name","item-value":"brgy_name",required:"",dense:"",disabled:1==e.checkIdentifier},on:{change:function(t){return e.brgyD()}},model:{value:e.customer.barangay,callback:function(t){e.$set(e.customer,"barangay",t)},expression:"customer.barangay"}}),a("v-chip",{staticClass:"ma-1",attrs:{"x-medium":""}},[e._v("Street")]),a("v-text-field",{directives:[{name:"uppercase",rawName:"v-uppercase"}],staticClass:"ma-1",attrs:{"error-messages":e.streetError,placeholder:"Street",required:"",dense:"",disabled:1==e.checkIdentifier},model:{value:e.customer.street,callback:function(t){e.$set(e.customer,"street",t)},expression:"customer.street"}}),a("v-chip",{staticClass:"ma-1",attrs:{"x-medium":""}},[e._v("House No.")]),a("v-text-field",{directives:[{name:"uppercase",rawName:"v-uppercase"}],staticClass:"ma-1",attrs:{placeholder:"House No.","error-messages":e.housenoError,required:"",dense:"",disabled:1==e.checkIdentifier},model:{value:e.customer.houseno,callback:function(t){e.$set(e.customer,"houseno",t)},expression:"customer.houseno"}}),a("v-chip",{staticClass:"ma-1",attrs:{"x-medium":""}},[e._v(e._s(3==e.reqIdentifier||4==e.reqIdentifier?"NAME OF ORGANIZATION":"LOCATION OF UNIT")+" ")]),3==e.reqIdentifier||4==e.reqIdentifier?a("v-text-field",{directives:[{name:"uppercase",rawName:"v-uppercase"}],attrs:{placeholder:3==e.reqIdentifier||4==e.reqIdentifier?"NAME OF ORGANIZATION":"LOCATION OF UNIT",required:"",disabled:1==e.checkIdentifier},model:{value:e.customer.organizationname,callback:function(t){e.$set(e.customer,"organizationname",t)},expression:"customer.organizationname"}}):e._e(),1==e.reqIdentifier||2==e.reqIdentifier?a("v-text-field",{directives:[{name:"uppercase",rawName:"v-uppercase"}],attrs:{placeholder:3==e.reqIdentifier||4==e.reqIdentifier?"NAME OF ORGANIZATION":"LOCATION OF UNIT",required:"",disabled:1==e.checkIdentifier},model:{value:e.data.usage.locationofinstallation,callback:function(t){e.$set(e.data.usage,"locationofinstallation",t)},expression:"data.usage.locationofinstallation"}}):e._e(),3==e.reqIdentifier||4==e.reqIdentifier?a("v-chip",{attrs:{"x-medium":"",color:"success"}},[e._v("Is this an organization?")]):e._e(),4==e.reqIdentifier||3==e.reqIdentifier?a("v-radio-group",{attrs:{row:""},model:{value:e.customer.organization,callback:function(t){e.$set(e.customer,"organization",t)},expression:"customer.organization"}},[a("v-radio",{attrs:{label:"Yes",value:"1"}}),a("v-radio",{attrs:{label:"No",value:"2"}})],1):e._e(),e.checkwarranty||2==e.reqIdentifier||3==e.reqIdentifier||4==e.reqIdentifier||e.customer.attachment.length?a("v-chip",{attrs:{"x-medium":""}},[e._v("Sales Invoice/cof/aisf/Mrf *")]):e._e(),e.checkwarranty||2==e.reqIdentifier||3==e.reqIdentifier||4==e.reqIdentifier||e.customer.attachment.length?a("v-file-input",{attrs:{counter:"",multiple:"","truncate-length":"15"},model:{value:e.customer.attachment,callback:function(t){e.$set(e.customer,"attachment",t)},expression:"customer.attachment"}}):e._e(),a("v-textarea",{directives:[{name:"uppercase",rawName:"v-uppercase"}],staticClass:"mx-2",attrs:{"prepend-inner-icon":"mdi-comment",label:"SPECIAL INSTRUCTION",rows:"1",disabled:1==e.checkIdentifier},model:{value:e.customer.specialinstruction,callback:function(t){e.$set(e.customer,"specialinstruction",t)},expression:"customer.specialinstruction"}})],1)],1),a("v-col",{attrs:{cols:"12",sm:"3"}},[a("v-card",{staticClass:"pa-1"},[a("v-chip",{attrs:{"x-medium":"",color:"success"}},[e._v("UNITS/ITEMS")]),a("v-simple-table",{attrs:{dense:""},scopedSlots:e._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th",{staticClass:"text-left"},[e._v("UNITID")]),a("th",{staticClass:"text-left"},[e._v("SERIAL")]),a("th",{staticClass:"text-left"},[e._v("ACTIONS")])])]),a("tbody",e._l(e.units,(function(t){return a("tr",{key:t.unitid},[a("td",[a("strong",[e._v(e._s(t.unitid))])]),a("td",[a("strong",[e._v(e._s(t.serialno))])]),a("td",[a("v-btn",{attrs:{icon:""},on:{click:function(a){return e.trashUnits(t)}}},[a("v-icon",[e._v("mdi-delete")])],1)],1)])})),0)]},proxy:!0}])}),a("vs-button",{staticClass:"ma-2",attrs:{outlined:"",color:"indigo",disabled:e.CustomerALLError},on:{click:function(t){return e.checkout()}}},[e._v(" REVIEW AND CHECKOUT ")]),0==e.addIden?a("vs-button",{staticClass:"ma-2",attrs:{outlined:"",color:"indigo",disabled:e.UnitsALLError},on:{click:function(t){return e.add()}}},[e._v(" ADD UNIT + ")]):e._e(),a("v-chip",{staticClass:"ma-2",attrs:{"x-medium":""}},[e._v(" LOGGED BY *")]),a("v-text-field",{directives:[{name:"uppercase",rawName:"v-uppercase"}],attrs:{outlined:"",name:"LOGGED BY :",label:"Enter Your Complete Name","error-messages":e.lognameError,required:""},on:{input:function(t){return e.$v.customer.bookby.$touch()}},model:{value:e.customer.bookby,callback:function(t){e.$set(e.customer,"bookby",t)},expression:"customer.bookby"}})],1)],1)],1)],1)],1)],1)],1),a("v-dialog",{attrs:{width:"500"},model:{value:e.checkrecords,callback:function(t){e.checkrecords=t},expression:"checkrecords"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5 grey lighten-2"},[e._v(" Customer List ")]),a("v-data-table",{staticClass:"elevation-1",attrs:{dense:"",headers:e.customerListHeaders,items:e.customerList,"item-key":"name"},scopedSlots:e._u([{key:"item.cpnumber",fn:function(t){var i=t.item;return[a("vs-button",{attrs:{transparent:""},on:{click:function(t){return e.selectedCustomer(i)}}},[e._v(" "+e._s(i.cpnumber)+" ")])]}}])}),a("v-divider"),a("v-card-actions",[a("v-spacer")],1)],1)],1),a("v-dialog",{attrs:{width:"500"},model:{value:e.restoreBK,callback:function(t){e.restoreBK=t},expression:"restoreBK"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5 grey lighten-2"},[e._v(" RESTORE DRAFT ")]),a("v-data-table",{staticClass:"elevation-1",attrs:{dense:"",headers:e.restoreHead,items:e.restoreList,"item-key":"name"},scopedSlots:e._u([{key:"item.ActionRestore",fn:function(t){var i=t.item;return[a("vs-button",{attrs:{transparent:""},on:{click:function(t){return e.restoreNow(i)}}},[e._v(" RESTORE ")])]}}])}),a("v-divider"),a("v-card-actions",[a("v-spacer")],1)],1)],1),a("v-dialog",{attrs:{persistent:"","max-width":"600px"},model:{value:e.confirmdialog,callback:function(t){e.confirmdialog=t},expression:"confirmdialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"text-h5"},[e._v("Confirm your request details")])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("strong",[e._v("Contact Name")]),a("br"),e._v(e._s(e.customer.lastname)+", "+e._s(e.customer.firstname)+" ")]),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("strong",[e._v("Email Address")]),a("br"),e._v(e._s(e.customer.emailaddress)+" ")]),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("strong",[e._v("Contact Number")]),a("br"),e._v(e._s(e.customer.cpnumber)+" ")]),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("strong",[e._v("Address Details")]),a("br"),e._v(" "+e._s(e.customer.barangay+", "+e.customer.customerCity+", "+e.customer.province)+" ")]),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("strong",[e._v("Request Type")]),a("br"),e._v(e._s(e.activerequest.name)+" ")]),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("strong",[e._v("Dealer Name")]),a("br"),e._v(e._s(e.usersData.branch.name)+" ")]),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("strong",[e._v("Special Instruction")]),a("br"),e._v(e._s(e.customer.specialinstruction)+" ")]),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("strong",[e._v("Telephone #")]),a("br"),e._v(e._s(e.customer.telephoneno)+" ")]),a("v-col",{attrs:{cols:"12"}},[a("strong",[e._v("Units Details")]),a("br"),a("v-simple-table",{attrs:{dense:""},scopedSlots:e._u([{key:"default",fn:function(){return[a("thead",[a("tr",[a("th",{staticClass:"text-left"},[e._v("Appliance Type")]),a("th",{staticClass:"text-left"},[e._v("Brand")]),a("th",{staticClass:"text-left"},[e._v("Model")]),a("th",{staticClass:"text-left"},[e._v("Appliance")])])]),a("tbody",e._l(e.units,(function(t){return a("tr",{key:t.unitid},[a("td",[e._v(e._s(t.appliancetype))]),a("td",[e._v(e._s(t.brand))]),a("td",[e._v(e._s(t.model))]),a("td",[e._v(e._s(t.prodcategories))])])})),0)]},proxy:!0}])})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){e.confirmdialog=e.submit(5)}}},[e._v(" DRAFT ")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){return e.submit(1)}}},[e._v(" SUBMIT SERVICE REQUEST ")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){e.confirmdialog=!1}}},[e._v(" CLOSE ")])],1)],1),a("v-dialog",{attrs:{"max-width":"400"},model:{value:e.RefDialog,callback:function(t){e.RefDialog=t},expression:"RefDialog"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5"},[e._v(" "+e._s(0==e.msg.data.iden?"Request successfully submitted":5==e.msg.data.iden?"Request Submitted as Draft":"File Exist")+" ")]),a("v-card-text",[e._v(" "+e._s(0==e.msg.data.iden?"Your Request ID is:"+e.msg.data.ref:""))]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){e.RefDialog=e.rebook()}}},[e._v(" Rebook Same Client ")]),a("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){e.RefDialog=e.booknew()}}},[e._v(" Book New Client ")])],1)],1)],1)],1)],1)],1),a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{attrs:{cols:"12",sm:"4"}},[a("v-card",{staticClass:"pa-2",attrs:{outlined:"",tile:""}},[a("vs-button",{staticStyle:{"background-color":"white","min-width":"70px",color:"black"},attrs:{"animation-type":"scale"},on:{click:function(t){return e.request({name:"REPAIR",id:1})}},scopedSlots:e._u([{key:"animate",fn:function(){return[a("strong",{staticStyle:{"margin-left":"10px"}},[e._v("REQUEST ⚙")]),a("v-img",{staticStyle:{width:"70px",height:"70px"},attrs:{src:"/repair.png"}})]},proxy:!0}])},[a("v-img",{staticStyle:{width:"100px"},attrs:{src:"/repair.png"}}),a("strong",[e._v("REPAIR")])],1)],1)],1),a("v-col",{attrs:{cols:"12",sm:"4"}},[a("v-card",{staticClass:"pa-2",attrs:{outlined:"",tile:""}},[a("vs-button",{staticStyle:{"background-color":"white","min-width":"70px",color:"black"},attrs:{"animation-type":"scale"},on:{click:function(t){return e.request({name:"CLEANING",id:2})}},scopedSlots:e._u([{key:"animate",fn:function(){return[a("strong",{staticStyle:{"margin-left":"10px"}},[e._v("REQUEST ⚙")]),a("v-img",{staticStyle:{width:"70px",height:"70px"},attrs:{src:"/cleaning.png"}})]},proxy:!0}])},[a("v-img",{staticStyle:{width:"90px"},attrs:{src:"/cleaning.png"}}),a("strong",[e._v("CLEANING")])],1)],1)],1),a("v-col",{attrs:{cols:"12",sm:"4"}},[a("v-card",{staticClass:"pa-2",attrs:{outlined:"",tile:""}},[a("vs-button",{staticStyle:{"background-color":"white","min-width":"70px",color:"black"},attrs:{"animation-type":"scale"},on:{click:function(t){return e.request({name:"SITE SURVEY",id:3})}},scopedSlots:e._u([{key:"animate",fn:function(){return[a("strong",{staticStyle:{"margin-left":"10px"}},[e._v("REQUEST ⚙")]),a("v-img",{staticStyle:{width:"70px",height:"70px"},attrs:{src:"/survey.png"}})]},proxy:!0}])},[a("v-img",{staticStyle:{width:"100px"},attrs:{src:"/survey.png"}}),a("strong",[e._v("SITE SURVEY")])],1)],1)],1),a("v-col",{attrs:{cols:"12",sm:"4"}},[a("v-card",{staticClass:"pa-2",attrs:{outlined:"",tile:""}},[a("vs-button",{staticStyle:{"background-color":"white","min-width":"70px",color:"black"},attrs:{"animation-type":"scale"},on:{click:function(t){return e.request({name:"INSTALLATION",id:4})}},scopedSlots:e._u([{key:"animate",fn:function(){return[a("strong",{staticStyle:{"margin-left":"10px"}},[e._v(" REQUEST ⚙")]),a("v-img",{staticStyle:{width:"70px",height:"70px"},attrs:{src:"/installation.png"}})]},proxy:!0}])},[a("v-img",{staticStyle:{width:"100px"},attrs:{src:"/installation.png"}}),a("strong",[e._v("INSTALLATION")])],1)],1)],1)],1)],1)],1)},os=[],ss=a("97fc"),cs=a.n(ss),ls=(a("1e11"),a("a84b")),ds={components:{VueTimepicker:cs.a},mixins:[nt["validationMixin"]],validations:{data:{units:{serialno:{required:ot["required"]},appliancetype:{required:ot["required"]},brand:{required:ot["required"]},model:{required:ot["required"]},unitcondition:{required:ot["required"]},warrantycondition:{required:ot["required"]},problem:{required:ot["required"]},customer:{required:ot["required"]}},usage:{propertytype:{required:ot["required"]},wallfinish:{required:ot["required"]},withpowersupply:{required:ot["required"]},area:{required:ot["required"]}}},customer:{cpnumber:{numeric:ot["numeric"],required:ot["required"],minLength:Object(ot["minLength"])(11),maxLength:Object(ot["maxLength"])(11)},lastname:{required:ot["required"]},firstname:{required:ot["required"]},bookby:{required:ot["required"]},barangay:{required:ot["required"]},mcity:{required:ot["required"]},province:{required:ot["required"]},region:{required:ot["required"]}}},data:function(){return{addIden:0,Identifier2:1,InstallationAddress:0,max:11,maxtelephone:8,text:"",sqm:"",usersData:[],isLoading:!1,itemsAuto:[],modelAuto:null,search:null,tab:null,ifcommercial:0,problemItemsAuto:[],problemAuto:null,searchP:null,restoreBK:!1,restoreHead:[{text:"REQUEST TYPE",value:"requesttype"},{text:"FIRSTNAME",value:"customer.firstname"},{text:"LASTNAME",value:"customer.lastname"},{text:"CONTACT NO",value:"customer.cpnumber"},{text:"DATE CREATED",value:"created_at"},{text:"RESTORE",value:"ActionRestore"}],restoreList:[],checkrecords:!1,msg:{data:{ref:"",iden:4}},RefDialog:!1,confirmdialog:!1,reqIdentifier:0,requestType:"",row:null,bookingmodal:!1,date:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10),menu:!1,time:null,menu2:!1,menu3:!1,modal2:!1,activerequest:{name:""},selectedIndex:"",units:[],storeDataFinal:[],customerList:[],customerListHeaders:[{text:"FIRST NAME",value:"firstname"},{text:"LAST NAME",value:"lastname"},{text:"MOBILE NUMBER",value:"cpnumber"}],customer:{landmark:"",customerCity:"",cpnumber:"",lastname:"",firstname:"",emailaddress:"",middlename:"",contactperson:"",telephoneno:"",houseno:"",street:"",region:"",barangay:"",mcity:{},province:"",locationunit:"",organization:"",organizationname:"",attachment:[],specialinstruction:"N/A",additionalrequest1:"N/A",additionalrequest2:"N/A",bookby:""},data:{units:{problem:"",prodcategories:"",appliancetype:"",brand:"",model:"",serialno:"",unitcondition:"",warrantycondition:"",qty:1,demandreplacement:"",priority:"",datepurchase:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10)},usage:{or:"",propertytype:"",level:"",location:"",wallfinish:"",withpowersupply:"",area:0,deliverydate:"",time:null,locationofinstallation:"",paidamoun:""}},usagedetailsListDown:{propertytype:[{name:"UNIVERSITY",value:"UNIVERSITY"},{name:"RESIDENTIAL",value:"RESIDENTIAL"},{name:"COMMERCIAL",value:"COMMERCIAL"},{name:"INDUSTRIAL",value:"INDUSTRIAL"},{name:"LAND",value:"LAND"}],level:[{name:"1st FLOOR",value:"1st FLOOR"},{name:"2nd FLOOR",value:"2nd FLOOR"},{name:"3rd FLOOR",value:"3rd FLOOR"},{name:"4th FLOOR",value:"4th FLOOR"},{name:"5th FLOOR",value:"5th FLOOR"},{name:"6th FLOOR",value:"6th FLOOR"},{name:"7th FLOOR",value:"7th FLOOR"},{name:"8th FLOOR",value:"8th FLOOR"},{name:"9th FLOOR",value:"9th FLOOR"},{name:"10th FLOOR",value:"10th FLOOR"},{name:"N/A",value:"N/A"}],location:[{name:"COMFORT ROOM",value:"COMFORT ROOM"},{name:"ENTERTAINMENT ROOM",value:"ENTERTAINMENT ROOM"},{name:"DINING ROOM",value:"DINING ROOM"},{name:"BED ROOM",value:"BED ROOM"},{name:"LIVING ROOM",value:"LIVING ROOM"},{name:"OFFICE",value:"OFFICE"},{name:"KITCHEN",value:"KITCHEN"},{name:"N/A",value:"N/A"}],wallfinish:[{name:"YES",value:"YES"},{name:"NO",value:"NO"},{name:"N/A",value:"N/A"}],withpowersupply:[{name:"INDOOR",value:"INDOOR"},{name:"OUTDOOR",value:"OUTDOOR"},{name:"NONE",value:"NONE"},{name:"N/A",value:"N/A"}]},addressesListDown:{region:[],barangay:[],mcity:[],province:[]},productListDown:{problem:[{name:"NOT COOLING",value:"NOT COOLING"},{name:"NOISY MOTOR",value:"NOISY MOTOR"},{name:"POOR COOLING",value:"POOR COOLING"},{name:"AUTO SHUT OFF",value:"AUTO SHUT OFF"},{name:"NO PICTURE",value:"NO PICTURE"},{name:"NO SOUND",value:"NO SOUND"}],prodcategories:[],appliancetype:[],brand:[],unitcondition:[{name:"BRAND NEW",value:"BRAND NEW"},{name:"REPO",value:"REPO"},{name:"STOCK",value:"STOCK"},{name:"CUSTOMER",value:"CUSTOMER"}],warrantycondition:[{name:"WARRANTY",value:"WARRANTY"},{name:"OUT WARRANTY",value:"OUT WARRANTY"}],demandreplacement:[{name:"7 DAYS WARRANTY",value:"7 DAYS WARRANTY"},{name:"DEFECTIVE UPON OPENING",value:"DEFECTIVE UPON OPENING"},{name:"N/A",value:"N/A"}],priority:[{name:"HIGH",value:"HIGH"},{name:"MEDIUM",value:"MEDIUM"},{name:"LOW",value:"LOW"}]}}},watch:{modelAuto:function(e){this.tab=null!=e?0:null},search:function(e){var t=this;this.itemsAuto.length>0||(this.isLoading=!0,fetch("http://appletronics.com.ph:8009/api/random/exec").then((function(e){return e.clone().json()})).then((function(e){t.itemsAuto=e})).catch((function(e){console.log(e)})).finally((function(){return t.isLoading=!1})))},problemAuto:function(e){this.tab=null!=e?0:null},searchP:function(e){var t=this;this.problemItemsAuto.length>0||(this.isLoading=!0,fetch("http://appletronics.com.ph:84/api2/problem.json").then((function(e){return e.clone().json()})).then((function(e){t.problemItemsAuto=e})).catch((function(e){console.log(e)})).finally((function(){return t.isLoading=!1})))}},created:function(){var e=this;Object(ls["regions"])().then((function(t){return e.addressesListDown.region=t})),this.usersData=this.$store.state.currentUser},computed:{areaError:function(){return parseFloat(this.sqm)<parseFloat(this.data.usage.area)?(alert("Area is Under Capacity"),"MAX SQM UP TO "+this.sqm):""},checkwarranty:function(){var e="WARRANTY"==this.data.units.warrantycondition;return e},appliancetypeError:function(){var e=[],t=null;return this.$v.data.units.appliancetype.$dirty?(t="This field is required.",!this.$v.data.units.appliancetype.required&&e.push(t),e):e},brandError:function(){var e=[],t=null;return this.$v.data.units.brand.$dirty?(t="This field is required.",!this.$v.data.units.brand.required&&e.push(t),e):e},serialError:function(){var e=[],t=null;return"REPAIR"==this.activerequest.name||"SITE SURVEY"==this.activerequest.name||"CLEANING"==this.activerequest.name?e:this.$v.data.units.serialno.$dirty?(t="This field is required.",!this.$v.data.units.serialno.required&&e.push(t),e):e},modelError:function(){var e=[],t=null;return this.$v.data.units.model.$dirty?(t="This field is required.",!this.$v.data.units.model.required&&e.push(t),e):e},qtyError:function(){var e=[],t=null;return this.$v.data.units.qty?(t="This field is required.",!this.$v.data.units.qty.required&&e.push(t),e):e},unitconditionError:function(){var e=[],t=null;return this.$v.data.units.unitcondition?(t="This field is required.",!this.$v.data.units.unitcondition.required&&e.push(t),e):e},lognameError:function(){var e=[],t=null;return this.$v.customer.bookby?(t="This field is required.",!this.$v.customer.bookby.required&&e.push(t),e):e},problemError:function(){var e=[],t=null;return this.$v.data.units.problem?(t="This field is required.",!this.$v.data.units.problem.required&&e.push(t),e):e},warrantyconditionError:function(){var e=[],t=null;return this.$v.data.units.warrantycondition?(t="This field is required.",!this.$v.data.units.warrantycondition.required&&e.push(t),e):e},cpnumberError:function(){var e=[],t=null;return 11!==this.customer.cpnumber.length&&(t="Ex: 09152212736",e.push(t)),e},checkIdentifier:function(){var e;return e=11!==this.customer.cpnumber.length?1:0,e},lastnameError:function(){var e=[],t=null;return this.$v.customer.lastname?(t="This field is required.",!this.$v.customer.lastname.required&&e.push(t),e):e},firstnameError:function(){var e=[],t=null;return this.$v.customer.firstname?(t="This field is required.",!this.$v.customer.firstname.required&&e.push(t),e):e},middlenameError:function(){var e=[],t=null;return this.$v.customer.middlename?(t="This field is required.",!this.$v.customer.middlename.required&&e.push(t),e):e},contactpersonError:function(){var e=[],t=null;return this.$v.customer.contactperson?(t="This field is required.",!this.$v.customer.contactperson.required&&e.push(t),e):e},housenoError:function(){var e=[],t=null;return this.$v.customer.houseno?(t="This field is required.",!this.$v.customer.houseno.required&&e.push(t),e):e},streetError:function(){var e=[],t=null;return this.$v.customer.street?(t="This field is required.",!this.$v.customer.street.required&&e.push(t),e):e},barangayError:function(){var e=[],t=null;return this.$v.customer.barangay?(t="This field is required.",!this.$v.customer.barangay.required&&e.push(t),e):e},mcityError:function(){var e=[],t=null;return this.$v.customer.mcity?(t="This field is required.",!this.$v.customer.mcity.required&&e.push(t),e):e},provinceError:function(){var e=[],t=null;return this.$v.customer.province?(t="This field is required.",!this.$v.customer.province.required&&e.push(t),e):e},regionError:function(){var e=[],t=null;return this.$v.customer.region?(t="This field is required.",!this.$v.customer.region.required&&e.push(t),e):e},CustomerALLError:function(){return this.$v.customer.$touch(),!!this.$v.customer.$error||(!this.units||!this.units.length)},UnitsALLError:function(){if("REPAIR"==this.activerequest.name){if(this.$v.data.units.$touch(),!this.$v.data.units.appliancetype.$error&&!this.$v.data.units.brand.$error&&!this.$v.data.units.unitcondition.$error&&!this.$v.data.units.warrantycondition.$error&&!this.$v.data.units.problem.$error)return!1}else if("SITE SURVEY"==this.activerequest.name||"CLEANING"==this.activerequest.name){if(!this.$v.data.units.appliancetype.$error&&!this.$v.data.units.brand.$error&&!this.$v.data.units.unitcondition.$error&&!this.$v.data.units.warrantycondition.$error)return!1}else if(!this.$v.data.units.appliancetype.$error&&!this.$v.data.units.brand.$error&&!this.$v.data.units.unitcondition.$error&&!this.$v.data.units.warrantycondition.$error&&!this.$v.data.units.serialno.$error)return!1;return!0},withpowersupplyError:function(){var e=[],t=null;return this.$v.data.usage.withpowersupply?(t="This field is required.",!this.$v.data.usage.withpowersupply.required&&e.push(t),e):e},wallfinishError:function(){var e=[],t=null;return this.$v.data.usage.wallfinish?(t="This field is required.",!this.$v.data.usage.wallfinish.required&&e.push(t),e):e},propertytypeError:function(){var e=[],t=null;return this.$v.data.usage.propertytype?(t="This field is required.",!this.$v.data.usage.propertytype.required&&e.push(t),e):e}},methods:{regionD:function(){var e=this;Object(ls["provinces"])(this.customer.region).then((function(t){return e.addressesListDown.province=t}))},provinceD:function(){var e=this;Object(ls["provinceByName"])(this.customer.province).then((function(t){return Object(ls["cities"])(t.province_code).then((function(t){return e.addressesListDown.mcity=t}))}))},mcityD:function(){var e=this;Object(ls["barangays"])(this.customer.mcity).then((function(t){return e.addressesListDown.barangay=t}))},brgyD:function(){var e=this;Object(ls["citiesName"])(this.customer.mcity).then((function(t){return e.customer.customerCity=t[0].city_name}))},getindex:function(){this.data.units.prodcategories},gen:function(){var e={units:{prodcategories:"AIRCONDITION",appliancetype:"SPLIT TYPE",brand:"CARRIER",model:"LG2-374933",serialno:"342546335",unitcondition:"BRAND NEW",warrantycondition:"OUT WARRANTY",qty:1,demandreplacement:"7 DAYS WARRANTY",priority:"HIGH",datepurchase:"12/12/2022"}},t={usage:{propertytype:"UNIVERSITY",level:"1 FLOOR",location:"OFFICE",area:"200",wallfinish:"YES",withpowersupply:"YES",deliverydate:"",time:null,locationofinstallation:"ASINGAN",paidamoun:"20000"},units:{prodcategories:"AIRCONDITION",appliancetype:"SPLIT TYPE",brand:"CARRIER",model:"LG2-374933",serialno:"342546335",unitcondition:"BRAND NEW",warrantycondition:"OUT WARRANTY",qty:1,demandreplacement:"7 DAYS WARRANTY",priority:"HIGH",datepurchase:"12/12/2022"}};this.customer={cpnumber:"9384736475",lastname:"CALIMLIM",firstname:"STEVEN",emailaddress:"calimlim.steven@gmail.com",middlename:"FERNANDEZ",contactperson:"JAMES DOE",telephoneno:"34534453",houseno:"243",street:"PUROK SILAW",barangay:"Domanpot",mcity:"Asingan",province:"Pangasinan",locationunit:"N/A",organization:"1",attachment:[],specialinstruction:"NONE",additionalrequest1:"Long ladder needed for unit located above 10ft/3m (+Php 380)",additionalrequest2:""},"INSTALLATION"==this.activerequest.name&&(this.data=t),"CLEANING"==this.activerequest.name&&(this.data=e)},add:function(){if("INSTALLATION"==this.activerequest.name)if(""!==this.data.usage.area){if(this.$v.data.units.$touch(),this.$v.data.usage.$touch(),!this.$v.data.units.appliancetype.$error&&!this.$v.data.units.brand.$error&&!this.$v.data.units.model.$error&&!this.$v.data.units.unitcondition.$error&&!this.$v.data.units.warrantycondition.$error&&!this.$v.data.usage.$error){var e={unitid:"UNIT-"+this.data.units.brand+"-"+Math.ceil(1e6*Math.random()),prodcategories:this.data.units.prodcategories,appliancetype:this.data.units.appliancetype,brand:this.data.units.brand,model:this.data.units.model,serialno:this.data.units.serialno,unitcondition:this.data.units.unitcondition,warrantycondition:this.data.units.warrantycondition,qty:this.data.units.qty,demandreplacement:this.data.units.demandreplacement,priority:this.data.units.priority,datepurchase:this.data.units.datepurchase,problem:this.data.units.problem,ornumber:this.data.usage.or,propertytype:this.data.usage.propertytype,level:this.data.usage.level,location:this.data.usage.location,area:this.data.usage.area,wallfinish:this.data.usage.wallfinish,withpowersupply:this.data.usage.withpowersupply,deliverydate:this.data.usage.deliverydate,time:this.data.usage.time,locationofinstallation:0==this.InstallationAddress?0:this.data.usage.locationofinstallation,paidamoun:this.data.usage.paidamoun};this.units.push(e),this.storeDataFinal.push(e),this.addIden=1}}else alert("Area Required!");else if("REPAIR"==this.activerequest.name){if(this.$v.data.units.$touch(),!this.$v.data.units.appliancetype.$error&&!this.$v.data.units.brand.$error&&!this.$v.data.units.model.$error&&!this.$v.data.units.unitcondition.$error&&!this.$v.data.units.warrantycondition.$error&&!this.$v.data.units.problem.$error){var t={unitid:"UNIT-"+this.data.units.brand+"-"+Math.ceil(1e6*Math.random()),prodcategories:this.data.units.prodcategories,appliancetype:this.data.units.appliancetype,brand:this.data.units.brand,model:this.data.units.model,serialno:this.data.units.serialno,unitcondition:this.data.units.unitcondition,warrantycondition:this.data.units.warrantycondition,qty:this.data.units.qty,demandreplacement:this.data.units.demandreplacement,priority:this.data.units.priority,datepurchase:this.data.units.datepurchase,problem:this.data.units.problem,ornumber:this.data.usage.or,propertytype:this.data.usage.propertytype,level:this.data.usage.level,location:this.data.usage.location,area:this.data.usage.area,wallfinish:this.data.usage.propertytype,withpowersupply:this.data.usage.wallfinish,deliverydate:this.data.usage.deliverydate,time:this.data.usage.time,locationofinstallation:0==this.InstallationAddress?0:this.data.usage.locationofinstallation,paidamoun:this.data.usage.paidamoun};this.units.push(t),this.storeDataFinal.push(t),this.addIden=1}}else if(this.$v.data.units.$touch(),!this.$v.data.units.appliancetype.$error&&!this.$v.data.units.brand.$error&&!this.$v.data.units.model.$error&&!this.$v.data.units.unitcondition.$error&&!this.$v.data.units.warrantycondition.$error){var a={unitid:"UNIT-"+this.data.units.brand+"-"+Math.ceil(1e6*Math.random()),prodcategories:this.data.units.prodcategories,appliancetype:this.data.units.appliancetype,brand:this.data.units.brand,problem:this.data.units.problem,model:this.data.units.model,serialno:this.data.units.serialno,unitcondition:this.data.units.unitcondition,warrantycondition:this.data.units.warrantycondition,qty:this.data.units.qty,demandreplacement:this.data.units.demandreplacement,priority:this.data.units.priority,datepurchase:this.data.units.datepurchase,locationofinstallation:0==this.InstallationAddress?0:this.data.usage.locationofinstallation};this.units.push(a),this.storeDataFinal.push(a),this.addIden=1}},editItem:function(){var e=this.units[0];this.productListDown.prodcategories={name:e.prodcategories,value:e.prodcategories},this.productListDown.appliancetype={name:e.appliancetype,value:e.appliancetype},this.productListDown.brand={name:e.brand,value:e.brand},this.data={units:{prodcategories:e.prodcategories,appliancetype:e.appliancetype,brand:e.brand,model:e.model,serialno:e.serialno,unitcondition:e.unitcondition,warrantycondition:e.warrantycondition,qty:e.qty,demandreplacement:e.demandreplacement,priority:e.priority,datepurchase:e.datepurchase,problem:e.problem},usage:{propertytype:e.propertytype,level:e.level,location:e.location,area:e.area,wallfinish:e.wallfinish,withpowersupply:e.withpowersupply,deliverydate:e.deliverydate,time:e.time,locationofinstallation:e.locationofinstallation,paidamoun:e.paidamoun,or:e.ornumber}}},trashUnits:function(e){this.addIden=0,this.units.splice(this.units.indexOf(e),1),this.storeDataFinal.splice(this.storeDataFinal.indexOf(e),1)},checkoutFinal:function(){this.$v.customer.$error||(this.confirmdialog=!0)},checkout:function(){this.$v.customer.$touch(),1==this.checkwarranty?0!==this.customer.attachment.length?this.checkoutFinal():(this.reqIdentifier,3==this.reqIdentifier||2==this.reqIdentifier?this.checkoutFinal():alert("Please Attach Sales Invoice to Proceed")):this.checkoutFinal()},increment:function(){this.data.units.qty++},decrement:function(){1===this.data.units.qty?alert("Negative quantity not allowed"):this.data.units.qty--},rebook:function(){this.addIden=0,this.confirmdialog=!1,this.storeDataFinal=[],this.units=[],this.requestType="REF-"+this.activerequest+"-"+Math.ceil(1e6*Math.random()),this.data={units:{prodcategories:"",appliancetype:"",brand:"",model:"",serialno:"",unitcondition:"",warrantycondition:"",qty:"",demandreplacement:"",priority:"",datepurchase:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10)},usage:{propertytype:"",level:"",location:"",or:"",area:"",wallfinish:"",withpowersupply:"",deliverydate:"",time:null,locationofinstallation:"",paidamoun:""}}},request:function(e){this.clearcookies(),this.bookingmodal=!0,this.activerequest=e,this.reqIdentifier=e.id,this.requestType="REF-"+e.name+"-"+Math.ceil(1e6*Math.random())},submit:function(e){var t=this,a={identify:e,requestid:this.requestType,requestType:this.activerequest.name,customer:this.customer,units:this.storeDataFinal};this.$store.dispatch("app_booking_sys/storeBooking",a).then((function(e){t.msg=e,t.RefDialog=!0,t.$socket.emit("notification",1)}))},refresh:function(){},clearcookies:function(){this.storeDataFinal=[],this.units=[],this.reqIdentifier=0,this.customer={bookby:"",cpnumber:"",lastname:"",firstname:"",emailaddress:"",middlename:"",contactperson:"",telephoneno:"",houseno:"",street:"",barangay:"",mcity:"",province:"",locationunit:"",organization:"",attachment:[],specialinstruction:"",additionalrequest1:"",additionalrequest2:""},this.data={units:{prodcategories:"",appliancetype:"",brand:"",model:"",serialno:"",unitcondition:"",warrantycondition:"",qty:"",demandreplacement:"",priority:"",datepurchase:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10)},usage:{or:"",propertytype:"",level:"",location:"",area:"",wallfinish:"",withpowersupply:"",deliverydate:"",time:null,locationofinstallation:"",paidamoun:""}}},trash:function(e){},checkRecExist:function(){var e=this,t={number:this.customer.cpnumber};this.$store.dispatch("app_booking_sys/JobsCheckRecords",t).then((function(t){e.customerList=t.data,e.customerList[0]?(e.Identifier2=2,e.selectedCustomer(e.customerList[0])):e.Identifier2=2}))},selectedCustomer:function(e){this.addressesListDown.province={province_name:e.province,brgy_code:e.province},this.addressesListDown.mcity={city_name:e.mcity,brgy_code:e.mcity},this.addressesListDown.barangay={brgy_name:e.barangay,brgy_code:e.barangay},this.customer={customerCity:e.mcity,cpnumber:e.cpnumber,lastname:e.firstname,firstname:e.lastname,emailaddress:e.emailaddress,middlename:e.middlename,contactperson:e.contactperson,telephoneno:e.telephoneno,attachment:[],region:e.region_id,houseno:e.houseno,street:e.street,barangay:e.barangay,mcity:e.mcity,province:e.province},this.checkrecords=!1},restore:function(){var e=this;this.restoreBK=!0;var t={type:this.requestType};this.$store.dispatch("app_booking_sys/restoreBk",t).then((function(t){e.restoreList=t.data,console.log(t.data)}))},restoreNow:function(e){var t=[];e.units.map((function(e,a){var i={unitid:"UNIT-"+e.brand+"-"+Math.ceil(1e6*Math.random()),prodcategories:e.prodcategories,appliancetype:e.appliancetype,brand:e.brand,model:e.model,serialno:e.serialno,unitcondition:e.unitcondition,warrantycondition:e.warrantycondition,qty:e.qty,demandreplacement:e.demandreplacement,priority:e.priority,datepurchase:e.datepurchase,problem:e.problem,propertytype:e.propertytype,level:e.level,location:e.location,area:e.area,wallfinish:e.wallfinish,withpowersupply:e.withpowersupply,deliverydate:e.deliverydate,time:e.time,locationofinstallation:e.locationofinstallation,paidamoun:e.paidamoun};t.push(i)})),this.units=t,this.storeDataFinal=t,this.addressesListDown.province={province_name:e.customer.province,brgy_code:e.customer.province},this.addressesListDown.mcity={city_name:e.customer.mcity,brgy_code:e.customer.mcity},this.addressesListDown.barangay={brgy_name:e.customer.barangay,brgy_code:e.customer.barangay},this.customer={organizationname:e.organizationname,bookby:e.bookby,customerCity:e.customer.mcity,cpnumber:e.customer.cpnumber,lastname:e.customer.lastname,firstname:e.customer.firstname,region:{region_code:e.customer.region_id},emailaddress:"null"==e.customer.emailaddress?"N/A":e.customer.emailaddress,middlename:e.customer.middlename,contactperson:e.customer.contactperson,telephoneno:"null"==e.customer.telephoneno?"N/A":e.customer.telephoneno,landmark:e.landmark,houseno:e.customer.houseno,street:e.customer.street,barangay:e.customer.barangay,mcity:e.customer.mcity,province:e.customer.province,locationunit:e.customer.locationunit,organization:e.customer.organization,attachment:e.attachment?[{name:e.filename,path:e.attachment}]:"",specialinstruction:e.customer.specialinstruction,additionalrequest1:e.customer.additionalrequest1,additionalrequest2:e.customer.additionalrequest2},this.$store.dispatch("app_booking_sys/closeRestore",{id:e["id"]}),this.restoreList.splice(this.restoreList.indexOf(e),1),this.addIden=1,this.editItem()},modelsActivate:function(e){if(this.sqm=e.SQM,this.productListDown.prodcategories=e.categories,this.productListDown.appliancetype=e.type,this.productListDown.brand=e.Brand,this.data.units.brand=e.Brand,this.data.units.prodcategories=e.categories,1==e.nomodel&&(this.productListDown.brand=e.Brand2,this.productListDown.prodcategories=e.cat,this.productListDown.appliancetype=e.type),e.type)this.data.units.appliancetype=e.type;else{var t=[{name:"SPLIT TYPE",value:"SPLIT TYPE"},{name:"WINDOW TYPE",value:"WINDOW TYPE"},{name:"FLOOR MOUNTED",value:"FLOOR MOUNTED"},{name:"CEILING CASSETTE",value:"CEILING CASSETTE"},{name:"CEILING MOUNTED",value:"CEILING MOUNTED"},{name:"PORTABLE TYPE",value:"PORTABLE TYPE"},{name:"VRF TYPE",value:"VRF TYPE"},{name:"MULTI-SPLIT TYPE",value:"MULTI-SPLIT TYPE"}],a=[{name:"SIDE BY SIDE",value:"SIDE BY SIDE"},{name:"TWO DOOR",value:"TWO DOOR"},{name:"SINGLE DOOR",value:"SINGLE DOOR"}],i=[{name:"N/A",value:"N/A"}],r=e.categories;this.productListDown.appliancetype="REFRIGERATOR"==r?a:"AIRCONDITION"==r?t:i}},booknew:function(){this.addIden=0,this.confirmdialog=!1,this.storeDataFinal=[],this.units=[],this.requestType="REF-"+this.activerequest.name+"-"+Math.ceil(1e6*Math.random()),this.data={units:{prodcategories:"",appliancetype:"",brand:"",model:"",serialno:"",unitcondition:"",warrantycondition:"",qty:"",demandreplacement:"",priority:"",datepurchase:new Date(Date.now()-6e4*(new Date).getTimezoneOffset()).toISOString().substr(0,10)},usage:{propertytype:"",level:"",location:"",area:"",wallfinish:"",withpowersupply:"",deliverydate:"",time:null,locationofinstallation:"",paidamoun:""}},this.customer={cpnumber:"",lastname:"",firstname:"",emailaddress:"",middlename:"",contactperson:"",telephoneno:"",houseno:"",street:"",barangay:"",mcity:"",province:"",locationunit:"",organization:"",attachment:[],specialinstruction:"",additionalrequest1:"",additionalrequest2:""}},autoclear:function(){var e=this.data.units.model?1:2;2==e&&(this.data.units.prodcategories="",this.data.units.appliancetype="",this.data.units.brand="",this.data.units.model="",this.productListDown.brand="",this.productListDown.prodcategories="",this.productListDown.appliancetype="")},onlyNumber:function(e){var t=e.keyCode?e.keyCode:e.which;(t<48||t>57)&&e.preventDefault()},checkrecordauto:function(){11==this.customer.cpnumber.length&&this.checkRecExist()},checkAreaKey:function(e){parseInt(this.sqm)<this.data.usage.area?(e.keyCode>48&&e.preventDefault(),this.data.usage.area=0):console.log("pasok");var t=e.keyCode?e.keyCode:e.which;(t<48||t>57)&&46!==t&&e.preventDefault()},verifywall:function(){console.log(this.data.usage.wallfinish),"NO"==this.data.usage.wallfinish&&alert("NOT ADVISABLE TO INSTALL DUE TO WALL NOT YET FINISH PROCEED, DISREGARD, SAVE AS DRAFT AS A CHOICE")},addressV:function(){1==this.InstallationAddress?this.data.usage.locationofinstallation="":this.data.usage.locationofinstallation=0,console.log(this.data.usage.locationofinstallation)},propertyTypeController:function(){"RESIDENTIAL"!==this.data.usage.propertytype?(this.data.usage.level="N/A",this.data.usage.location="N/A",this.data.usage.wallfinish="N/A",this.data.usage.withpowersupply="N/A",this.data.usage.area="N/A",this.ifcommercial=1):(this.ifcommercial=0,this.usagedetailsListDown={propertytype:[{name:"UNIVERSITY",value:"UNIVERSITY"},{name:"RESIDENTIAL",value:"RESIDENTIAL"},{name:"COMMERCIAL",value:"COMMERCIAL"},{name:"INDUSTRIAL",value:"INDUSTRIAL"},{name:"LAND",value:"LAND"}],level:[{name:"1st FLOOR",value:"1st FLOOR"},{name:"2nd FLOOR",value:"2nd FLOOR"},{name:"3rd FLOOR",value:"3rd FLOOR"},{name:"4th FLOOR",value:"4th FLOOR"},{name:"5th FLOOR",value:"5th FLOOR"},{name:"6th FLOOR",value:"6th FLOOR"},{name:"7th FLOOR",value:"7th FLOOR"},{name:"8th FLOOR",value:"8th FLOOR"},{name:"9th FLOOR",value:"9th FLOOR"},{name:"10th FLOOR",value:"10th FLOOR"}],location:[{name:"COMFORT ROOM",value:"COMFORT ROOM"},{name:"ENTERTAINMENT ROOM",value:"ENTERTAINMENT ROOM"},{name:"DINING ROOM",value:"DINING ROOM"},{name:"BED ROOM",value:"BED ROOM"},{name:"LIVING ROOM",value:"LIVING ROOM"},{name:"OFFICE",value:"OFFICE"},{name:"KITCHEN",value:"KITCHEN"}],wallfinish:[{name:"YES",value:"YES"},{name:"NO",value:"NO"}],withpowersupply:[{name:"INDOOR",value:"INDOOR"},{name:"OUTDOOR",value:"OUTDOOR"},{name:"NONE",value:"NONE"}]})},reset:function(){this.addIden=0}}},us=ds,ms=(a("1939"),a("8270")),ps=Object(m["a"])(us,ns,os,!1,null,null,null),vs=ps.exports;v()(ps,{VAutocomplete:xt["a"],VBtn:O["a"],VCard:N["a"],VCardActions:$["a"],VCardText:$["c"],VCardTitle:$["d"],VChip:w["a"],VCol:R["a"],VContainer:we["a"],VDataTable:P["a"],VDatePicker:Pi["a"],VDialog:V["a"],VDivider:h["a"],VFileInput:sr["a"],VIcon:f["a"],VImg:q["a"],VList:_["a"],VListItem:b["a"],VListItemAction:x["a"],VListItemAvatar:ms["a"],VListItemContent:T["b"],VListItemSubtitle:T["c"],VListItemTitle:T["d"],VMenu:U["a"],VRadio:cr["a"],VRadioGroup:lr["a"],VRow:B["a"],VSelect:M["a"],VSimpleTable:er["a"],VSpacer:F["a"],VTextField:qe["a"],VTextarea:z["a"],VToolbar:W["a"],VToolbarItems:J["a"],VToolbarTitle:J["b"]});var hs=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[a("v-flex",{attrs:{xs12:""}},[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"3"}},[a("v-skeleton-loader",{staticClass:"mx-auto",attrs:{"max-height":"80",type:"card",loading:e.loadingForCount}},[a("v-card",{staticClass:"pa-2",attrs:{outlined:"",tile:"",color:e.bgselected0},on:{click:function(t){return e.selected(0)}}},[a("v-icon",{staticStyle:{"margin-right":"5px",color:"red"}},[e._v("mdi-email-alert")]),a("strong",[e._v("Unassigned "),a("h2",[e._v(e._s(e.jobsCounts.unsigned)+" ")])])],1)],1)],1),a("v-col",{attrs:{cols:"12",sm:"3"}},[a("v-skeleton-loader",{staticClass:"mx-auto",attrs:{"max-height":"80",type:"card",loading:e.loadingForCount}},[a("v-card",{staticClass:"pa-2",attrs:{outlined:"",tile:"",color:e.bgselected1},on:{click:function(t){return e.selected(1)}}},[a("v-icon",{staticStyle:{"margin-right":"5px",color:"yellowgreen"}},[e._v("mdi-account-check")]),a("strong",[e._v("Accepted "),a("h2",[e._v(e._s(e.jobsCounts.accepted))])])],1)],1)],1),a("v-col",{attrs:{cols:"12",sm:"3"}},[a("v-skeleton-loader",{staticClass:"mx-auto",attrs:{"max-height":"80",type:"card",loading:e.loadingForCount}},[a("v-card",{staticClass:"pa-2",attrs:{outlined:"",tile:"",color:e.bgselected2},on:{click:function(t){return e.selected(2)}}},[a("v-icon",{staticStyle:{"margin-right":"5px",color:"blue"}},[e._v("mdi-teamviewer")]),a("strong",[e._v("Dispatch to Other ASC "),a("h2",[e._v(e._s(e.jobsCounts.asc))])])],1)],1)],1),a("v-col",{attrs:{cols:"12",sm:"3"}},[a("v-skeleton-loader",{staticClass:"mx-auto",attrs:{"max-height":"80",type:"card",loading:e.loadingForCount}},[a("v-card",{staticClass:"pa-2",attrs:{outlined:"",tile:"",color:e.bgselected3},on:{click:function(t){return e.selected(3)}}},[a("v-icon",{staticStyle:{"margin-right":"5px",color:"red"}},[e._v("mdi-account-off")]),a("strong",[e._v("Rejected "),a("h2",[e._v(e._s(e.jobsCounts.rejected))])])],1)],1)],1)],1)],1),a("v-card-title",[a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("vs-button",{on:{click:e.refreshData}},[a("v-icon",{attrs:{color:"white"}},[e._v("mdi-refresh")])],1)],1),a("v-skeleton-loader",{staticClass:"mx-auto",attrs:{type:"table-heading, list-item-two-line, image, table-tfoot",loading:e.loadingForTable}},[a("v-data-table",{staticClass:"elevation-1",attrs:{dense:"",headers:e.headers,items:e.data,"item-key":"requestid",search:e.search,"items-per-page":5},scopedSlots:e._u([{key:"item.requestid",fn:function(t){var a=t.item;return[e._v(" "+e._s("REPAIR"==a.requesttype?"SERVICE":a.requesttype)+" ")]}},{key:"item.callid",fn:function(t){var a=t.item;return[e._v(" "+e._s(a.callid)+" ")]}},{key:"item.customer",fn:function(t){var a=t.item;return[e._v(" "+e._s(a.customer.lastname)+", "+e._s(a.customer.firstname)+" ")]}},{key:"item.producttype",fn:function(t){var i=t.item;return e._l(i.units,(function(t,i){return a("div",{key:i},[e._v(" "+e._s(t.prodcategories)+" ")])}))}},{key:"item.notes",fn:function(t){var i=t.item;return[a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,n=t.attrs;return[a("span",e._g(e._b({},"span",n,!1),r),[e._v(e._s(e.truncateString(i.notes,15)))])]}}],null,!0)},[a("span",[e._v(e._s(i.notes))])])]}},{key:"item.action",fn:function(t){var i=t.item;return[a("vs-button-group",[a("vs-button",{attrs:{icon:"",border:""},on:{click:function(t){return e.view(i)}}},[a("v-icon",[e._v(" mdi-folder-open")])],1),e.superadminpermission?a("vs-button",{attrs:{icon:"",border:""},on:{click:function(t){return e.trash(i)}}},[a("v-icon",{staticStyle:{color:"red"}},[e._v(" mdi-delete-forever")])],1):e._e()],1)]}},{key:"item.created_at",fn:function(t){var a=t.item;return[e._v(" "+e._s(new Date(a.created_at).toLocaleString([],{year:"numeric",month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit"}))+" ")]}}])})],1),a("v-dialog",{attrs:{"hide-overlay":"",fullscreen:"",transition:"dialog-bottom-transition"},model:{value:e.jobsInfo,callback:function(t){e.jobsInfo=t},expression:"jobsInfo"}},[a("v-card",[a("v-toolbar",{staticStyle:{background:"linear-gradient("},attrs:{dark:""}},[a("v-btn",{attrs:{icon:"",dark:""},on:{click:function(t){e.jobsInfo=!1}}},[a("v-icon",[e._v("mdi-close")])],1),a("v-toolbar-title",[e._v("Job Status Update: "),a("strong",[e._v(e._s(0==e.jobsData.status?"Unassigned":1==e.jobsData.status?"Accepted":2==e.jobsData.status?"Dispatch to Other ASC":"Rejected")+" / "+e._s(e.jobsData.callid))])]),a("v-spacer"),a("v-toolbar-items")],1),a("v-list",{attrs:{"three-line":"",subheader:""}},[a("v-subheader",[e._v("Product Information")]),a("v-list-item",[a("v-list-item-content",[a("v-data-table",{attrs:{dense:"",headers:e.unitsHeader,items:e.unitsData},scopedSlots:e._u([{key:"item.serialno",fn:function(t){var i=t.item;return[a("v-text-field",{attrs:{dense:"",disabled:!!e.checkpermission},on:{keyup:function(t){return e.updatedserial({id:i.id,value:i.serialno})}},model:{value:i.serialno,callback:function(t){e.$set(i,"serialno",t)},expression:"item.serialno"}})]}}])})],1)],1)],1),a("v-list",{attrs:{"three-line":"",subheader:""}},[a("v-subheader",[e._v("Customer Information")]),a("v-list-item",[a("v-list-item-content",[a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{attrs:{cols:"12",sm:"3"}},["INSTALLATION"==e.reqtype?a("v-card",{staticClass:"pa-2",staticStyle:{height:"185px"}},[a("strong",[e._v("Contact Phone Number")]),a("br"),e._v(" "+e._s(e.jobsData.customer.cpnumber?e.jobsData.customer.cpnumber:"N/A")),a("br"),a("strong",[e._v("Last Name")]),a("br"),e._v(" "+e._s(e.jobsData.customer.lastname?e.jobsData.customer.lastname:"N/A")),a("br"),a("strong",[e._v("Municipality")]),a("br"),e._v(" "+e._s(e.jobsData.customer.mcity?e.jobsData.customer.mcity:"N/A")),a("br"),a("strong",[e._v("Dealer Name")]),a("br"),e._v(" "+e._s(e.jobsData.branch.name)),a("br"),0!=e.jobsData.status?a("strong",[e._v("Date of Installation")]):e._e(),a("br"),e._v(" "+e._s(0!=e.jobsData.status?e.jobsData.installationdate?e.jobsData.installationdate:"N/A":"")+" ")]):e._e(),"SITE SURVEY"==e.reqtype?a("v-card",{staticClass:"pa-2",staticStyle:{height:"185px"}},[a("strong",[e._v("Contact Phone Number")]),a("br"),e._v(" "+e._s(e.jobsData.customer.cpnumber?e.jobsData.customer.cpnumber:"N/A")),a("br"),a("strong",[e._v("Last Name")]),a("br"),e._v(" "+e._s(e.jobsData.customer.lastname?e.jobsData.customer.lastname:"N/A")),a("br"),a("strong",[e._v("Municipality")]),a("br"),e._v(" "+e._s(e.jobsData.customer.mcity?e.jobsData.customer.mcity:"N/A")),a("br"),a("strong",[e._v("Dealer Name")]),a("br"),e._v(" "+e._s(e.jobsData.branch.name)),a("br"),0!=e.jobsData.status?a("strong",[e._v("Date of Survey")]):e._e(),a("br"),e._v(" "+e._s(0!=e.jobsData.status?e.jobsData.installationdate?e.jobsData.installationdate:"N/A":"")+" ")]):e._e(),"REPAIR"==e.reqtype||"CLEANING"==e.reqtype?a("v-card",{staticClass:"pa-2",staticStyle:{height:"185px"}},[a("strong",[e._v("Contact Phone Number")]),a("br"),e._v(" "+e._s(e.jobsData.customer.cpnumber?e.jobsData.customer.cpnumber:"N/A")),a("br"),a("strong",[e._v("Last Name")]),a("br"),e._v(" "+e._s(e.jobsData.customer.lastname?e.jobsData.customer.lastname:"N/A")),a("br"),a("strong",[e._v("Municipality")]),a("br"),e._v(" "+e._s(e.jobsData.customer.mcity?e.jobsData.customer.mcity:"N/A")),a("br"),a("strong",[e._v("Dealer Name")]),a("br"),e._v(" "+e._s(e.jobsData.branch.name)),a("br")]):e._e()],1),a("v-col",{attrs:{cols:"12",sm:"3"}},["INSTALLATION"==e.reqtype?a("v-card",{staticClass:"pa-2",staticStyle:{height:"185px"}},[a("strong",[e._v("Contact Email Address")]),a("br"),e._v(" "+e._s(e.jobsData.customer.emailaddress?e.jobsData.customer.emailaddress:"N/A")),a("br"),a("strong",[e._v("First Name")]),a("br"),e._v(" "+e._s(e.jobsData.customer.firstname?e.jobsData.customer.firstname:"N/A")),a("br"),a("strong",[e._v("Barangay")]),a("br"),e._v(" "+e._s(e.jobsData.customer.barangay?e.jobsData.customer.barangay:"N/A")),a("br"),a("strong",[e._v("Name Of Organization")]),a("br"),e._v(" "+e._s(e.jobsData.organizationname?e.jobsData.organizationname:"N/A")),a("br")]):e._e(),"SITE SURVEY"==e.reqtype?a("v-card",{staticClass:"pa-2",staticStyle:{height:"185px"}},[a("strong",[e._v("Contact Email Address")]),a("br"),e._v(" "+e._s(e.jobsData.customer.emailaddress?e.jobsData.customer.emailaddress:"N/A")),a("br"),a("strong",[e._v("First Name")]),a("br"),e._v(" "+e._s(e.jobsData.customer.firstname?e.jobsData.customer.firstname:"N/A")),a("br"),a("strong",[e._v("Barangay")]),a("br"),e._v(" "+e._s(e.jobsData.customer.barangay?e.jobsData.customer.barangay:"N/A")),a("br"),a("strong",[e._v("Name Of Organization")]),a("br"),e._v(" "+e._s(e.jobsData.organizationname?e.jobsData.organizationname:"N/A")),a("br")]):e._e(),"REPAIR"==e.reqtype||"CLEANING"==e.reqtype?a("v-card",{staticClass:"pa-2",staticStyle:{height:"185px"}},[a("strong",[e._v("Contact Email Address")]),a("br"),e._v(" "+e._s(e.jobsData.customer.emailaddress?e.jobsData.customer.emailaddress:"N/A")),a("br"),a("strong",[e._v("First Name")]),a("br"),e._v(" "+e._s(e.jobsData.customer.firstname?e.jobsData.customer.firstname:"N/A")),a("br"),a("strong",[e._v("Barangay")]),a("br"),e._v(" "+e._s(e.jobsData.customer.barangay?e.jobsData.customer.barangay:"N/A")),a("br"),a("strong",[e._v("Special Request")]),a("br"),e._v(" "+e._s(e.jobsData.customer.specialinstruction?e.jobsData.customer.specialinstruction:"N/A")+" ")]):e._e()],1),a("v-col",{attrs:{cols:"12",sm:"3"}},["INSTALLATION"==e.reqtype?a("v-card",{staticClass:"pa-2",staticStyle:{height:"185px"}},[a("strong",[e._v("Alternate No ")]),a("br"),e._v(" "+e._s(e.jobsData.customer.telephoneno?e.jobsData.customer.telephoneno:"N/A")),a("br"),a("strong",[e._v("Middle Name")]),a("br"),e._v(" "+e._s(e.jobsData.customer.middlename?e.jobsData.customer.middlename:"N/A")),a("br"),a("strong",[e._v("Street")]),a("br"),e._v(" "+e._s(e.jobsData.customer.street?e.jobsData.customer.street:"N/A")),a("br"),a("strong",[e._v("Special Request")]),a("br"),e._v(" "+e._s(e.jobsData.customer.specialinstruction?e.jobsData.customer.specialinstruction:"N/A")+" ")]):e._e(),"SITE SURVEY"==e.reqtype?a("v-card",{staticClass:"pa-2",staticStyle:{height:"185px"}},[a("strong",[e._v("Alternate No ")]),a("br"),e._v(" "+e._s(e.jobsData.customer.telephoneno?e.jobsData.customer.telephoneno:"N/A")),a("br"),a("strong",[e._v("Middle Name")]),a("br"),e._v(" "+e._s(e.jobsData.customer.middlename?e.jobsData.customer.middlename:"N/A")),a("br"),a("strong",[e._v("Street")]),a("br"),e._v(" "+e._s(e.jobsData.customer.street?e.jobsData.customer.street:"N/A")),a("br"),a("strong",[e._v("Special Request")]),a("br"),e._v(" "+e._s(e.jobsData.customer.specialinstruction?e.jobsData.customer.specialinstruction:"N/A")+" ")]):e._e(),"REPAIR"==e.reqtype||"CLEANING"==e.reqtype?a("v-card",{staticClass:"pa-2",staticStyle:{height:"185px"}},[a("strong",[e._v("Alternate No ")]),a("br"),e._v(" "+e._s(e.jobsData.customer.telephoneno?e.jobsData.customer.telephoneno:"N/A")),a("br"),a("strong",[e._v("Middle Name")]),a("br"),e._v(" "+e._s(e.jobsData.customer.middlename?e.jobsData.customer.middlename:"N/A")),a("br"),a("strong",[e._v("Street")]),a("br"),e._v(" "+e._s(e.jobsData.customer.street?e.jobsData.customer.street:"N/A")),a("br"),0!=e.jobsData.status?a("strong",[e._v("Technician")]):e._e(),a("br"),e._v(" "+e._s(0!=e.jobsData.status?e.jobsData.installer?e.jobsData.installer:" ":"")),a("br")]):e._e()],1),a("v-col",{attrs:{cols:"12",sm:"3"}},["INSTALLATION"==e.reqtype?a("v-card",{staticClass:"pa-2",staticStyle:{height:"185px"}},[a("strong",[e._v("Contact Person")]),a("br"),e._v(" "+e._s(e.jobsData.customer.contactperson?e.jobsData.customer.contactperson:"N/A")),a("br"),a("strong",[e._v("Province")]),a("br"),e._v(" "+e._s(e.jobsData.customer.province)),a("br"),a("strong",[e._v("House No.")]),a("br"),e._v(" "+e._s(e.jobsData.customer.houseno?e.jobsData.customer.houseno:"N/A")),a("br"),0!=e.jobsData.status?a("strong",[e._v("Installer")]):e._e(),a("br"),e._v(" "+e._s(0!=e.jobsData.status?e.jobsData.installer?e.jobsData.installer:"N/A":"")),a("br")]):e._e(),"SITE SURVEY"==e.reqtype?a("v-card",{staticClass:"pa-2",staticStyle:{height:"185px"}},[a("strong",[e._v("Contact Person")]),a("br"),e._v(" "+e._s(e.jobsData.customer.contactperson?e.jobsData.customer.contactperson:"N/A")),a("br"),a("strong",[e._v("Province")]),a("br"),e._v(" "+e._s(e.jobsData.customer.province)),a("br"),a("strong",[e._v("House No.")]),a("br"),e._v(" "+e._s(e.jobsData.customer.houseno?e.jobsData.customer.houseno:"N/A")),a("br"),0!=e.jobsData.status?a("strong",[e._v("Technician")]):e._e(),a("br"),e._v(" "+e._s(0!=e.jobsData.status?e.jobsData.installer?e.jobsData.installer:"N/A":"")),a("br")]):e._e(),"REPAIR"==e.reqtype||"CLEANING"==e.reqtype?a("v-card",{staticClass:"pa-2",staticStyle:{height:"185px"}},[a("strong",[e._v("Contact Person")]),a("br"),e._v(" "+e._s(e.jobsData.customer.contactperson?e.jobsData.customer.contactperson:"N/A")),a("br"),a("strong",[e._v("Province")]),a("br"),e._v(" "+e._s(e.jobsData.customer.province)),a("br"),a("strong",[e._v("House No.")]),a("br"),e._v(" "+e._s(e.jobsData.customer.houseno?e.jobsData.customer.houseno:"N/A")),a("br"),0!=e.jobsData.status?a("strong",[e._v("Date of Service")]):e._e(),a("br"),e._v(" "+e._s(0!=e.jobsData.status?e.jobsData.installationdate?e.jobsData.installationdate:"N/A":"")+" ")]):e._e()],1)],1)],1)],1)],1),e.checkpermission?a("v-list",{attrs:{"three-line":"",subheader:""}},[e.superadminpermission&&0!=e.jobsData.status?a("v-subheader",[e._v("Job Status Update")]):e._e(),a("v-list-item",[a("v-list-item-content",[a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{attrs:{cols:"12",sm:"3"}},[e.jobsData.attachment?a("strong",[e._v("Sales Invoice")]):e._e(),a("br"),e.jobsData.attachment?a("v-btn",{attrs:{"x-small":"",color:"success"},on:{click:function(t){return e.download(e.jobsData.id)}}},[a("v-icon",[e._v("mdi-attachment")])],1):e._e(),a("br"),a("br"),a("v-card",{staticClass:"pa-1"},[a("v-text-field",{attrs:{label:"CALL ID","error-messages":e.callidError,required:"",disabled:e.callidIden},on:{keypress:e.onlyNumber},model:{value:e.callid,callback:function(t){e.callid=t},expression:"callid"}}),a("div",[a("br"),a("v-btn",{attrs:{color:"dark"},on:{click:function(t){return e.actions()}}},[e._v(" Update CallID "),a("v-icon",[e._v("mdi-send")])],1)],1)],1)],1),a("v-col",{attrs:{cols:"12"}})],1)],1)],1)],1):e._e()],1),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.jobupdateDialog,callback:function(t){e.jobupdateDialog=t},expression:"jobupdateDialog"}},[a("v-card",[a("v-card-title",[e._v(" Job Update ")]),a("v-list",{attrs:{"three-line":""}},[a("v-sheet",{staticClass:"overflow-y-auto",attrs:{id:"scrolling-techniques-7","max-height":"200"}},e._l(e.items,(function(t,i){return a("div",{key:i},[a("v-subheader",[a("strong",{attrs:{href:"#"}},[e._v(e._s(t.user))]),e._v(e._s(" - "+t.created_at))]),a("v-divider"),a("v-list-item",[a("v-list-item-avatar",[a("v-img",{attrs:{src:t.avatar}})],1),a("v-list-item-content",[a("v-list-item-title",{domProps:{innerHTML:e._s(t.title)}}),a("strong",[e._v(e._s(t.subtitle)+" ")])],1)],1)],1)})),0)],1),a("v-list",{staticClass:"pa-3",attrs:{"three-line":""}},[a("v-autocomplete",{attrs:{label:"Reason",items:e.reasonItem,"item-text":"name","item-value":"value"},model:{value:e.reason,callback:function(t){e.reason=t},expression:"reason"}})],1),a("v-list",{staticClass:"pa-3",attrs:{"three-line":""}},[a("v-textarea",{attrs:{outlined:"",name:"input-7-4",label:"Enter Update Here",value:""},model:{value:e.updatesData,callback:function(t){e.updatesData=t},expression:"updatesData"}})],1),a("v-card-actions",[a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){e.jobupdateDialog=!1}}},[e._v(" CLOSE ")]),a("v-btn",{attrs:{text:""},on:{click:function(t){return e.send()}}},[a("v-icon",[e._v("mdi-send")])],1)],1)],1)],1)],1)],1)],1)},fs=[],_s={mixins:[nt["validationMixin"]],validations:{callid:{required:ot["required"]},tech:{required:ot["required"]}},data:function(){return{loadingForCount:!0,loadingForTable:!0,usersData:[],callid:"",selectedID:0,bgselected0:"success",bgselected1:"",bgselected2:"",bgselected3:"",requestID:"",updatesData:"",reason:"",items:[],jobsCounts:"",unitsHeader:[{text:"Product Category",value:"prodcategories"},{text:"Appliance Type",value:"appliancetype"},{text:"Brand",value:"brand"},{text:"Model",value:"model"},{text:"Serial No.",value:"serialno"},{text:"Unit Condition",value:"unitcondition"},{text:"Warranty Condition",value:"warrantycondition"},{text:"Date of Purchase",value:"datepurchase"},{text:"Priority",value:"priority"}],jobupdateDialog:!1,unitsData:[],perm:[],reqtype:"",tech:{name:"N/A",value:"N/A"},jobstatus:"",jobsInfo:!1,jobsData:{customer:{firstname:"",lastname:"",middlename:"",barangay:"",contactperson:"",cpnumber:"",emailaddress:"",houseno:"",mcity:"",organization:"",province:"",specialinstruction:"",street:"",telephoneno:""},branch:{name:"N/A"}},search:"",data:[],headers:[{text:"Ticket No",align:"start",sortable:!1,value:"ticketno"},{text:"Request Type",align:"start",sortable:!1,value:"requestid"},{text:"Branch",value:"branch.name"},{text:"Customer Name",value:"customer.fullname"},{text:"Date of Complain",value:"created_at"},{text:"Appliance Type/Item",value:"producttype"},{text:"Province",value:"customer.province"},{text:"City",value:"customer.mcity"},{text:"Barangay",value:"customer.barangay"},{text:"Action",value:"action"}],jobstat:[{name:"Unassigned",value:"Unassigned"},{name:"Accepted",value:"Accepted"}],installer:[{name:"N/A",value:"N/A"},{name:"Mike Doe",value:"Mike Doe"},{name:"Linux Doe",value:"Linux Doe"},{name:"James Doe",value:"James Doe"}],reasonItem:[{name:"Rescheduled",value:"Rescheduled"},{name:"Parts",value:"Parts"},{name:"Under Observation",value:"Under Observation"},{name:"Quotation Approval",value:"Quotation Approval"},{name:"Waiting Permit",value:"Waiting Permit"},{name:"Follow-Up",value:"Follow-Up"},{name:"BP-Service Update",value:"BP-Service Update"},{name:"Unit Replacement",value:"Unit Replacement"}]}},computed:Object(c["a"])(Object(c["a"])({},Object(l["b"])({permissions:"userPermissions/getPermission"})),{},{users:function(){var e=this.usersData.employment.position.id?this.usersData.employment.position.id:"";return e},callidError:function(){var e=[],t=null;return this.$v.callid.$dirty?(t="Required CALL ID",!this.$v.callid.required&&e.push(t),e):e},techError:function(){var e=[],t=null;return this.$v.tech.$dirty?(t="Required CALL ID",!this.$v.tech.required&&e.push(t),e):e},checkpermission:function(){return this.perm.includes("Approved")},superadminpermission:function(){return this.perm.includes("SuperAdmin")},callidIden:function(){return 1==this.jobsData.status||2==this.jobsData.status}}),watch:{},mounted:function(){var e=this;this.$store.dispatch("app_booking_sys/fetchJobs").then((function(t){e.data=t.data})),this.$store.dispatch("userPermissions/fetchPermission").then((function(t){e.perm=t.data})),this.refresh(0),this.usersData=this.$store.state.currentUser},methods:{refresh:function(e){var t=this;this.$store.dispatch("app_booking_sys/JobsCount").then((function(e){t.jobsCounts=e.data,t.loadingForCount=!1})),this.loadingForTable=!0,this.$store.dispatch("app_booking_sys/fetchJobs",e).then((function(e){t.data=e.data,t.loadingForTable=!1}))},send:function(){var e,t=this;e={requestID:this.requestID,reason:this.reason,updates:this.updatesData},this.$store.dispatch("app_booking_sys/JobsUpdate",e).then((function(e){t.items=e.data,e.data.msg&&t.$toast.open({message:e.data.msg,type:e.data.error}),t.$toast.open({message:"Success Sent..!",type:"success"})}))},actions:function(){var e,t=this;this.$v.callid.$touch(),e={requestID:this.requestID,installer:this.tech,status:this.jobstatus,callid:this.callid,installationData:this.installationdateData},this.$store.dispatch("app_booking_sys/JobsAction",e).then((function(e){t.$toast.open({message:e.data.msg,type:e.data.error,duration:5e3}),t.$socket.emit("notification",1),1==e.data.type&&(t.jobsInfo=!1),t.refresh(t.selectedID)}))},view:function(e){var t;console.log(e),"REPAIR"==e.requesttype?this.unitsHeader=[{text:"PRODUCT CATEGORY",value:"prodcategories"},{text:"APPLIANCE TYPE",value:"appliancetype"},{text:"Request Type",value:"problem"},{text:"BRAND",value:"brand"},{text:"MODEL",value:"model"},{text:"SERIAL NO.",value:"serialno"},{text:"UNIT CONDITION",value:"unitcondition"},{text:"WARRANTY CON",value:"warrantycondition"},{text:"DOP",value:"datepurchase"},{text:"LOCATION OF UNIT",value:"locationofinstallation"},{text:"PRIORITY",value:"priority"}]:"CLEANING"==e.requesttype?this.unitsHeader=[{text:"Product Category",value:"prodcategories"},{text:"Appliance Type",value:"appliancetype"},{text:"Brand",value:"brand"},{text:"Model",value:"model"},{text:"Serial No.",value:"serialno"},{text:"Unit Condition",value:"unitcondition"},{text:"Warranty Condition",value:"warrantycondition"},{text:"Date of Purchase",value:"datepurchase"},{text:"LOCATION OF UNIT",value:"locationofinstallation"},{text:"Priority",value:"priority"}]:"INSTALLATION"==e.requesttype?this.unitsHeader=[{text:"Product Category",value:"prodcategories"},{text:"Appliance Type",value:"appliancetype"},{text:"Brand",value:"brand"},{text:"Model",value:"model"},{text:"Serial No.",value:"serialno"},{text:"Unit Condition",value:"unitcondition"},{text:"Warranty Condition",value:"warrantycondition"},{text:"Date of Purchase",value:"datepurchase"},{text:"INSTALLATION ADDRESS",value:"locationofinstallation"},{text:"Priority",value:"priority"}]:"SITE SURVEY"==e.requesttype&&(this.unitsHeader=[{text:"Product Category",value:"prodcategories"},{text:"Appliance Type",value:"appliancetype"},{text:"Brand",value:"brand"},{text:"Model",value:"model"},{text:"Serial No.",value:"serialno"},{text:"Unit Condition",value:"unitcondition"},{text:"Warranty Condition",value:"warrantycondition"},{text:"Date of Purchase",value:"datepurchase"},{text:"SURVEY LOCATION",value:"locationofinstallation"},{text:"Priority",value:"priority"}]),0==e.status?t="Unassigned":1==e.status?t="Accepted":2==e.status?t="Dispatch to Other ASC":10==e.status&&(t="Rejected"),this.items=e.bk_jobs_update,this.tech=e.installer,this.reqtype=e.requesttype,this.jobstatus=t,this.callid=e.callid,this.installationdateData=e.installationdate,this.jobsInfo=!0,this.jobsData=e,this.unitsData=e.units,this.requestID=e.requestid},selected:function(e){0==e&&(this.bgselected0="success",this.bgselected1="",this.bgselected2="",this.bgselected3="",this.headers=[{text:"Ticket No",align:"start",sortable:!1,value:"ticketno"},{text:"Call ID",align:"start",sortable:!1,value:"callid"},{text:"Request Type",align:"start",sortable:!1,value:"requestid"},{text:"Branch",value:"branch.name"},{text:"Customer Name",value:"customer.fullname"},{text:"Date of Complain",value:"created_at"},{text:"Call Status Reason",align:"start",sortable:!1,value:"reason"},{text:"Remarks",align:"start",sortable:!1,value:"notes"},{text:"Appliance Type/Item",value:"producttype"},{text:"Province",value:"customer.province"},{text:"City",value:"customer.mcity"},{text:"Barangay",value:"customer.barangay"},{text:"Action",value:"action"}]),1==e&&(this.bgselected0="",this.bgselected1="success",this.bgselected2="",this.bgselected3="",this.headers=[{text:"Ticket No",align:"start",sortable:!1,value:"ticketno"},{text:"Call ID",align:"start",sortable:!1,value:"callid"},{text:"Sched Date",align:"start",sortable:!1,value:"installationdate"},{text:"Tech Name",align:"start",sortable:!1,value:"installer"},{text:"Request Type",align:"start",sortable:!1,value:"requestid"},{text:"Call Status Reason",align:"start",sortable:!1,value:"reason"},{text:"Remarks",align:"start",sortable:!1,value:"notes"},{text:"Branch",value:"branch.name"},{text:"Customer Name",value:"customer.fullname"},{text:"Date of Complain",value:"created_at"},{text:"Appliance Type/Item",value:"producttype"},{text:"Province",value:"customer.province"},{text:"City",value:"customer.mcity"},{text:"Barangay",value:"customer.barangay"},{text:"Action",value:"action"}]),2==e&&(this.bgselected0="",this.bgselected1="",this.bgselected2="success",this.bgselected3=""),3==e&&(this.bgselected0="",this.bgselected1="",this.bgselected2="",this.bgselected3="success",this.headers=[{text:"Ticket No",align:"start",sortable:!1,value:"ticketno"},{text:"Call ID",align:"start",sortable:!1,value:"callid"},{text:"Request Type",align:"start",sortable:!1,value:"requestid"},{text:"Call Status Reason",align:"start",sortable:!1,value:"reason"},{text:"Remarks",align:"start",sortable:!1,value:"notes"},{text:"Branch",value:"branch.name"},{text:"Customer Name",value:"customer.fullname"},{text:"Date of Complain",value:"created_at"},{text:"Appliance Type/Item",value:"producttype"},{text:"Province",value:"customer.province"},{text:"City",value:"customer.mcity"},{text:"Barangay",value:"customer.barangay"},{text:"Action",value:"action"}]),this.selectedID=e,this.refresh(e)},download:function(e){var t={id:e};this.$store.dispatch("app_booking_sys/salesInvoiceDownload",t)},jobUpdates:function(){this.jobupdateDialog=!0},onlyNumber:function(e){var t=e.keyCode?e.keyCode:e.which;(t<48||t>57)&&e.preventDefault()},refreshData:function(){this.refresh(this.selectedID)},truncateString:function(e,t){return e.length<=t?e:e.substring(0,t)+"..."},trash:function(e){var t=this;this.$swal.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(a){a.isConfirmed&&t.$store.dispatch("app_booking_sys/TrashJobs",e).then((function(e){t.$swal.fire("Deleted!","Your file has been deleted.","success"),t.refreshData()}))}))},updatedserial:function(e){this.$store.dispatch("app_booking_sys/updateSerial",e).then((function(e){console.log(e)}))}}},gs=_s,bs=Object(m["a"])(gs,hs,fs,!1,null,null,null),xs=bs.exports;v()(bs,{VAutocomplete:xt["a"],VBtn:O["a"],VCard:N["a"],VCardActions:$["a"],VCardTitle:$["d"],VCol:R["a"],VContainer:we["a"],VDataTable:P["a"],VDialog:V["a"],VDivider:h["a"],VFlex:Re["a"],VIcon:f["a"],VImg:q["a"],VList:_["a"],VListItem:b["a"],VListItemAvatar:ms["a"],VListItemContent:T["b"],VListItemTitle:T["d"],VRow:B["a"],VSheet:G["a"],VSkeletonLoader:et["a"],VSpacer:F["a"],VSubheader:Y["a"],VTextField:qe["a"],VTextarea:z["a"],VToolbar:W["a"],VToolbarItems:J["a"],VToolbarTitle:J["b"],VTooltip:Q["a"]});var Ts=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[a("v-flex",{attrs:{xs12:""}},[a("v-row",[a("v-col",{staticClass:"text-right"},[a("v-btn",{staticClass:"ma-2",attrs:{outlined:"",color:"indigo"},on:{click:function(t){return e.create()}}},[e._v(" CREATE NEW ESCALATE")])],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"4"}},[a("v-card",{staticClass:"pa-2",attrs:{outlined:"",tile:""}},[a("v-icon",{staticStyle:{"margin-right":"5px",color:"yellowgreen"}},[e._v("mdi-arrow-collapse-up")]),a("strong",[e._v("Total Escalations "),a("h2",[e._v(e._s(e.count.total))])])],1)],1),a("v-col",{attrs:{cols:"12",sm:"4"}},[a("v-card",{staticClass:"pa-2",attrs:{outlined:"",tile:""}},[a("v-icon",{staticStyle:{"margin-right":"5px",color:"red"}},[e._v("mdi-restore")]),a("strong",[e._v("Pending "),a("h2",[e._v(e._s(e.count.pending))])])],1)],1),a("v-col",{attrs:{cols:"12",sm:"4"}},[a("v-card",{staticClass:"pa-2",attrs:{outlined:"",tile:""}},[a("v-icon",{staticStyle:{"margin-right":"5px",color:"blue"}},[e._v("mdi-wrench")]),a("strong",[e._v("Resolved "),a("h2",[e._v(e._s(e.count.resolved))])])],1)],1)],1)],1),a("v-card-title",[a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),a("v-data-table",{staticClass:"elevation-1",attrs:{dense:"",headers:e.headers,items:e.datas,"item-key":"requestid",search:e.search,"items-per-page":5},scopedSlots:e._u([{key:"item.status",fn:function(t){var i=t.item;return[a("v-chip",{attrs:{color:"1"==i.data.status?"orange":"green",label:"",outlined:""}},[e._v(" "+e._s("1"==i.data.status?"Pending":"Resolved"))])]}},{key:"item.action",fn:function(t){var i=t.item;return[a("v-btn",{staticClass:"ma-1",attrs:{outlined:"",color:"indigo"},on:{click:function(t){return e.itemView(i)}}},[e._v(" UPDATE ")]),1==i.data.status&&e.superadminpermission?a("v-btn",{staticClass:"ma-1",attrs:{outlined:"",color:"green"},on:{click:function(t){return e.resolvedScalate(i)}}},[e._v(" RESOLVED ")]):e._e()]}}])}),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.createEszalateDialog,callback:function(t){e.createEszalateDialog=t},expression:"createEszalateDialog"}},[a("v-card",[a("v-card-title",[e._v(" Create New Escalation ")]),a("v-list",{staticClass:"pa-5",attrs:{"three-line":""}},[a("v-autocomplete",{attrs:{items:e.items,loading:e.isLoading,"search-input":e.searchCustomer,color:"white","hide-no-data":"","hide-selected":"","item-text":"whole","item-value":"whole",label:"Customer Name",placeholder:"Start typing to Search","prepend-icon":"mdi-account-search","return-object":""},on:{"update:searchInput":function(t){e.searchCustomer=t},"update:search-input":function(t){e.searchCustomer=t},change:function(t){return e.getData(e.model)}},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})],1),a("v-list",{staticClass:"pa-5",attrs:{"three-line":""}},[a("v-autocomplete",{attrs:{label:"Category",items:e.categories,"item-text":"name","item-value":"value"},model:{value:e.category,callback:function(t){e.category=t},expression:"category"}})],1),a("v-list",{staticClass:"pa-5",attrs:{"three-line":""}},[a("v-textarea",{attrs:{outlined:"",name:"input-7-4",label:"Note",value:""},model:{value:e.note,callback:function(t){e.note=t},expression:"note"}})],1),a("v-card-actions",[a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){e.createEszalateDialog=!1}}},[e._v(" CLOSE ")]),a("v-btn",{attrs:{text:"",outlined:"",color:"indigo"},on:{click:function(t){return e.send()}}},[e._v(" SUBMIT ")])],1)],1)],1),a("v-dialog",{attrs:{"hide-overlay":"",persistent:"",width:"300"},model:{value:e.loadings,callback:function(t){e.loadings=t},expression:"loadings"}},[a("v-card",{attrs:{color:"primary",dark:""}},[a("v-card-text",[e._v(" Please stand by "),a("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1)],1),a("v-dialog",{attrs:{"max-width":"700px"},model:{value:e.viewThreads,callback:function(t){e.viewThreads=t},expression:"viewThreads"}},[a("v-card",[a("v-card-title",[e._v(" Escalation Details ")]),a("v-row",[a("v-col",{attrs:{cols:"12",sm:"4"}},[a("v-list",{staticClass:"pa-6",attrs:{"three-line":""}},[e._v(" Customer "),a("br"),a("strong",[e._v(e._s(e.threadsData.data.customername))]),a("br"),e._v(" Status"),a("br"),a("v-chip",{attrs:{color:"1"==e.threadsData.data.status?"orange":"green",label:"",outlined:""}},[e._v(" "+e._s("1"==e.threadsData.data.status?"Pending":"Resolved"))]),a("br"),e._v(" Category "),a("v-select",{attrs:{items:e.categories,"item-text":"name","item-value":"value",label:"",dense:"",solo:"",disabled:2==e.threadsData.data.status},model:{value:e.category,callback:function(t){e.category=t},expression:"category"}}),1==e.threadsData.data.status?a("v-btn",{staticClass:"ma-2",attrs:{outlined:"",color:"indigo"},on:{click:function(t){return e.updateScalate(e.threadsData.data.id)}}},[e._v(" UPDATE")]):e._e()],1)],1),a("v-col",{attrs:{cols:"12",sm:"8"}},[2==e.threadsData.data.status&&e.checkpermission?a("v-btn",{staticClass:"ma-2",attrs:{outlined:"",color:"indigo"},on:{click:function(t){return e.reopen(e.threadsData.data.id)}}},[e._v(" RE OPEN")]):e._e(),a("br"),e._v("Escalation Date"),a("br"),e._v(" "+e._s(new Date(e.threadsData.data.created_at).toLocaleString())+" "),a("v-card-text",[a("div",{staticClass:"font-weight-bold "},[e._v(" Updates ")]),a("v-timeline",{attrs:{"align-top":"",dense:""}},[a("v-sheet",{staticClass:"overflow-y-auto",attrs:{id:"scrolling-techniques-7","max-height":"200"}},e._l(e.threadsData.threads,(function(t){return a("v-timeline-item",{key:t.created_at,attrs:{color:"green",small:""}},[a("div",[a("div",{staticClass:"font-weight-normal"},[a("strong",[e._v(e._s(t.from_bys))]),e._v(" @"+e._s(t.created_at)+" ")]),a("div",[e._v(e._s(t.threads))])])])})),1)],1)],1),a("v-list",{staticClass:"pa-6",attrs:{"three-line":""}},[1==e.threadsData.data.status?a("v-textarea",{attrs:{outlined:"",name:"input-7-4",value:""},model:{value:e.note,callback:function(t){e.note=t},expression:"note"}}):e._e(),a("v-col",{staticClass:"text-right"},[1==e.threadsData.data.status?a("v-btn",{staticClass:"ma-2",attrs:{disabled:!e.note,color:"grey"},on:{click:function(t){return e.sendThreads(e.threadsData.data.id)}}},[e._v(" SEND ")]):e._e()],1)],1)],1)],1),a("v-card-actions")],1)],1)],1)],1)},ys=[],Ss=(a("fb6a"),a("b64b"),{mixins:[nt["validationMixin"]],validations:{},data:function(){return{permissions:"",count:{total:0,pending:0,resolved:0},messages:[],threadsData:{data:{status:""}},viewThreads:!1,loadings:!1,descriptionLimit:60,entries:[],perm:[],isLoading:!1,model:null,searchCustomer:null,createData:[],note:"",search:"",datas:[],headers:[{text:"DATE CREATED",value:"data.created_at"},{text:"CUSTOMER NAME",value:"data.customername"},{text:"CATEGORY",value:"data.categories"},{text:"STATUS",value:"status"},{text:"ACTION",value:"action"}],createEszalateDialog:!1,categories:[{name:"Follow-Up Call ID",value:"Follow-Up Call ID"}],category:"",category2:""}},computed:Object(c["a"])(Object(c["a"])({},Object(l["b"])({permissions:"userPermissions/getPermission"})),{},{checkpermission:function(){return this.perm.includes("Approved")},users:function(){var e=this.usersData.employment.position.id?this.usersData.employment.position.id:"";return e},fields:function(){var e=this;return this.model?Object.keys(this.model).map((function(t){return{key:t,value:e.model[t]||"n/a"}})):[]},items:function(){var e=this;return this.entries.map((function(t){var a=t.whole;return t.whole.length>e.descriptionLimit?t.whole.slice(0,e.descriptionLimit):t.whole,Object.assign({},t,{Description:a})}))},superadminpermission:function(){return this.perm.includes("SuperAdmin")}}),mounted:function(){var e=this;this.counting(),this.$store.dispatch("app_booking_sys/scalateBk").then((function(t){e.datas=t.data})),this.$store.dispatch("userPermissions/fetchPermission").then((function(t){e.perm=t.data}))},methods:{counting:function(){var e=this;this.$store.dispatch("app_booking_sys/ScalateCount").then((function(t){e.count=t.data}))},refresh:function(){var e=this;this.$store.dispatch("app_booking_sys/scalateBk").then((function(t){e.datas=t.data})),this.counting()},create:function(){this.createEszalateDialog=!0},send:function(){var e=this,t={identify:1,customerdata:this.createData,category:this.category,note:this.note};this.$store.dispatch("app_booking_sys/scalateCreateBk",t).then((function(t){console.log(t.data),e.refresh(),e.$socket.emit("notification",1)}))},getData:function(e){this.createData=e},itemView:function(e){var t=this;this.viewThreads=!0,this.threadsData=e,setTimeout((function(){return t.loadings=!1,t.viewThreads=!0}),2e3)},sendThreads:function(e){var t=this,a={scalate_id:e,thread:this.note};this.$store.dispatch("app_booking_sys/scalateSendThreadsBk",a).then((function(e){t.refresh(),t.loadings=!0,setTimeout((function(){return t.loadings=!1,t.threadsData.threads.push(e.data[0])}),2e3),t.$socket.emit("notification",1)}))},reopen:function(e){var t=this,a={identify:5,id:e};this.$store.dispatch("app_booking_sys/scalateCreateBk",a).then((function(e){t.viewThreads=!1,t.threadsData.threads.push(e.data[0]),t.$socket.emit("notification",1),t.refresh()}))},updateScalate:function(e){var t=this,a={identify:2,id:e,category:this.category};this.$store.dispatch("app_booking_sys/scalateCreateBk",a).then((function(e){t.threadsData.threads.push(e.data[0]),t.$socket.emit("notification",1),t.refresh()}))},resolvedScalate:function(e){var t=this,a={identify:3,id:e.data.id};this.$store.dispatch("app_booking_sys/scalateCreateBk",a).then((function(e){t.$socket.emit("notification",1),t.refresh()}))}},watch:{searchCustomer:function(e){var t=this;this.isLoading=!0,fetch("http://appletronics.com.ph:8009/api/jobs/customers/list?q="+e).then((function(e){return e.json()})).then((function(e){t.entries=e})).catch((function(e){console.log(e)})).finally((function(){return t.isLoading=!1}))}}}),Ds=Ss,ks=Object(m["a"])(Ds,Ts,ys,!1,null,null,null),Es=ks.exports;v()(ks,{VAutocomplete:xt["a"],VBtn:O["a"],VCard:N["a"],VCardActions:$["a"],VCardText:$["c"],VCardTitle:$["d"],VChip:w["a"],VCol:R["a"],VContainer:we["a"],VDataTable:P["a"],VDialog:V["a"],VFlex:Re["a"],VIcon:f["a"],VList:_["a"],VProgressLinear:j["a"],VRow:B["a"],VSelect:M["a"],VSheet:G["a"],VTextField:qe["a"],VTextarea:z["a"],VTimeline:H["a"],VTimelineItem:K["a"]});var As=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[a("v-data-table",{attrs:{headers:e.headers,items:e.fields_data,"items-per-page":e.itemsPerPage,search:e.search,loading:e.loadingStatus},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Booking Custom Fields")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.openDialog}},i),[a("v-icon",[e._v("mdi-plus-circle")])],1)]}}])},[a("span",[e._v("Add")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{dense:""},on:{click:e.CreateItems}},i),[e._v(" CREATE MODEL ")])]}}])},[a("span",[e._v("Add")])]),a("v-spacer"),a("v-select",e._g({staticStyle:{"margin-top":"20px","margin-right":"10px"},attrs:{items:[{name:"TYPE",value:1},{name:"CATEGORIES",value:2},{name:"BRAND",value:3},{name:"ITEMS",value:4}],label:"Select Fields","item-text":"name","item-value":"value",solo:"",dense:""},on:{change:function(t){return e.selectFields()}},model:{value:e.fields,callback:function(t){e.fields=t},expression:"fields"}},e.on)),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)]},proxy:!0},{key:"item.action",fn:function(t){var i=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:"",title:"Edit"},on:{click:function(t){return e.edit(i)}}},[e._v(" mdi-pencil ")]),a("v-icon",{staticClass:"mr-2",attrs:{small:"",title:"Delete"},on:{click:function(t){return e.trash(i)}}},[e._v(" delete ")])]}}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}}),a("v-dialog",{attrs:{"max-width":"300px"},model:{value:e.CreateDialog,callback:function(t){e.CreateDialog=t},expression:"CreateDialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"text-h5"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Fields",required:""},model:{value:e.itemName,callback:function(t){e.itemName=t},expression:"itemName"}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-select",{attrs:{items:[{name:"TYPE",value:1},{name:"CATEGORIES",value:2},{name:"BRAND",value:3}],label:"Field Type","item-text":"name","item-value":"value",required:""},model:{value:e.fields,callback:function(t){e.fields=t},expression:"fields"}})],1)],1)],1),a("small",[e._v("*indicates required field")])],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){e.CreateDialog=!1}}},[e._v(" Close ")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){e.CreateDialog=e.save()}}},[e._v(" Save ")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"300px"},model:{value:e.CreateModel,callback:function(t){e.CreateModel=t},expression:"CreateModel"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"text-h5"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{attrs:{label:"Model",required:""},model:{value:e.vmodel,callback:function(t){e.vmodel=t},expression:"vmodel"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-autocomplete",{attrs:{items:e.itemType,label:"Select Type","item-text":"name","item-value":"value",required:"",dense:""},model:{value:e.vtype,callback:function(t){e.vtype=t},expression:"vtype"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-autocomplete",{attrs:{items:e.itemCat,label:"Select Category","item-text":"name","item-value":"value",required:"",dense:""},model:{value:e.vcat,callback:function(t){e.vcat=t},expression:"vcat"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-autocomplete",{attrs:{items:e.itemBrand,label:"Select Brand","item-text":"name","item-value":"value",required:"",dense:""},model:{value:e.vbrand,callback:function(t){e.vbrand=t},expression:"vbrand"}})],1)],1)],1),a("small",[e._v("*indicates required field")])],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){e.CreateModel=!1}}},[e._v(" Close ")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){e.CreateModel=e.saveITEMS()}}},[e._v(" Save ")])],1)],1)],1)],1)],1)},Is=[],Cs={data:function(){return{editID:"",timeFromModal:!1,timeToModal:!1,search:"",selected:[],headers:[{text:"Name",align:"left",value:"value"},{text:"Actions",align:"center",value:"action",sortable:!1}],editedIndex:-1,itemsPerPage:5,current_items:0,fields_data:[],fields:"",default:1,CreateDialog:!1,identify:0,itemName:"",CreateModel:!1,modelfields:"",itemType:[],itemBrand:[],itemCat:[]}},computed:{dialog:function(){return this.$store.state.dialog},loadingStatus:function(){return this.$store.state.loading},formTitle:function(){return 0==this.identify?"New Fields":"Edit Fields"}},created:function(){var e=this;this.$store.dispatch("app_booking_sys/FetchFields",this.default).then((function(t){e.fields_data=t.data}))},methods:{CreateItems:function(){var e=this;this.$store.dispatch("app_booking_sys/ListDropDownFields").then((function(t){e.itemBrand=t.data.brand,e.itemCat=t.data.cat,e.itemType=t.data.type})),this.CreateModel=!0},refreshData:function(){var e=this;this.$store.dispatch("app_booking_sys/FetchFields",this.default).then((function(t){e.fields_data=t.data}))},openDialog:function(){this.identify=0,this.CreateDialog=!0,this.editedIndex=-1},edit:function(e){var t=this;null===e.nomodel?(this.$store.dispatch("app_booking_sys/ListDropDownFields").then((function(e){t.itemBrand=e.data.brand,t.itemCat=e.data.cat,t.itemType=e.data.type})),this.identify=1,this.vbrand=e.Brand,this.vcat=e.categories,this.vtype=e.type,this.vmodel=e.model,this.editID=e.id,this.CreateModel=!0):(this.identify=1,this.itemName=e.value,this.fields=e.value,this.CreateDialog=!0,this.editID=e.id)},close:function(){alert()},save:function(){var e;e=1==this.identify?{type:this.fields,fields:this.itemName,id:this.editID,identify:1}:{type:this.fields,fields:this.itemName,identify:0},this.$store.dispatch("app_booking_sys/CreateFields",e),this.selectFields()},selectFields:function(){this.default=this.fields,4==this.fields?this.headers=[{text:"Model",align:"left",value:"model"},{text:"Brand",align:"left",value:"Brand"},{text:"Categories",align:"left",value:"categories"},{text:"Type",align:"left",value:"type"},{text:"Actions",align:"center",value:"action",sortable:!1}]:this.headers=[{text:"Name",align:"left",value:"value"},{text:"Actions",align:"center",value:"action",sortable:!1}],this.refreshData()},trash:function(e){var t;null===e.nomodel?(t={id:e.id},this.$store.dispatch("app_booking_sys/DeleteItems",t),this.default=this.fields,this.refreshData()):(t={id:e.id,type:e.identity},this.$store.dispatch("app_booking_sys/DeleteFields",t),this.default=this.fields,this.refreshData())},saveITEMS:function(){var e;e=1==this.identify?{model:this.vmodel,type:this.vtype,cat:this.vcat,brand:this.vbrand,id:this.editID,identify:1}:{model:this.vmodel,type:this.vtype,cat:this.vcat,brand:this.vbrand,identify:0},this.$store.dispatch("app_booking_sys/CreateITEMS",e),this.default=this.fields}}},Os=Cs,Ns=Object(m["a"])(Os,As,Is,!1,null,null,null),$s=Ns.exports;v()(Ns,{VAutocomplete:xt["a"],VBtn:O["a"],VCard:N["a"],VCardActions:$["a"],VCardText:$["c"],VCardTitle:$["d"],VCol:R["a"],VContainer:we["a"],VDataTable:P["a"],VDialog:V["a"],VDivider:h["a"],VIcon:f["a"],VRow:B["a"],VSelect:M["a"],VSpacer:F["a"],VTextField:qe["a"],VToolbar:W["a"],VToolbarTitle:J["b"],VTooltip:Q["a"]});var ws=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.schedules,"items-per-page":e.itemsPerPage,search:e.search,loading:e.loadingStatus,"show-select":""},on:{"toggle-select-all":e.selectAllToggle,"current-items":e.currentItems},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Item Auto Selection Settings")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.openDialog}},i),[a("v-icon",[e._v("mdi-plus-circle")])],1)]}}])},[a("span",[e._v("Add")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{disabled:!e.selected.length>0,text:"",icon:""},on:{click:e.deleteSchedules}},i),[a("v-icon",[e._v("delete")])],1)]}}])},[a("span",[e._v("Delete")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""}},i),[a("v-icon",[e._v("print")])],1)]}}])},[a("span",[e._v("Print")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("json-excel",{attrs:{data:e.schedules}},[a("v-btn",e._g({attrs:{text:"",icon:""}},i),[a("v-icon",[e._v("mdi-file-export")])],1)],1)]}}])},[a("span",[e._v("Export")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{text:"",icon:""},on:{click:e.refreshData}},i),[a("v-icon",[e._v("mdi-refresh")])],1)]}}])},[a("span",[e._v("Refresh")])]),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-dialog",{attrs:{persistent:"",value:e.dialog,"max-width":"500px"},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.close(t)}}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-flex",{attrs:{md12:""}},[a("v-dialog",{ref:"timeFromDialog",attrs:{"return-value":e.editedSchedule.time_from,persistent:"",lazy:"","full-width":"",width:"290px"},on:{"update:returnValue":function(t){return e.$set(e.editedSchedule,"time_from",t)},"update:return-value":function(t){return e.$set(e.editedSchedule,"time_from",t)}},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-text-field",e._g({attrs:{"error-messages":e.timeFromErrors,label:"Time From","prepend-icon":"access_time",readonly:""},model:{value:e.editedSchedule.time_from,callback:function(t){e.$set(e.editedSchedule,"time_from",t)},expression:"editedSchedule.time_from"}},i))]}}]),model:{value:e.timeFromModal,callback:function(t){e.timeFromModal=t},expression:"timeFromModal"}},[e.timeFromModal?a("v-time-picker",{attrs:{"full-width":""},model:{value:e.editedSchedule.time_from,callback:function(t){e.$set(e.editedSchedule,"time_from",t)},expression:"editedSchedule.time_from"}},[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(t){e.timeFromModal=!1}}},[e._v("Cancel")]),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.timeFromDialog.save(e.editedSchedule.time_from)}}},[e._v("OK")])],1):e._e()],1)],1),a("v-flex",{attrs:{md12:""}},[a("v-dialog",{ref:"timeToDialog",attrs:{"return-value":e.editedSchedule.time_to,persistent:"",lazy:"","full-width":"",width:"290px"},on:{"update:returnValue":function(t){return e.$set(e.editedSchedule,"time_to",t)},"update:return-value":function(t){return e.$set(e.editedSchedule,"time_to",t)}},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-text-field",e._g({attrs:{disabled:!e.editedSchedule.time_from,"error-messages":e.timeToErrors,label:"Time To","prepend-icon":"access_time",readonly:""},model:{value:e.editedSchedule.time_to,callback:function(t){e.$set(e.editedSchedule,"time_to",t)},expression:"editedSchedule.time_to"}},i))]}}]),model:{value:e.timeToModal,callback:function(t){e.timeToModal=t},expression:"timeToModal"}},[e.timeToModal?a("v-time-picker",{attrs:{"full-width":"",min:e.editedSchedule.time_from},model:{value:e.editedSchedule.time_to,callback:function(t){e.$set(e.editedSchedule,"time_to",t)},expression:"editedSchedule.time_to"}},[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:function(t){e.timeToModal=!1}}},[e._v("Cancel")]),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.timeToDialog.save(e.editedSchedule.time_to)}}},[e._v("OK")])],1):e._e()],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{text:""},on:{click:e.close}},[e._v("Cancel")]),a("v-btn",{attrs:{color:"blue",text:"",loading:e.loadingStatus},on:{click:e.save}},[e._v("Save")])],1)],1)],1)],1)]},proxy:!0},{key:"header.data-table-select",fn:function(t){var i=t.on,r=t.props;return[a("v-simple-checkbox",e._g(e._b({attrs:{disabled:e.schedules.length===e.disabledCount}},"v-simple-checkbox",r,!1),i))]}},{key:"item.data-table-select",fn:function(e){var t=e.item,i=e.isSelected,r=e.select;return[a("v-simple-checkbox",{attrs:{value:i,readonly:t.branches.length>0,disabled:t.branches.length>0},on:{input:function(e){return r(e)}}})]}},{key:"item.branches",fn:function(t){var i=t.item;return[i.branches.length>0?a("span",{staticStyle:{cursor:"pointer"},on:{click:function(t){return e.popBranch(i)}}},[e._l(i.branches,(function(t,i){return a("span",{key:t.id},[0===i?a("v-chip",{attrs:{small:"",color:"primary darken-2"}},[e._v(" "+e._s(t.name)+" ")]):e._e()],1)})),i.branches.length-1>0?a("span",[e._v(" (+"+e._s(i.branches.length-1)+" other"+e._s(i.branches.length-1!=1?"s":"")+") ")]):e._e()],2):e._e(),i.branches.length<=0?a("v-chip",{attrs:{small:"",color:"secondary"}},[e._v(" None ")]):e._e()]}},{key:"item.action",fn:function(t){var i=t.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:"",title:"Edit"},on:{click:function(t){return e.editSchedule(i,1)}}},[e._v(" mdi-pencil ")]),a("v-icon",{attrs:{small:"",title:"Duplicate"},on:{click:function(t){return e.editSchedule(i,2)}}},[e._v(" mdi-content-duplicate ")])]}}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1)],1)},Rs=[],Ps={components:{JsonExcel:_t["a"]},mixins:[nt["validationMixin"]],data:function(){return{timeFromModal:!1,timeToModal:!1,search:"",selected:[],headers:[{text:"Time",align:"left",value:"time"},{text:"Actions",align:"center",value:"action",sortable:!1}],editedIndex:-1,editedSchedule:{time_from:"",time_to:""},defaultSchedule:{time_from:"",time_to:""},itemsPerPage:5,current_items:0}},validations:{editedSchedule:{time_from:{required:ot["required"]},time_to:{required:ot["required"]}}},computed:Object(c["a"])(Object(c["a"])({},Object(l["b"])({schedules:"bsched/getSchedules",scheduleErrors:"bsched/getScheduleErrors"})),{},{dialog:function(){return this.$store.state.dialog},loadingStatus:function(){return this.$store.state.loading},formTitle:function(){return-1===this.editedIndex?"New Schedule":"Edit Schedule"},timeFromErrors:function(){var e=[];if(!this.$v.editedSchedule.time_from.$dirty)return e;var t=null;return t=this.scheduleErrors["time_from|required"]?this.scheduleErrors["time_from|required"]:"The time from field is required.",!this.$v.editedSchedule.time_from.required&&e.push(t),e},timeToErrors:function(){var e=[];if(!this.$v.editedSchedule.time_to.$dirty)return e;var t=null;return t=this.scheduleErrors["time_to|required"]?this.scheduleErrors["time_to|required"]:"The time to field is required.",!this.$v.editedSchedule.time_to.required&&e.push(t),e}}),watch:{schedules:function(){this.$v.$reset()}},created:function(){this.$store.dispatch("bsched/fetchSchedules")},methods:{refreshData:function(){this.$store.dispatch("bsched/fetchSchedules")},openDialog:function(){this.editedIndex=-1,this.editedSchedule=Object.assign({},this.defaultSchedule),this.$store.dispatch("triggerDialog",!0)},editSchedule:function(e,t){this.editedIndex=2==t?-1:this.schedules.indexOf(e),this.editedSchedule=Object.assign({},e),this.$store.dispatch("triggerDialog",!0)},deleteSchedules:function(){var e=this,t=this.$data.selected,a=t.map((function(e){return e.id})),i=t.map((function(e){var t=e.time_from+" - "+e.time_to,a="<br />"+t;return a}));this.$dialog.warning({text:"<h3><em>You are about to delete an item(s):</em></h3>"+i,title:"Confirm Delete",actions:{false:"Cancel",true:{text:"Confirm",color:"warning"}}}).then((function(t){t&&(e.$store.dispatch("bsched/deleteSchedules",a),e.$data.selected=[])}))},close:function(){this.editedIndex=-1,this.$v.$reset(),this.$store.dispatch("triggerDialog",!1)},save:function(){this.$v.$touch(),this.editedIndex>-1?this.$store.dispatch("bsched/updateSchedule",this.editedSchedule):this.$store.dispatch("bsched/storeSchedule",this.editedSchedule)},selectAllToggle:function(e){if(this.selected.length!=this.current_items-this.disabledCount){this.selected=[];var t=this;e.items.forEach((function(e){!e.branches.length>0&&t.selected.push(e)})),t.disabledCount=this.current_items-this.selected.length}else this.selected=[]},currentItems:function(e){this.current_items=e.length}}},Vs=Ps,qs=Object(m["a"])(Vs,ws,Rs,!1,null,null,null),Ls=qs.exports;v()(qs,{VBtn:O["a"],VCard:N["a"],VCardActions:$["a"],VCardText:$["c"],VCardTitle:$["d"],VChip:w["a"],VContainer:we["a"],VDataTable:P["a"],VDialog:V["a"],VDivider:h["a"],VFlex:Re["a"],VIcon:f["a"],VSimpleCheckbox:Tt["a"],VSpacer:F["a"],VTextField:qe["a"],VTimePicker:It["a"],VToolbar:W["a"],VToolbarTitle:J["b"],VTooltip:Q["a"]});var Us=[{path:"/",component:at,name:"home",meta:{requiresAuth:!0}},{path:"/users",component:St,name:"users",meta:{requiresAuth:!0}},{path:"/branches",component:Vt,name:"branches",meta:{requiresAuth:!0}},{path:"/regions",component:ea,name:"regions",meta:{requiresAuth:!0}},{path:"/divisions",component:ma,name:"divisions",meta:{requiresAuth:!0}},{path:"/departments",component:ga,name:"departments",meta:{requiresAuth:!0}},{path:"/branch-schedules",component:Mt,name:"branch-schedules",meta:{requiresAuth:!0}},{path:"/positions",component:Da,name:"positions",meta:{requiresAuth:!0}},{path:"/permissions",component:Ma,name:"permissions",meta:{requiresAuth:!0}},{path:"/roles",component:Va,name:"roles",meta:{requiresAuth:!0}},{path:"/user-employments",component:Ot,name:"user-employments",meta:{requiresAuth:!0}},{path:"/product-items",component:Ka,name:"product-items",meta:{requiresAuth:!0}},{path:"/product-brands",component:ei,name:"product-brands",meta:{requiresAuth:!0}},{path:"/product-categories",component:oi,name:"product-categories",meta:{requiresAuth:!0}},{path:"/service-types",component:mi,name:"service-types",meta:{requiresAuth:!0}},{path:"/service-categories",component:gi,name:"service-categories",meta:{requiresAuth:!0}},{path:"/service-providers",component:Di,name:"service-providers",meta:{requiresAuth:!0}},{path:"/computerware-tickets",component:Oi,name:"computerware-tickets",meta:{requiresAuth:!0}},{path:"/connectivity-tickets",component:Mi,name:"connectivity-tickets",meta:{requiresAuth:!0}},{path:"/power-interruptions",component:Ki,name:"power-interruptions",meta:{requiresAuth:!0}},{path:"/pending-transactions",component:ar,name:"pending-transactions",meta:{requiresAuth:!0}},{path:"/archived",component:ur,name:"archived-for-land",meta:{requiresAuth:!0}},{path:"/agencies",component:_r,name:"agencies",meta:{requiresAuth:!0}},{path:"/ccs/creditstanding/dashboard",component:Sr,name:"credit_standing",meta:{requiresAuth:!0}},{path:"/ccs/blacklisted/dashboard",component:Cr,name:"black_listed",meta:{requiresAuth:!0}},{path:"/ccs/customerdigitized/dashboard",component:Vr,name:"customer_digitized_req",meta:{requiresAuth:!0}},{path:"/ccs/installment/dashboard",component:Gr,name:"installment",meta:{requiresAuth:!0}},{path:"/ccs/reconciliation/dashboard",component:Jr,name:"reconciliation",meta:{requiresAuth:!0}},{path:"/ccs/dunning-letters",component:an,name:"dunning",meta:{requiresAuth:!0}},{path:"/validation-portal/template",component:ln,name:"validation_template",meta:{requiresAuth:!0}},{path:"/validation-portal/good-receipt-model-serial-model",component:hn,name:"validation_good_receipt_serial_model",meta:{requiresAuth:!0}},{path:"/validation-portal/bp-master-cardcode-ar-invoice-cardcode",component:yn,name:"validation_bp_master_cardcode_ar_invoice",meta:{requiresAuth:!0}},{path:"/revolving-fund",component:In,name:"revolving_fund",meta:{requiresAuth:!0}},{path:"/raffle",component:Vn,name:"raffle",meta:{requiresAuth:!1}},{path:"/giftcodes/index",component:Gn,name:"giftcode",meta:{requiresAuth:!0}},{path:"/sapb1/reports/index",component:Qn,name:"incomingpaymentcrb",meta:{requiresAuth:!0}},{path:"/sapb1/reports/incomingpayment/openbalance",component:Xo,name:"incomingpayment_openbalance",meta:{requiresAuth:!0}},{path:"/sapb1/reports/incomingpayment/customerdeposit",component:zo,name:"incomingpayment_customer_deposit",meta:{requiresAuth:!0}},{path:"/sapb1/reports/ar/openbalance",component:jo,name:"ar_invoice_openbalance",meta:{requiresAuth:!0}},{path:"/sapb1/reports/query/searching/vehicles/parts",component:Ro,name:"searching_of_vehicles_parts",meta:{requiresAuth:!0}},{path:"/sapb1/reports/query/series/revised",component:io,name:"invoice_query_series_revised",meta:{requiresAuth:!0}},{path:"/sapb1/reports/query/marketing/ar/invoice",component:lo,name:"marketing_ar_invoice_query",meta:{requiresAuth:!0}},{path:"/sapb1/reports/query/summary/customer/depositapplied",component:fo,name:"summary_of_customer_depositapplied",meta:{requiresAuth:!0}},{path:"/sapb1/reports/query/adjustment/sales/discount",component:yo,name:"adjustment_sales_discount",meta:{requiresAuth:!0}},{path:"/sapb1/reports/query/recomputed/account",component:Io,name:"recomputed_amount",meta:{requiresAuth:!0}},{path:"/settings/database/configure",component:rs,name:"configure",meta:{requiresAuth:!0}},{path:"/app/booking/index",component:vs,name:"booking",meta:{requiresAuth:!0}},{path:"/app/booking/jobs",component:xs,name:"jobs",meta:{requiresAuth:!0}},{path:"/app/booking/scalate",component:Es,name:"scalate",meta:{requiresAuth:!0}},{path:"/app/booking/fields",component:$s,name:"booking_fields",meta:{requiresAuth:!0}},{path:"/app/booking/items",component:Ls,name:"booking_items",meta:{requiresAuth:!0}}],js=Us;i["default"].use(xe["a"]);var Bs=[];Bs=Bs.concat(Be,Ke,js);var Ms=Bs,Gs=new xe["a"]({mode:"history",base:"/",routes:Ms});Gs.beforeResolve((function(e,t,a){e.name&&ye.a.start(),t&&console.log("catch"),a()})),Gs.afterEach((function(e,t){(e||t)&&console.log("catch"),ye.a.done()}));var Fs=Gs,Ys="http://appletronics.com.ph:8009",zs=Ys,Hs=(a("c740"),zs+"/api/users"),Ks={fetchUsers:function(e){e.commit("LOADING_STATUS",!0,{root:!0}),Ee.a.get(Hs).then((function(t){e.commit("SET_USER",t.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},storeUser:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),Ee.a.post(Hs,t).then((function(t){e.commit("STORE_USER",t.data),e.commit("DIALOG_STATUS",!1,{root:!0}),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"User successfully added.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(t){e.commit("USER_ERROR",t.response.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},updateUser:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),Ee.a.put(Hs+"/update",t).then((function(t){e.commit("UPDATE_USER",t.data),e.commit("DIALOG_STATUS",!1,{root:!0}),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"User successfully updated.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(t){e.commit("USER_ERROR",t.response.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},deleteUsers:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),Ee.a.patch(Hs+"/delete/multiple",t).then((function(t){e.commit("DELETE_USERS",t.data),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"User(s) successfully deleted.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(e){console.log(e.response.data)}))}},Ws=Ks,Js={users:[],errors:[],userItem:[],roleDialog:!1},Qs={getUsers:function(e){return e.users},getUserErrors:function(e){return e.errors},openRoleDialog:function(e){return e.roleDialog},getUserItem:function(e){return e.userItem}},Xs={SET_USER:function(e,t){e.users=t},STORE_USER:function(e,t){e.users.unshift(t)},UPDATE_USER:function(e,t){e.users=e.users.map((function(e){return e.id===t.id?Object.assign({},e,t):e}))},DELETE_USERS:function(e,t){for(var a=t.length-1;a>=0;a--){var i=e.users.findIndex((function(e){return e.id===t[a].id}));e.users.splice(i,1)}},USER_ERROR:function(e,t){e.errors=t},SET_USER_ITEM:function(e,t){e.roleDialog=t.dialog,e.userItem=t.item}},Zs={namespaced:!0,state:Js,getters:Qs,mutations:Xs,actions:Ws},ec=zs+"/api/user-employments",tc={fetchEmployments:function(e){Ee.a.get(ec).then((function(t){e.commit("SET_EMPLOYMENT",t.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},updateEmployment:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),Ee.a.put(ec+"/update",t).then((function(t){e.commit("UPDATE_EMPLOYMENT",t.data),e.commit("DIALOG_STATUS",!1,{root:!0}),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"User Employment successfully updated.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(t){e.commit("EMPLOYMENT_ERROR",t.response.data),e.commit("LOADING_STATUS",!1,{root:!0})}))}},ac=tc,ic={employments:[],errors:[]},rc={getEmployments:function(e){return e.employments},getEmploymentErrors:function(e){return e.errors}},nc={SET_EMPLOYMENT:function(e,t){e.employments=t},UPDATE_EMPLOYMENT:function(e,t){e.employments=e.employments.map((function(e){return e.id===t.id?Object.assign({},e,t):e}))},EMPLOYMENT_ERROR:function(e,t){e.errors=t}},oc={namespaced:!0,state:ic,getters:rc,mutations:nc,actions:ac},sc=zs+"/api/branches",cc={fetchBranches:function(e){e.commit("LOADING_STATUS",!0,{root:!0}),Ee.a.get(sc).then((function(t){e.commit("SET_BRANCH",t.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},storeBranch:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),Ee.a.post(sc,t).then((function(t){e.commit("STORE_BRANCH",t.data),e.commit("DIALOG_STATUS",!1,{root:!0}),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"Branch successfully added.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(t){e.commit("BRANCH_ERROR",t.response.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},updateBranch:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),Ee.a.put(sc+"/update",t).then((function(t){e.commit("UPDATE_BRANCH",t.data),e.commit("DIALOG_STATUS",!1,{root:!0}),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"Branch successfully updated.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(t){e.commit("BRANCH_ERROR",t.response.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},deleteBranches:function(e,t){console.log(t),e.commit("LOADING_STATUS",!0,{root:!0}),Ee.a.patch(sc+"/delete/multiple",t).then((function(t){e.commit("DELETE_BRANCHES",t.data),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"Branch(es) successfully deleted.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(e){console.log(e.response.data)}))}},lc=cc,dc={branches:[],errors:[]},uc={getBranches:function(e){return e.branches},getBranchErrors:function(e){return e.errors}},mc={SET_BRANCH:function(e,t){e.branches=t},STORE_BRANCH:function(e,t){e.branches.unshift(t)},UPDATE_BRANCH:function(e,t){e.branches=e.branches.map((function(e){return e.id===t.id?Object.assign({},e,t):e}))},DELETE_BRANCHES:function(e,t){for(var a=t.length-1;a>=0;a--){var i=e.branches.findIndex((function(e){return e.id===t[a].id}));e.branches.splice(i,1)}},BRANCH_ERROR:function(e,t){e.errors=t}},pc={namespaced:!0,state:dc,getters:uc,mutations:mc,actions:lc},vc=zs+"/api/bscheds",hc={fetchSchedules:function(e){e.commit("LOADING_STATUS",!0,{root:!0}),Ee.a.get(vc).then((function(t){e.commit("SET_SCHEDULE",t.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},storeSchedule:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),Ee.a.post(vc,t).then((function(t){e.commit("STORE_SCHEDULE",t.data),e.commit("DIALOG_STATUS",!1,{root:!0}),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"Schedule successfully added.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(t){e.commit("SCHEDULE_ERROR",t.response.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},updateSchedule:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),Ee.a.put(vc+"/update",t).then((function(t){e.commit("UPDATE_SCHEDULE",t.data),e.commit("DIALOG_STATUS",!1,{root:!0}),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"Schedule successfully updated.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(t){e.commit("SCHEDULE_ERROR",t.response.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},deleteSchedules:function(e,t){console.log(t),e.commit("LOADING_STATUS",!0,{root:!0}),Ee.a.patch(vc+"/delete/multiple",t).then((function(t){e.commit("DELETE_SCHEDULES",t.data),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"Schedule(s) successfully deleted.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(e){console.log(e.response.data)}))}},fc=hc,_c={schedules:[],errors:[]},gc={getSchedules:function(e){return e.schedules},getScheduleErrors:function(e){return e.errors}},bc={SET_SCHEDULE:function(e,t){e.schedules=t},STORE_SCHEDULE:function(e,t){e.schedules.unshift(t)},UPDATE_SCHEDULE:function(e,t){e.schedules=e.schedules.map((function(e){return e.id===t.id?Object.assign({},e,t):e}))},DELETE_SCHEDULES:function(e,t){for(var a=t.length-1;a>=0;a--){var i=e.schedules.findIndex((function(e){return e.id===t[a].id}));e.schedules.splice(i,1)}},SCHEDULE_ERROR:function(e,t){e.errors=t}},xc={namespaced:!0,state:_c,getters:gc,mutations:bc,actions:fc},Tc=zs+"/api/regions",yc={fetchRegions:function(e){e.commit("LOADING_STATUS",!0,{root:!0}),Ee.a.get(Tc).then((function(t){e.commit("SET_REGION",t.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},storeRegion:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),Ee.a.post(Tc,t).then((function(t){e.commit("STORE_REGION",t.data),e.commit("DIALOG_STATUS",!1,{root:!0}),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"Region successfully added.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(t){e.commit("REGION_ERROR",t.response.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},updateRegion:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),Ee.a.put(Tc+"/update",t).then((function(t){e.commit("UPDATE_REGION",t.data),e.commit("DIALOG_STATUS",!1,{root:!0}),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"Region successfully updated.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(t){e.commit("REGION_ERROR",t.response.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},deleteRegions:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),Ee.a.patch(Tc+"/delete/multiple",t).then((function(t){e.commit("DELETE_REGIONS",t.data),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"Region(s) successfully deleted.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(e){console.log(e.response.data)}))}},Sc=yc,Dc={regions:[],errors:[],regionItem:[],branchDialog:!1},kc={getRegions:function(e){return e.regions},getRegionErrors:function(e){return e.errors},getBranchDialog:function(e){return e.branchDialog},getRegionItem:function(e){return e.regionItem}},Ec={SET_REGION:function(e,t){e.regions=t},STORE_REGION:function(e,t){e.regions.unshift(t)},UPDATE_REGION:function(e,t){e.regions=e.regions.map((function(e){return e.id===t.id?Object.assign({},e,t):e}))},DELETE_REGIONS:function(e,t){for(var a=t.length-1;a>=0;a--){var i=e.regions.findIndex((function(e){return e.id===t[a].id}));e.regions.splice(i,1)}},REGION_ERROR:function(e,t){e.errors=t},SET_REGION_ITEM:function(e,t){e.branchDialog=t.dialog,e.regionItem=t.item}},Ac={namespaced:!0,state:Dc,getters:kc,mutations:Ec,actions:Sc},Ic=zs+"/api/divisions",Cc={fetchDivisions:function(e){e.commit("LOADING_STATUS",!0,{root:!0}),Ee.a.get(Ic).then((function(t){e.commit("SET_DIVISION",t.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},storeDivision:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),Ee.a.post(Ic,t).then((function(t){e.commit("STORE_DIVISION",t.data),e.commit("DIALOG_STATUS",!1,{root:!0}),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"Division successfully added.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(t){e.commit("DIVISION_ERROR",t.response.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},updateDivision:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),Ee.a.put(Ic+"/update",t).then((function(t){e.commit("UPDATE_DIVISION",t.data),e.commit("DIALOG_STATUS",!1,{root:!0}),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"Division successfully updated.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(t){e.commit("DIVISION_ERROR",t.response.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},deleteDivisions:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),Ee.a.patch(Ic+"/delete/multiple",t).then((function(t){e.commit("DELETE_DIVISIONS",t.data),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"Division(s) successfully deleted.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(e){console.log(e.response.data)}))}},Oc=Cc,Nc={divisions:[],errors:[],divisionItem:[],deptDialog:!1},$c={getDivisions:function(e){return e.divisions},getDivisionErrors:function(e){return e.errors},getDeptDialog:function(e){return e.deptDialog},getDivisionItem:function(e){return e.divisionItem}},wc={SET_DIVISION:function(e,t){e.divisions=t},STORE_DIVISION:function(e,t){e.divisions.unshift(t)},UPDATE_DIVISION:function(e,t){e.divisions=e.divisions.map((function(e){return e.id===t.id?Object.assign({},e,t):e}))},DELETE_DIVISIONS:function(e,t){for(var a=t.length-1;a>=0;a--){var i=e.divisions.findIndex((function(e){return e.id===t[a].id}));e.divisions.splice(i,1)}},DIVISION_ERROR:function(e,t){e.errors=t},SET_DIVISION_ITEM:function(e,t){e.deptDialog=t.dialog,e.divisionItem=t.item}},Rc={namespaced:!0,state:Nc,getters:$c,mutations:wc,actions:Oc},Pc=zs+"/api/departments",Vc={fetchDepartments:function(e){e.commit("LOADING_STATUS",!0,{root:!0}),Ee.a.get(Pc).then((function(t){e.commit("SET_DEPARTMENT",t.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},storeDepartment:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),Ee.a.post(Pc,t).then((function(t){e.commit("STORE_DEPARTMENT",t.data),e.commit("DIALOG_STATUS",!1,{root:!0}),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"Department successfully added.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(t){e.commit("DEPARTMENT_ERROR",t.response.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},updateDepartment:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),Ee.a.put(Pc+"/update",t).then((function(t){e.commit("UPDATE_DEPARTMENT",t.data),e.commit("DIALOG_STATUS",!1,{root:!0}),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"Department successfully updated.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(t){e.commit("DEPARTMENT_ERROR",t.response.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},deleteDepartments:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),Ee.a.patch(Pc+"/delete/multiple",t).then((function(t){e.commit("DELETE_DEPARTMENTS",t.data),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"Department(s) successfully deleted.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(e){console.log(e.response.data)}))}},qc=Vc,Lc={departments:[],errors:[]},Uc={getDepartments:function(e){return e.departments},getDepartmentErrors:function(e){return e.errors}},jc={SET_DEPARTMENT:function(e,t){e.departments=t},STORE_DEPARTMENT:function(e,t){e.departments.unshift(t)},UPDATE_DEPARTMENT:function(e,t){e.departments=e.departments.map((function(e){return e.id===t.id?Object.assign({},e,t):e}))},DELETE_DEPARTMENTS:function(e,t){for(var a=t.length-1;a>=0;a--){var i=e.departments.findIndex((function(e){return e.id===t[a].id}));e.departments.splice(i,1)}},DEPARTMENT_ERROR:function(e,t){e.errors=t}},Bc={namespaced:!0,state:Lc,getters:Uc,mutations:jc,actions:qc},Mc=zs+"/api/positions",Gc={fetchPositions:function(e){e.commit("LOADING_STATUS",!0,{root:!0}),Ee.a.get(Mc).then((function(t){e.commit("SET_POSITION",t.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},storePosition:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),Ee.a.post(Mc,t).then((function(t){e.commit("STORE_POSITION",t.data),e.commit("DIALOG_STATUS",!1,{root:!0}),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"Position successfully added.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(t){e.commit("POSITION_ERROR",t.response.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},updatePosition:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),Ee.a.put(Mc+"/update",t).then((function(t){e.commit("UPDATE_POSITION",t.data),e.commit("DIALOG_STATUS",!1,{root:!0}),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"Position successfully updated.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(t){e.commit("POSITION_ERROR",t.response.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},deletePositions:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),Ee.a.patch(Mc+"/delete/multiple",t).then((function(t){e.commit("DELETE_POSITIONS",t.data),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"Position(s) successfully deleted.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(e){console.log(e.response.data)}))}},Fc=Gc,Yc={positions:[],errors:[]},zc={getPositions:function(e){return e.positions},getPositionErrors:function(e){return e.errors}},Hc={SET_POSITION:function(e,t){e.positions=t},STORE_POSITION:function(e,t){e.positions.unshift(t)},UPDATE_POSITION:function(e,t){e.positions=e.positions.map((function(e){return e.id===t.id?Object.assign({},e,t):e}))},DELETE_POSITIONS:function(e,t){for(var a=t.length-1;a>=0;a--){var i=e.positions.findIndex((function(e){return e.id===t[a].id}));e.positions.splice(i,1)}},POSITION_ERROR:function(e,t){e.errors=t}},Kc={namespaced:!0,state:Yc,getters:zc,mutations:Hc,actions:Fc},Wc=zs+"/api/roles",Jc={fetchRoles:function(e){e.commit("LOADING_STATUS",!0,{root:!0}),Ee.a.get(Wc).then((function(t){e.commit("SET_ROLE",t.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},storeRole:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),Ee.a.post(Wc,t).then((function(a){console.log(t),e.commit("STORE_ROLE",a.data),e.commit("DIALOG_STATUS",!1,{root:!0}),e.commit("LOADING_STATUS",!1,{root:!0});var i=[{status:!0,message:"Role successfully added.",timeout:3e3}];e.commit("SNACKBAR_STATUS",i,{root:!0})})).catch((function(t){e.commit("ROLE_ERROR",t.response.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},updateRole:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),Ee.a.put(Wc+"/update",t).then((function(t){e.commit("UPDATE_ROLE",t.data),e.commit("DIALOG_STATUS",!1,{root:!0}),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"Role successfully updated.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(t){e.commit("ROLE_ERROR",t.response.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},deleteRoles:function(e,t){console.log(t),e.commit("LOADING_STATUS",!0,{root:!0}),Ee.a.patch(Wc+"/delete/multiple",t).then((function(t){e.commit("DELETE_ROLES",t.data),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"Role(s) successfully deleted.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(e){console.log(e.response.data)}))}},Qc=Jc,Xc={roles:[],errors:[],roleItem:[],permDialog:!1},Zc={getRoles:function(e){return e.roles},getRoleErrors:function(e){return e.errors},getPermDialog:function(e){return e.permDialog},getRoleItem:function(e){return e.roleItem}},el={SET_ROLE:function(e,t){e.roles=t},STORE_ROLE:function(e,t){e.roles.unshift(t)},UPDATE_ROLE:function(e,t){e.roles=e.roles.map((function(e){return e.id===t.id?Object.assign({},e,t):e}))},DELETE_ROLES:function(e,t){for(var a=t.length-1;a>=0;a--){var i=e.roles.findIndex((function(e){return e.id===t[a].id}));e.roles.splice(i,1)}},ROLE_ERROR:function(e,t){e.errors=t},SET_ROLE_ITEM:function(e,t){e.permDialog=t.dialog,e.roleItem=t.item}},tl={namespaced:!0,state:Xc,getters:Zc,mutations:el,actions:Qc},al=zs+"/api/permissions",il={fetchPerms:function(e){e.commit("LOADING_STATUS",!0,{root:!0}),Ee.a.get(al).then((function(t){e.commit("SET_PERM",t.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},storePerm:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),Ee.a.post(al,t).then((function(t){e.commit("STORE_PERM",t.data),e.commit("DIALOG_STATUS",!1,{root:!0}),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"Permission successfully added.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(t){e.commit("PERM_ERROR",t.response.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},updatePerm:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),Ee.a.put(al+"/update",t).then((function(t){e.commit("UPDATE_PERM",t.data),e.commit("DIALOG_STATUS",!1,{root:!0}),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"Permission successfully updated.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(t){e.commit("PERM_ERROR",t.response.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},deletePerms:function(e,t){console.log(t),e.commit("LOADING_STATUS",!0,{root:!0}),Ee.a.patch(al+"/delete/multiple",t).then((function(t){e.commit("DELETE_PERMS",t.data),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"Permission(s) successfully deleted.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(e){console.log(e.response.data)}))}},rl=il,nl={perms:[],errors:[]},ol={getPerms:function(e){return e.perms},getPermErrors:function(e){return e.errors}},sl={SET_PERM:function(e,t){e.perms=t},STORE_PERM:function(e,t){e.perms.unshift(t)},UPDATE_PERM:function(e,t){e.perms=e.perms.map((function(e){return e.id===t.id?Object.assign({},e,t):e}))},DELETE_PERMS:function(e,t){for(var a=t.length-1;a>=0;a--){var i=e.perms.findIndex((function(e){return e.id===t[a].id}));e.perms.splice(i,1)}},PERM_ERROR:function(e,t){e.errors=t}},cl={namespaced:!0,state:nl,getters:ol,mutations:sl,actions:rl},ll=zs+"/api/product-items",dl={fetchItems:function(e){e.commit("LOADING_STATUS",!0,{root:!0}),Ee.a.get(ll).then((function(t){e.commit("SET_ITEM",t.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},storeItem:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),Ee.a.post(ll,t).then((function(t){e.commit("STORE_ITEM",t.data),e.commit("DIALOG_STATUS",!1,{root:!0}),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"Product Item successfully added.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(t){e.commit("ITEM_ERROR",t.response.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},updateItem:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),Ee.a.put(ll+"/update",t).then((function(t){e.commit("UPDATE_ITEM",t.data),e.commit("DIALOG_STATUS",!1,{root:!0}),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"Product Item successfully updated.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(t){e.commit("ITEM_ERROR",t.response.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},deleteItems:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),Ee.a.patch(ll+"/delete/multiple",t).then((function(t){e.commit("DELETE_ITEMS",t.data),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"Product Item(s) successfully deleted.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(e){console.log(e.response.data)}))}},ul=dl,ml={items:[],errors:[]},pl={getItems:function(e){return e.items},getItemErrors:function(e){return e.errors}},vl={SET_ITEM:function(e,t){e.items=t},STORE_ITEM:function(e,t){e.items.unshift(t)},UPDATE_ITEM:function(e,t){e.items=e.items.map((function(e){return e.id===t.id?Object.assign({},e,t):e}))},DELETE_ITEMS:function(e,t){for(var a=t.length-1;a>=0;a--){var i=e.items.findIndex((function(e){return e.id===t[a].id}));e.items.splice(i,1)}},ITEM_ERROR:function(e,t){e.errors=t}},hl={namespaced:!0,state:ml,getters:pl,mutations:vl,actions:ul},fl=zs+"/api/product-brands",_l={fetchBrands:function(e){e.commit("LOADING_STATUS",!0,{root:!0}),Ee.a.get(fl).then((function(t){e.commit("SET_BRAND",t.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},storeBrand:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),Ee.a.post(fl,t).then((function(t){e.commit("STORE_BRAND",t.data),e.commit("DIALOG_STATUS",!1,{root:!0}),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"Product Brand successfully added.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(t){e.commit("BRAND_ERROR",t.response.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},updateBrand:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),Ee.a.put(fl+"/update",t).then((function(t){e.commit("UPDATE_BRAND",t.data),e.commit("DIALOG_STATUS",!1,{root:!0}),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"Product Brand successfully updated.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(t){e.commit("BRAND_ERROR",t.response.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},deleteBrands:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),Ee.a.patch(fl+"/delete/multiple",t).then((function(t){e.commit("DELETE_BRANDS",t.data),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"Product Brand(s) successfully deleted.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(e){console.log(e.response.data)}))}},gl=_l,bl={brands:[],errors:[]},xl={getBrands:function(e){return e.brands},getBrandErrors:function(e){return e.errors}},Tl={SET_BRAND:function(e,t){e.brands=t},STORE_BRAND:function(e,t){e.brands.unshift(t)},UPDATE_BRAND:function(e,t){e.brands=e.brands.map((function(e){return e.id===t.id?Object.assign({},e,t):e}))},DELETE_BRANDS:function(e,t){for(var a=t.length-1;a>=0;a--){var i=e.brands.findIndex((function(e){return e.id===t[a].id}));e.brands.splice(i,1)}},BRAND_ERROR:function(e,t){e.errors=t}},yl={namespaced:!0,state:bl,getters:xl,mutations:Tl,actions:gl},Sl=zs+"/api/product-categories",Dl={fetchCategories:function(e){e.commit("LOADING_STATUS",!0,{root:!0}),Ee.a.get(Sl).then((function(t){e.commit("SET_CATEGORY",t.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},storeCategory:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),Ee.a.post(Sl,t).then((function(t){e.commit("STORE_CATEGORY",t.data),e.commit("DIALOG_STATUS",!1,{root:!0}),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"Product Category successfully added.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(t){e.commit("CATEGORY_ERROR",t.response.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},updateCategory:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),Ee.a.put(Sl+"/update",t).then((function(t){e.commit("UPDATE_CATEGORY",t.data),e.commit("DIALOG_STATUS",!1,{root:!0}),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"Product Category successfully updated.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(t){e.commit("CATEGORY_ERROR",t.response.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},deleteCategories:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),Ee.a.patch(Sl+"/delete/multiple",t).then((function(t){e.commit("DELETE_CATEGORIES",t.data),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"Product Category(s) successfully deleted.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(e){console.log(e.response.data)}))}},kl=Dl,El={categories:[],errors:[]},Al={getCategories:function(e){return e.categories},getCategoryErrors:function(e){return e.errors}},Il={SET_CATEGORY:function(e,t){e.categories=t},STORE_CATEGORY:function(e,t){e.categories.unshift(t)},UPDATE_CATEGORY:function(e,t){e.categories=e.categories.map((function(e){return e.id===t.id?Object.assign({},e,t):e}))},DELETE_CATEGORIES:function(e,t){for(var a=t.length-1;a>=0;a--){var i=e.categories.findIndex((function(e){return e.id===t[a].id}));e.categories.splice(i,1)}},CATEGORY_ERROR:function(e,t){e.errors=t}},Cl={namespaced:!0,state:El,getters:Al,mutations:Il,actions:kl},Ol=zs+"/api/service-types",Nl={fetchTypes:function(e){e.commit("LOADING_STATUS",!0,{root:!0}),Ee.a.get(Ol).then((function(t){e.commit("SET_TYPE",t.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},storeType:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),Ee.a.post(Ol,t).then((function(t){e.commit("STORE_TYPE",t.data),e.commit("DIALOG_STATUS",!1,{root:!0}),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"Service Type successfully added.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(t){e.commit("TYPE_ERROR",t.response.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},updateType:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),Ee.a.put(Ol+"/update",t).then((function(t){e.commit("UPDATE_TYPE",t.data),e.commit("DIALOG_STATUS",!1,{root:!0}),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"Service Type successfully updated.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(t){e.commit("TYPE_ERROR",t.response.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},deleteTypes:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),Ee.a.patch(Ol+"/delete/multiple",t).then((function(t){e.commit("DELETE_TYPES",t.data),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"Service Type(s) successfully deleted.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(e){console.log(e.response.data)}))}},$l=Nl,wl={types:[],errors:[]},Rl={getTypes:function(e){return e.types},getTypeErrors:function(e){return e.errors}},Pl={SET_TYPE:function(e,t){e.types=t},STORE_TYPE:function(e,t){e.types.unshift(t)},UPDATE_TYPE:function(e,t){e.types=e.types.map((function(e){return e.id===t.id?Object.assign({},e,t):e}))},DELETE_TYPES:function(e,t){for(var a=t.length-1;a>=0;a--){var i=e.types.findIndex((function(e){return e.id===t[a].id}));e.types.splice(i,1)}},TYPE_ERROR:function(e,t){e.errors=t}},Vl={namespaced:!0,state:wl,getters:Rl,mutations:Pl,actions:$l},ql=zs+"/api/service-categories",Ll={fetchCategories:function(e){e.commit("LOADING_STATUS",!0,{root:!0}),Ee.a.get(ql).then((function(t){e.commit("SET_CATEGORY",t.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},storeCategory:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),Ee.a.post(ql,t).then((function(t){e.commit("STORE_CATEGORY",t.data),e.commit("DIALOG_STATUS",!1,{root:!0}),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"Service Category successfully added.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(t){e.commit("CATEGORY_ERROR",t.response.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},updateCategory:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),Ee.a.put(ql+"/update",t).then((function(t){e.commit("UPDATE_CATEGORY",t.data),e.commit("DIALOG_STATUS",!1,{root:!0}),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"Service Category successfully updated.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(t){e.commit("CATEGORY_ERROR",t.response.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},deleteCategories:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),Ee.a.patch(ql+"/delete/multiple",t).then((function(t){e.commit("DELETE_CATEGORIES",t.data),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"Service Category(s) successfully deleted.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(e){console.log(e.response.data)}))}},Ul=Ll,jl={categories:[],errors:[]},Bl={getCategories:function(e){return e.categories},getCategoryErrors:function(e){return e.errors}},Ml={SET_CATEGORY:function(e,t){e.categories=t},STORE_CATEGORY:function(e,t){e.categories.unshift(t)},UPDATE_CATEGORY:function(e,t){e.categories=e.categories.map((function(e){return e.id===t.id?Object.assign({},e,t):e}))},DELETE_CATEGORIES:function(e,t){for(var a=t.length-1;a>=0;a--){var i=e.categories.findIndex((function(e){return e.id===t[a].id}));e.categories.splice(i,1)}},CATEGORY_ERROR:function(e,t){e.errors=t}},Gl={namespaced:!0,state:jl,getters:Bl,mutations:Ml,actions:Ul},Fl=zs+"/api/service-providers",Yl={fetchProviders:function(e){e.commit("LOADING_STATUS",!0,{root:!0}),Ee.a.get(Fl).then((function(t){e.commit("SET_PROVIDER",t.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},storeProvider:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),Ee.a.post(Fl,t).then((function(t){e.commit("STORE_PROVIDER",t.data),e.commit("DIALOG_STATUS",!1,{root:!0}),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"Service Provider successfully added.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(t){e.commit("PROVIDER_ERROR",t.response.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},updateProvider:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),Ee.a.put(Fl+"/update",t).then((function(t){e.commit("UPDATE_PROVIDER",t.data),e.commit("DIALOG_STATUS",!1,{root:!0}),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"Service Provider successfully updated.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(t){e.commit("PROVIDER_ERROR",t.response.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},deleteProviders:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),Ee.a.patch(Fl+"/delete/multiple",t).then((function(t){e.commit("DELETE_PROVIDERS",t.data),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"Service Provider(s) successfully deleted.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(e){console.log(e.response.data)}))}},zl=Yl,Hl={providers:[],errors:[]},Kl={getProviders:function(e){return e.providers},getProviderErrors:function(e){return e.errors}},Wl={SET_PROVIDER:function(e,t){e.providers=t},STORE_PROVIDER:function(e,t){e.providers.unshift(t)},UPDATE_PROVIDER:function(e,t){e.providers=e.providers.map((function(e){return e.id===t.id?Object.assign({},e,t):e}))},DELETE_PROVIDERS:function(e,t){for(var a=t.length-1;a>=0;a--){var i=e.providers.findIndex((function(e){return e.id===t[a].id}));e.providers.splice(i,1)}},PROVIDER_ERROR:function(e,t){e.errors=t}},Jl={namespaced:!0,state:Hl,getters:Kl,mutations:Wl,actions:zl},Ql=zs+"/api/computerware-tickets",Xl={fetchTickets:function(e){e.commit("LOADING_STATUS",!0,{root:!0}),Ee.a.get(Ql).then((function(t){e.commit("SET_TICKET",t.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},storeTicket:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),Ee.a.post(Ql,t).then((function(t){e.commit("STORE_TICKET",t.data),e.commit("DIALOG_STATUS",!1,{root:!0}),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"Ticket successfully added.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(t){e.commit("TICKET_ERROR",t.response.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},updateTicket:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),Ee.a.put(Ql+"/update",t).then((function(t){e.commit("UPDATE_TICKET",t.data),e.commit("DIALOG_STATUS",!1,{root:!0}),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"Ticket successfully updated.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(t){e.commit("TICKET_ERROR",t.response.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},deleteTickets:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),Ee.a.patch(Ql+"/delete/multiple",t).then((function(t){e.commit("DELETE_TICKETS",t.data),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"Ticket(s) successfully deleted.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(e){console.log(e.response.data)}))}},Zl=Xl,ed={tickets:[],errors:[]},td={getTickets:function(e){return e.tickets},getTicketErrors:function(e){return e.errors}},ad={SET_TICKET:function(e,t){e.tickets=t},STORE_TICKET:function(e,t){e.tickets.unshift(t)},UPDATE_TICKET:function(e,t){e.tickets=e.tickets.map((function(e){return e.id===t.id?Object.assign({},e,t):e}))},DELETE_TICKETS:function(e,t){for(var a=t.length-1;a>=0;a--){var i=e.tickets.findIndex((function(e){return e.id===t[a].id}));e.tickets.splice(i,1)}},TICKET_ERROR:function(e,t){e.errors=t}},id={namespaced:!0,state:ed,getters:td,mutations:ad,actions:Zl},rd=zs+"/api/connectivity-tickets",nd={fetchTickets:function(e){e.commit("LOADING_STATUS",!0,{root:!0}),Ee.a.get(rd).then((function(t){e.commit("SET_TICKET",t.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},storeTicket:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),Ee.a.post(rd,t).then((function(t){e.commit("STORE_TICKET",t.data),e.commit("DIALOG_STATUS",!1,{root:!0}),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"Ticket successfully added.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(t){e.commit("TICKET_ERROR",t.response.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},updateTicket:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),Ee.a.put(rd+"/update",t).then((function(t){e.commit("UPDATE_TICKET",t.data),e.commit("DIALOG_STATUS",!1,{root:!0}),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"Ticket successfully updated.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(t){e.commit("TICKET_ERROR",t.response.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},deleteTickets:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),Ee.a.patch(rd+"/delete/multiple",t).then((function(t){e.commit("DELETE_TICKETS",t.data),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"Ticket(s) successfully deleted.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(e){console.log(e.response.data)}))}},od=nd,sd={tickets:[],errors:[]},cd={getTickets:function(e){return e.tickets},getTicketErrors:function(e){return e.errors}},ld={SET_TICKET:function(e,t){e.tickets=t},STORE_TICKET:function(e,t){e.tickets.unshift(t)},UPDATE_TICKET:function(e,t){e.tickets=e.tickets.map((function(e){return e.id===t.id?Object.assign({},e,t):e}))},DELETE_TICKETS:function(e,t){for(var a=t.length-1;a>=0;a--){var i=e.tickets.findIndex((function(e){return e.id===t[a].id}));e.tickets.splice(i,1)}},TICKET_ERROR:function(e,t){e.errors=t}},dd={namespaced:!0,state:sd,getters:cd,mutations:ld,actions:od},ud=zs+"/api/power-interruptions",md={fetchPowerInterruptions:function(e){e.commit("LOADING_STATUS",!0,{root:!0}),Ee.a.get(ud).then((function(t){e.commit("SET_POWERINTERRUPTION",t.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},storePowerInterruption:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),Ee.a.post(ud,t).then((function(t){e.commit("STORE_POWERINTERRUPTION",t.data),e.commit("DIALOG_STATUS",!1,{root:!0}),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"Power Interruption successfully added.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(t){e.commit("POWERINTERRUPTION_ERROR",t.response.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},updatePowerInterruption:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),Ee.a.put(ud+"/update",t).then((function(t){e.commit("UPDATE_POWERINTERRUPTION",t.data),e.commit("DIALOG_STATUS",!1,{root:!0}),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"Power Interruption successfully updated.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(t){e.commit("POWERINTERRUPTION_ERROR",t.response.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},deletePowerInterruptions:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),Ee.a.patch(ud+"/delete/multiple",t).then((function(t){e.commit("DELETE_POWERINTERRUPTIONS",t.data),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"Power Interruption(s) successfully deleted.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(e){console.log(e.response.data)}))}},pd=md,vd={powerinterruptions:[],errors:[],powerinterruptionItem:[]},hd={getPowerInterruptions:function(e){return e.powerinterruptions},getPowerInterruptionErrors:function(e){return e.errors},getPowerInterruptionItem:function(e){return e.powerinterruptionItem}},fd={SET_POWERINTERRUPTION:function(e,t){e.powerinterruptions=t},STORE_POWERINTERRUPTION:function(e,t){e.powerinterruptions.unshift(t)},UPDATE_POWERINTERRUPTION:function(e,t){e.powerinterruptions=e.powerinterruptions.map((function(e){return e.id===t.id?Object.assign({},e,t):e}))},DELETE_POWERINTERRUPTIONS:function(e,t){for(var a=t.length-1;a>=0;a--){var i=e.powerinterruptions.findIndex((function(e){return e.id===t[a].id}));e.powerinterruptions.splice(i,1)}},POWERINTERRUPTION_ERROR:function(e,t){e.errors=t},SET_POWERINTERRUPTION_ITEM:function(e,t){e.powerinterruptionItem=t.item}},_d={namespaced:!0,state:vd,getters:hd,mutations:fd,actions:pd},gd=zs+"/api/pending-transactions",bd={fetchPendingTrans:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),Ee.a.post(gd+"/index",t).then((function(t){e.commit("SET_PENDINGTRAN",t.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},storePendingTran:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),Ee.a.post(gd,t).then((function(t){e.commit("STORE_PENDINGTRAN",t.data),e.commit("DIALOG_STATUS",!1,{root:!0}),e.commit("LOADING_STATUS",!1,{root:!0});var a="";a=0==t.data.inDB?"Pending Transaction successfully added.":"Pending Transaction successfully updated.";var i=[{status:!0,message:a,timeout:3e3}];e.commit("SNACKBAR_STATUS",i,{root:!0})})).catch((function(t){e.commit("PENDINGTRAN_ERROR",t.response.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},addAllPendingTran:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),Ee.a.patch(gd+"/addall",t).then((function(t){console.log(t.data),e.commit("DIALOG_STATUS",!1,{root:!0}),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"All Pending Transaction(s) successfully added to current.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(t){e.commit("PENDINGTRAN_ERROR",t.response.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},updatePendingTran:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),Ee.a.put(gd+"/update",t).then((function(t){console.log(t.data);var a=[{status:!0,message:"Pending Transaction successfully updated.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(t){e.commit("PENDINGTRAN_ERROR",t.message),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"Update failed!",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})}))},deletePendingTran:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),Ee.a.patch(gd+"/delete",t).then((function(t){e.commit("DELETE_PENDINGTRAN",t.data),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"Pending Transaction successfully deleted.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(e){console.log(e.response.data)}))}},xd=bd,Td={pendingtrans:[],errors:[],pendingtranItem:[]},yd={getPendingTrans:function(e){return e.pendingtrans},getPendingTranErrors:function(e){return e.errors}},Sd={SET_PENDINGTRAN:function(e,t){e.pendingtrans=t},STORE_PENDINGTRAN:function(e,t){var a=e.pendingtrans,i=a.findIndex((function(e){return e.id===t.branch_id})),r=e.pendingtrans[i].pendings,n=r.findIndex((function(e){return e.docdate===t.docdate}));-1==n?e.pendingtrans[i].pendings.push(t):e.pendingtrans[i].pendings=e.pendingtrans[i].pendings.map((function(e){return e.id===t.id?Object.assign({},e,t):e}))},DELETE_PENDINGTRAN:function(e,t){var a=e.pendingtrans,i=a.findIndex((function(e){return e.id===t.branch_id})),r=e.pendingtrans[i].pendings,n=r.findIndex((function(e){return e.id===t.id}));e.pendingtrans[i].pendings.splice(n,1)},PENDINGTRAN_ERROR:function(e,t){e.errors=t}},Dd={namespaced:!0,state:Td,getters:yd,mutations:Sd,actions:xd},kd=zs+"/api/archived/index",Ed=zs+"/api/archived/store",Ad=zs+"/api/archived/update",Id=zs+"/api/archived/download",Cd=zs+"/api/archived/delete",Od=zs+"/api/archived/delete/attachment",Nd={fetchArchived:function(e){e.commit("LOADING_STATUS",!0,{root:!0}),Ee.a.get(kd).then((function(t){e.commit("GET_PROVIDER",t.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},storeArchived:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0});var a=new FormData;a.append("tctFile-file",t.tctinfo.tctFile[0]),a.append("taxdecFile-file",t.taxDecInfo.taxdecFile[0]),a.append("realPropertyTaxFile-file",t.realProInfo.realPropertyTaxFile[0]),a.append("vicinityMapFile-file",t.vicinityMapFile),a.append("deedOfSaleFile-file",t.deedOfSaleFile[0]),a.append("tctNumber",t.tctinfo.tctNumber),a.append("location",t.tctinfo.location),a.append("dateAquired",t.tctinfo.dateAquired),a.append("area",t.tctinfo.area),a.append("taxDecNumber",t.taxDecInfo.taxDecNumber),a.append("taxDecOption",t.taxDecInfo.taxDecOption),a.append("owner",t.taxDecInfo.owner),a.append("previousOwner",t.taxDecInfo.previousOwner),a.append("realPropertyTaxNumber",t.realProInfo.realPropertyTaxNumber),a.append("realPropertyTaxDate",t.realProInfo.realPropertyTaxDate),a.append("realPropertyTaxOption",t.realProInfo.realPropertyTaxOption),a.append("realPropertyTaxAmount",t.realProInfo.realPropertyTaxAmount),a.append("zonalValue",t.zonalValue2),a.append("tctFile-file2",t.tctinfo2.tctFile[0]),a.append("taxdecFile-file2",t.taxDecInfo2.taxdecFile[0]),a.append("realPropertyTaxFile-file2",t.realProInfo2.realPropertyTaxFile[0]),a.append("vicinityMapFile-file2",t.vicinityMapFile2),a.append("deedOfSaleFile-file2",t.deedOfSaleFile2[0]),a.append("taxDecNumber2",t.taxDecInfo2.taxDecNumber),a.append("taxDecOption2",t.taxDecInfo2.taxDecOption),a.append("owner2",t.taxDecInfo2.owner),a.append("previousOwner2",t.taxDecInfo2.previousOwner),a.append("realPropertyTaxNumber2",t.realProInfo2.realPropertyTaxNumber),a.append("realPropertyTaxDate2",t.realProInfo2.realPropertyTaxDate),a.append("realPropertyTaxOption2",t.realProInfo2.realPropertyTaxOption),a.append("realPropertyTaxAmount2",t.realProInfo2.realPropertyTaxAmount),a.append("zonalValue2",t.zonalValue2),Ee.a.post(Ed,a,{headers:{"Content-Type":"multipart/form-data"}}).then((function(t){console.log(t.data),e.commit("DIALOG_STATUS",!1,{root:!0}),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"New Archived Land Docs successfully added.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(t){e.commit("PERM_ERROR",t.response.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},updateArchived:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0});var a=new FormData;a.append("form-id",t.tctinfo.id),a.append("tctFile-file",t.tctinfo.tctFile[0]),a.append("taxdecFile-file",t.taxDecInfo.taxdecFile[0]),a.append("realPropertyTaxFile-file",t.realProInfo.realPropertyTaxFile[0]),a.append("vicinityMapFile-file",t.vicinityMapFile),a.append("deedOfSaleFile-file",t.deedOfSaleFile[0]),a.append("tctFile-file-id",t.tctinfo.tctFileID),a.append("taxdecFile-file-id",t.taxDecInfo.taxdecFileID),a.append("realPropertyTaxFile-file-id",t.realProInfo.realPropertyTaxFileID),a.append("vicinityMapFile-file-id",t.vicinityMapFileID),a.append("deedOfSaleFile-file-id",t.deedOfSaleFileID),a.append("tctFile-file-id2",t.tctinfo2.tctFileID),a.append("taxdecFile-file-id2",t.taxDecInfo2.taxdecFileID),a.append("realPropertyTaxFile-file-id2",t.realProInfo2.realPropertyTaxFileID),a.append("vicinityMapFile-file-id2",t.vicinityMapFileID2),a.append("deedOfSaleFile-file-id2",t.deedOfSaleFileID2),a.append("tctNumber",t.tctinfo.tctNumber),a.append("location",t.tctinfo.location),a.append("dateAquired",t.tctinfo.dateAquired),a.append("area",t.tctinfo.area),a.append("taxDecNumber",t.taxDecInfo.taxDecNumber),a.append("taxDecOption",t.taxDecInfo.taxDecOption),a.append("owner",t.taxDecInfo.owner),a.append("previousOwner",t.taxDecInfo.previousOwner),a.append("realPropertyTaxNumber",t.realProInfo.realPropertyTaxNumber),a.append("realPropertyTaxDate",t.realProInfo.realPropertyTaxDate),a.append("realPropertyTaxOption",t.realProInfo.realPropertyTaxOption),a.append("realPropertyTaxAmount",t.realProInfo.realPropertyTaxAmount),a.append("zonalValue",t.zonalValue),a.append("tctFile-file2",t.tctinfo2.tctFile[0]),a.append("taxdecFile-file2",t.taxDecInfo2.taxdecFile[0]),a.append("realPropertyTaxFile-file2",t.realProInfo2.realPropertyTaxFile[0]),a.append("vicinityMapFile-file2",t.vicinityMapFile2),a.append("deedOfSaleFile-file2",t.deedOfSaleFile2[0]),a.append("taxDecNumber2",t.taxDecInfo2.taxDecNumber),a.append("taxDecOption2",t.taxDecInfo2.taxDecOption),a.append("owner2",t.taxDecInfo2.owner),a.append("previousOwner2",t.taxDecInfo2.previousOwner),a.append("realPropertyTaxNumber2",t.realProInfo2.realPropertyTaxNumber),a.append("realPropertyTaxDate2",t.realProInfo2.realPropertyTaxDate),a.append("realPropertyTaxOption2",t.realProInfo2.realPropertyTaxOption),a.append("realPropertyTaxAmount2",t.realProInfo2.realPropertyTaxAmount),a.append("zonalValue2",t.zonalValue2),Ee.a.post(Ad,a,{headers:{"Content-Type":"multipart/form-data"}}).then((function(t){e.commit("DIALOG_STATUS",!1,{root:!0}),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"Archived successfully Updated.",timeout:3e3}];e.commit("GET_RESPONSE",t),e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(t){e.commit("PERM_ERROR",t.response.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},downloadArchived:function(e,t){Ee.a.post(Id,{id:t.id},{responseType:"blob"}).then((function(a){var i=window.URL.createObjectURL(new Blob([a.data])),r=document.createElement("a");r.href=i,r.setAttribute("download",""+t.name),document.body.appendChild(r),r.click();var n=[{status:!0,message:"File successfully Downloaded.",timeout:3e3}];e.commit("SNACKBAR_STATUS",n,{root:!0})}))},deleteArchived:function(e,t){Ee.a.post(Cd,{id:t}).then((function(t){var a=[{status:!0,message:"File successfully Deleted.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(t){e.commit("PERM_ERROR",t.response.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},attachmentDeletions:function(e,t){Ee.a.post(Od,t).then((function(t){console.log(t.data);var a=[{status:!0,message:"File successfully Deleted.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(t){e.commit("PERM_ERROR",t.response.data),e.commit("LOADING_STATUS",!1,{root:!0})}))}},$d=Nd,wd={archived_data:[],errors:[],response:[]},Rd={getArchived:function(e){return e.archived_data},getResponse:function(e){return e.response}},Pd={GET_PROVIDER:function(e,t){e.archived_data=t},GET_RESPONSE:function(e,t){e.response=t}},Vd={namespaced:!0,state:wd,getters:Rd,mutations:Pd,actions:$d},qd=(a("19de"),zs+"/api/agencies/index"),Ld=zs+"/api/agencies/store",Ud=zs+"/api/agencies/update",jd=zs+"/api/agencies/trash",Bd=zs+"/api/agencies/date",Md=zs+"/api/agencies/delete",Gd=zs+"/api/agencies/download",Fd={fetchAgencies:function(e){e.commit("LOADING_STATUS",!0,{root:!0}),Ee.a.get(qd).then((function(t){e.commit("GET_AGENCIES",t.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},storeAgencies:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0});var a=new FormData;t.dole_file.map((function(e,t){a.append("file-dole"+t,e)})),t.bir_file.map((function(e,t){a.append("file-bir"+t,e)})),t.lgu_file.map((function(e,t){a.append("file-lgu"+t,e)})),Ee.a.post(Ld,a,{headers:{"Content-Type":"multipart/form-data"}}).then((function(t){e.commit("DIALOG_STATUS",!1,{root:!0}),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"New Agencies Land Docs successfully added.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(t){e.commit("PERM_ERROR",t.response.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},updateAgencies:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0});var a=new FormData;t.dole_file.map((function(e,t){a.append("file-dole"+t,e)})),t.bir_file.map((function(e,t){a.append("file-bir"+t,e)})),t.lgu_file.map((function(e,t){a.append("file-lgu"+t,e)})),t.id.map((function(e,t){a.append("id",e)})),Ee.a.post(Ud,a,{headers:{"Content-Type":"multipart/form-data"}}).then((function(t){e.commit("DIALOG_STATUS",!1,{root:!0}),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"Agencies successfully Updated.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(t){e.commit("PERM_ERROR",t.response.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},getDateAgencies:function(e,t){Ee.a.post(Bd,{id:t}).then((function(t){e.commit("DATE_HISTORY",t)}))},downloadAgencies:function(e,t){Ee.a.post(Gd,{id:t.id},{responseType:"blob"}).then((function(a){var i=window.URL.createObjectURL(new Blob([a.data])),r=document.createElement("a");r.href=i,r.setAttribute("download",""+t.filename),document.body.appendChild(r),r.click();var n=[{status:!0,message:"File successfully Downloaded.",timeout:3e3}];e.commit("SNACKBAR_STATUS",n,{root:!0})}))},trashAgencies:function(e,t){Ee.a.post(jd,{id:t}).then((function(t){var a=[{status:!0,message:"File successfully Deleted.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(t){e.commit("PERM_ERROR",t.response.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},deleteAgencies:function(e,t){Ee.a.post(Md,{id:t}).then((function(t){var a=[{status:!0,message:"File successfully Deleted.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(t){e.commit("PERM_ERROR",t.response.data),e.commit("LOADING_STATUS",!1,{root:!0})}))}},Yd=Fd,zd={agencies_data:[],date_history:[],errors:[]},Hd={getAgencies:function(e){return e.agencies_data},getdate_history:function(e){return e.date_history}},Kd={GET_AGENCIES:function(e,t){e.agencies_data=t},DATE_HISTORY:function(e,t){e.date_history=t}},Wd={namespaced:!0,state:zd,getters:Hd,mutations:Kd,actions:Yd},Jd=zs+"/api/auth/roles",Qd=zs+"/api/auth/permissions",Xd={fetchPermissions:function(e){e.commit("LOADING_STATUS",!0,{root:!0}),Ee.a.post(Jd).then((function(t){e.commit("GET_PERMISSIONS",t.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},fetchPermission:function(e){return e.commit("LOADING_STATUS",!0,{root:!0}),Ee.a.post(Qd).then((function(t){return e.commit("GET_PERMISSION",t.data),e.commit("LOADING_STATUS",!1,{root:!0}),t}))}},Zd=Xd,eu={permissions_data:[],permission:[]},tu={getPermissions:function(e){return e.permissions_data},getPermission:function(e){return e.permission}},au={GET_PERMISSIONS:function(e,t){e.permissions_data=t},GET_PERMISSION:function(e,t){e.permission=t}},iu={namespaced:!0,state:eu,getters:tu,mutations:au,actions:Zd},ru=zs+"/api/blacklisted/upload",nu=zs+"/api/public/branch/segment",ou=zs+"/api/blacklisted/search",su={fetchBranchSegment:function(e){e.commit("LOADING_STATUS",!0,{root:!0}),Ee.a.get(nu).then((function(t){e.commit("GET_SEGMENT",t.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},searchBlacklisted:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),Ee.a.post(ou,t).then((function(t){e.commit("LOADING_STATUS",!1,{root:!0}),e.commit("GET_BLACKLISTED",t.data);var a=[{status:!0,message:"Fetch Done...!",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(t){e.commit("PERM_ERROR",t.response.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},UploadBlacklisted:function(e,t){var a=new FormData;a.append("blacklisted",t),Ee.a.post(ru,a,{headers:{"Content-Type":"multipart/form-data"}}).then((function(t){console.log(t.data),e.commit("DIALOG_STATUS",!1,{root:!0}),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"New Blacklisted Customer Data successfully Updated.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(t){e.commit("PERM_ERROR",t.response.data),e.commit("LOADING_STATUS",!1,{root:!0})}))}},cu=su,lu={blacklisted_data:[],segment_data:[]},du={getBlackListed:function(e){return e.blacklisted_data},getBranchSegment:function(e){return e.segment_data}},uu={GET_BLACKLISTED:function(e,t){e.blacklisted_data=t},GET_SEGMENT:function(e,t){e.segment_data=t}},mu={namespaced:!0,state:lu,getters:du,mutations:uu,actions:cu},pu=(a("19de"),zs+"/api/digitized/index"),vu=zs+"/api/branches/public",hu=zs+"/api/digitized/upload",fu=zs+"/api/digitized/update",_u=zs+"/api/digitized/trash",gu=zs+"/api/digitized/delete",bu=zs+"/api/digitized/download",xu={fetchCDR:function(e){e.commit("LOADING_STATUS",!0,{root:!0}),Ee.a.get(pu).then((function(t){e.commit("GET_CDR",t.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},fetchbranches:function(e){e.commit("LOADING_STATUS",!0,{root:!0}),Ee.a.get(vu).then((function(t){e.commit("GET_BRANCHES",t.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},storeCDR:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0});var a=new FormData;t.validID_file.map((function(e,t){a.append("file-valid-id"+t,e)})),t.proof_of_billing.map((function(e,t){a.append("file-proof-billing"+t,e)})),a.append("file-application-form",t.application_file),a.append("file-picture_file",t.picture_file),a.append("customer-name",t.custormer_info.customer_name),a.append("birthday",t.custormer_info.birthday),a.append("branch",t.custormer_info.branch.value),a.append("unit-avail",t.custormer_info.unit_avail),Ee.a.post(hu,a,{headers:{"Content-Type":"multipart/form-data"}}).then((function(t){console.log(t),e.commit("DIALOG_STATUS",!1,{root:!0}),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"New Agencies Land Docs successfully added.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(t){e.commit("PERM_ERROR",t.response.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},updateCDR:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0});var a=new FormData;t.validID_file.map((function(e,t){a.append("file-valid-id"+t,e)})),t.proof_of_billing.map((function(e,t){a.append("file-proof-billing"+t,e)})),a.append("file-application-form",t.application_file),a.append("file-picture_file",t.picture_file),a.append("customer-name",t.custormer_info.customer_name),a.append("birthday",t.custormer_info.birthday),a.append("branch",t.custormer_info.branch.value),a.append("unit-avail",t.custormer_info.unit_avail),a.append("id",t.id),Ee.a.post(fu,a,{headers:{"Content-Type":"multipart/form-data"}}).then((function(t){e.commit("DIALOG_STATUS",!1,{root:!0}),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"Agencies successfully Updated.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(t){e.commit("PERM_ERROR",t.response.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},download:function(e,t){Ee.a.post(bu,{id:t.id},{responseType:"blob"}).then((function(a){var i=window.URL.createObjectURL(new Blob([a.data])),r=document.createElement("a");r.href=i,r.setAttribute("download",""+t.filename),document.body.appendChild(r),r.click();var n=[{status:!0,message:"File successfully Downloaded.",timeout:3e3}];e.commit("SNACKBAR_STATUS",n,{root:!0})}))},preview:function(e,t){Ee.a.post(bu,{id:t.id},{responseType:"blob"}).then((function(a){var i=window.URL.createObjectURL(new Blob([a.data])),r=document.createElement("a");r.href=i,r.setAttribute("download",""+t.filename),document.body.appendChild(r),e.commit("ATTACHMENT_DATA",i)}))},trashCDR:function(e,t){Ee.a.post(_u,{id:t}).then((function(t){var a=[{status:!0,message:"File successfully Deleted.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(t){e.commit("PERM_ERROR",t.response.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},deleteCDR:function(e,t){Ee.a.post(gu,{id:t}).then((function(t){console.log(t.data);var a=[{status:!0,message:"File successfully Deleted.",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(t){e.commit("PERM_ERROR",t.response.data),e.commit("LOADING_STATUS",!1,{root:!0})}))}},Tu=xu,yu={cdr_data:[],branches_data:[],attachment_data:""},Su={getCdr:function(e){return e.cdr_data},getBranches:function(e){return e.branches_data},getAttachment:function(e){return e.attachment_data}},Du={GET_CDR:function(e,t){e.cdr_data=t},GET_BRANCHES:function(e,t){e.branches_data=t},ATTACHMENT_DATA:function(e,t){e.attachment_data=t}},ku={namespaced:!0,state:yu,getters:Su,mutations:Du,actions:Tu},Eu=zs+"/api/public/credit/standing/index",Au=zs+"/api/public/credit/standing/generate",Iu={fetchCreditStanding:function(e){e.commit("LOADING_STATUS",!0,{root:!0}),Ee.a.get(Eu).then((function(t){e.commit("GET_CREDITSTANDING",t.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},GenerateCreditStanding:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),Ee.a.post(Au,t).then((function(t){e.commit("GET_CREDITSTANDING",t.data),e.commit("LOADING_STATUS",!1,{root:!0});var a=[{status:!0,message:"Sap Data Generated successfully",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(t){e.commit("PERM_ERROR",t.response.data),e.commit("LOADING_STATUS",!1,{root:!0})}))}},Cu=Iu,Ou={creditstanding_data:[]},Nu={getCreditStanding:function(e){return e.creditstanding_data}},$u={GET_CREDITSTANDING:function(e,t){e.creditstanding_data=t}},wu={namespaced:!0,state:Ou,getters:Nu,mutations:$u,actions:Cu},Ru=zs+"/api/public/index",Pu=zs+"/api/public/installment",Vu={fetchIncoming:function(e,t){e.commit("LOADING_STATUS2",!0,{root:!0}),Ee.a.post(Ru,t).then((function(t){e.commit("LOADING_STATUS2",!1,{root:!0}),e.commit("GET_INCOMING",t.data)})).catch((function(t){e.commit("INSTALLMENT_ERROR",t.response.data),e.commit("LOADING_STATUS2",!1,{root:!0})}))},fetchInstallment:function(e,t){e.commit("GET_INSTALLMENT",[]),e.commit("LOADING_STATUS",!0,{root:!0}),Ee.a.post(Pu,t).then((function(t){e.commit("LOADING_STATUS",!1,{root:!0}),e.commit("GET_INSTALLMENT",t.data)})).catch((function(t){e.commit("INSTALLMENT_ERROR",t.response.data),e.commit("LOADING_STATUS",!1,{root:!0})}))}},qu=Vu,Lu={incoming_data:[],installment_data:[],errors:[]},Uu={getIncoming:function(e){return e.incoming_data},getInstallment:function(e){return e.installment_data},getInstallmentErr:function(e){return e.errors}},ju={GET_INCOMING:function(e,t){e.incoming_data=t},GET_INSTALLMENT:function(e,t){e.installment_data=t},INSTALLMENT_ERROR:function(e,t){e.errors=t}},Bu={namespaced:!0,state:Lu,getters:Uu,mutations:ju,actions:qu},Mu=zs+"/api/public/installment/index",Gu=zs+"/api/public/installment/create",Fu=zs+"/api/public/installment/updatemanual",Yu=zs+"/api/public/calculate/grade",zu={fetchIncoming:function(e,t){e.commit("LOADING_STATUS2",!0,{root:!0}),Ee.a.post(Mu,t).then((function(t){e.commit("LOADING_STATUS2",!1,{root:!0}),e.commit("GET_INCOMING",t.data.data),e.commit("GET_GRADE",t.data.grade.original)})).catch((function(t){e.commit("INSTALLMENT_ERROR",t.response.data),e.commit("LOADING_STATUS2",!1,{root:!0})}))},fetchInstallment:function(e,t){e.commit("GET_INSTALLMENT",[]),e.commit("LOADING_STATUS",!0,{root:!0}),Ee.a.post(Gu,t).then((function(t){e.commit("LOADING_STATUS",!1,{root:!0}),e.commit("GET_INSTALLMENT",t.data)})).catch((function(t){e.commit("INSTALLMENT_ERROR",t.response.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},updateManual:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),Ee.a.post(Fu,t).then((function(t){console.log(t),e.commit("LOADING_STATUS",!1,{root:!0})})).catch((function(t){e.commit("LOADING_STATUS",!1,{root:!0})}))},ComputeBranchGrade:function(e,t){Ee.a.get(Yu,t).then((function(t){e.commit("GET_GRADE",t.data)})).catch((function(t){e.commit("LOADING_STATUS",!1,{root:!0})}))}},Hu=zu,Ku={incoming_data:[],installment_data:[],errors:[],branchgrade:[]},Wu={getIncoming:function(e){return e.incoming_data},getInstallment:function(e){return e.installment_data},getInstallmentErr:function(e){return e.errors},getbranchgrade:function(e){return e.branchgrade}},Ju={GET_INCOMING:function(e,t){e.incoming_data=t},GET_INSTALLMENT:function(e,t){e.installment_data=t},INSTALLMENT_ERROR:function(e,t){e.errors=t},GET_GRADE:function(e,t){e.branchgrade=t}},Qu={namespaced:!0,state:Ku,getters:Wu,mutations:Ju,actions:Hu},Xu=(a("5319"),a("19de")),Zu=a.n(Xu),em=zs+"/api/credit-dunning",tm={fetchOverdues:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),Ee.a.post(em+"/index").then((function(t){e.commit("GET_OVERDUES",t.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},downloadLetters:function(e,t){var a={index:t.index,value:!0};e.commit("DOWNLOADING_STATUS",a),Ee.a.post(em+"/download-letters",t,{responseType:"blob"}).then((function(t){Zu()(t.data,t.headers["content-disposition"].split("filename=")[1].replace(/"/g,"")),e.commit("SNACKBAR_STATUS",[{status:!0,message:"Letters successfully Downloaded.",timeout:3e3}],{root:!0})})).catch((function(e){console.log(e.response.data)})).finally((function(){a.value=!1,e.commit("DOWNLOADING_STATUS",a)}))},test:function(){Ee.a.get(em).then((function(e){console.log(e.headers)}))},fetchBranches:function(e){e.commit("LOADING_STATUS",!0,{root:!0}),Ee.a.get(em+"/get-branches").then((function(t){console.log(t.data),e.commit("GET_BRANCHES",t.data),e.commit("GET_AGINGS",[{name:"1 month",value:"02 ONE(1) MONTH"},{name:"2 months",value:"03 TWO(2) MONTHS"},{name:"3 months",value:"04 THREE(3) MONTHS"},{name:"4 months",value:"05 FOUR(4) MONTHS"},{name:"1 month lapcon",value:"09 LAPCON ONE(1) MONTH"}]),e.commit("LOADING_STATUS",!1,{root:!0})}))}},am=tm,im={overdues_data:[],downloading:{}},rm={getOverdues:function(e){return e.overdues_data},getDownloadingStatus:function(e){return e.downloading},getBranches:function(e){return e.branches_data},getAgings:function(e){return e.agings_data}},nm={GET_OVERDUES:function(e,t){e.overdues_data=t},DOWNLOADING_STATUS:function(e,t){i["default"].set(e.downloading,t.index,t.value)},GET_BRANCHES:function(e,t){e.branches_data=t},GET_AGINGS:function(e,t){e.agings_data=t}},om={namespaced:!0,state:im,getters:rm,mutations:nm,actions:am},sm=zs+"/api/validation-portal",cm={checkAuth:function(e){Ee.a.get(sm+"/check-auth")},validateTemplate:function(e,t){var a=new FormData;a.append("base_on_file",t.base_on_file),a.append("comparison_file",t.comparison_file),a.append("unique_column_1",t.unique_column_1),a.append("unique_column_2",t.unique_column_2),e.commit("setValidationProgress",!0),Ee.a.post(sm+"/validate-template",a).then((function(t){e.dispatch("resetValidationMessages"),e.commit("setSuccessMessage",t.data.message)})).catch((function(t){e.dispatch("resetValidationMessages");var a=t.response,i=a.status,r=a.data;422==i?e.commit("setInputValidationErrors",r.errors):500==i&&e.commit("setValidationErrors",r)})).finally((function(){e.commit("setValidationProgress",!1)}))},exportToExcel:function(e,t){e.commit("setExportingProgress",!0),Ee.a.post(sm+"/export-to-excel",t,{responseType:"blob"}).then((function(e){console.log(e);var t=new Blob([e.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),a=document.createElement("a");a.href=window.URL.createObjectURL(t),a.download=e.headers["content-disposition"].split("filename=")[1],a.click()})).finally((function(){e.commit("setExportingProgress",!1)}))},resetValidationMessages:function(e){e.commit("setSuccessMessage",null),e.commit("setInputValidationErrors",{}),e.commit("setValidationErrors",{})}},lm=cm,dm={input_validation_errors:{},validation_errors:{},validation_on_progress:!1,success_message:null,exporting_on_progress:!1},um={getInputValidationErrors:function(e){return e.input_validation_errors},getValidationErrors:function(e){return e.validation_errors},getValidationProgress:function(e){return e.validation_on_progress},getSuccessMessage:function(e){return e.success_message},getExportingProgress:function(e){return e.exporting_on_progress}},mm={setValidationErrors:function(e,t){e.validation_errors=t},setInputValidationErrors:function(e,t){e.input_validation_errors=t},setValidationProgress:function(e,t){e.validation_on_progress=t},setSuccessMessage:function(e,t){e.success_message=t},setExportingProgress:function(e,t){e.exporting_on_progress=t}},pm={namespaced:!0,state:dm,getters:um,mutations:mm,actions:lm},vm=zs+"/api/validation-portal",hm={validateGoodReceiptToSerial:function(e,t){var a=new FormData;a.append("base_on_file",t.base_on_file),a.append("comparison_file",t.comparison_file),a.append("column_to_compare",t.column_to_compare),a.append("alt_name_of_col",t.alt_name_of_col),a.append("match_column_1",t.match_column_1),a.append("match_column_2",t.match_column_2),e.commit("setValidationProgress",!0),Ee.a.post(vm+"/validate-good-receipt-to-serial",a).then((function(t){e.dispatch("resetValidationMessages"),e.commit("setSuccessMessage",t.data.message)})).catch((function(t){e.dispatch("resetValidationMessages");var a=t.response,i=a.status,r=a.data;422==i?e.commit("setInputValidationErrors",r.errors):500==i&&e.commit("setValidationErrors",r)})).finally((function(){e.commit("setValidationProgress",!1)}))},resetValidationMessages:function(e){e.commit("setSuccessMessage",null),e.commit("setInputValidationErrors",{}),e.commit("setValidationErrors",{})}},fm=hm,_m={input_validation_errors:{},validation_errors:{},validation_on_progress:!1,success_message:null},gm={getInputValidationErrors:function(e){return e.input_validation_errors},getValidationErrors:function(e){return e.validation_errors},getValidationProgress:function(e){return e.validation_on_progress},getSuccessMessage:function(e){return e.success_message}},bm={setValidationErrors:function(e,t){e.validation_errors=t},setInputValidationErrors:function(e,t){e.input_validation_errors=t},setValidationProgress:function(e,t){e.validation_on_progress=t},setSuccessMessage:function(e,t){e.success_message=t}},xm={namespaced:!0,state:_m,getters:gm,mutations:bm,actions:fm},Tm=zs+"/api/validation-portal",ym={validateBPMasterDataCardCodeArInvoice:function(e,t){var a=new FormData;a.append("base_on_file",t.base_on_file),a.append("comparison_file",t.comparison_file),a.append("base_match_column",t.base_match_column),a.append("comparison_match_column",t.comparison_match_column),a.append("base_columns_to_get",t.base_columns_to_get),a.append("comparison_columns_to_get",t.comparison_columns_to_get),e.commit("setValidationProgress",!0),Ee.a.post(Tm+"/validate-bp-master-cardcode-ar-invoice",a,{responseType:"blob"}).then((function(t){e.dispatch("resetValidationMessages");var a=new Blob([t.data],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),i=document.createElement("a");i.href=window.URL.createObjectURL(a),i.download=t.headers["content-disposition"].split("filename=")[1],i.click(),e.commit("setSuccessMessage","Validation Successful")})).catch((function(t){e.dispatch("resetValidationMessages");var a=t.response,i=a.status,r=a.data;422==i?e.commit("setInputValidationErrors",r.errors):500==i&&e.commit("setValidationErrors",r)})).finally((function(){e.commit("setValidationProgress",!1)}))},resetValidationMessages:function(e){e.commit("setSuccessMessage",null),e.commit("setInputValidationErrors",{}),e.commit("setValidationErrors",{})}},Sm=ym,Dm={input_validation_errors:{},validation_errors:{},validation_on_progress:!1,success_message:null,exporting_on_progress:!1},km={getInputValidationErrors:function(e){return e.input_validation_errors},getValidationErrors:function(e){return e.validation_errors},getValidationProgress:function(e){return e.validation_on_progress},getSuccessMessage:function(e){return e.success_message},getExportingProgress:function(e){return e.exporting_on_progress}},Em={setValidationErrors:function(e,t){e.validation_errors=t},setInputValidationErrors:function(e,t){e.input_validation_errors=t},setValidationProgress:function(e,t){e.validation_on_progress=t},setSuccessMessage:function(e,t){e.success_message=t},setExportingProgress:function(e,t){e.exporting_on_progress=t}},Am={namespaced:!0,state:Dm,getters:km,mutations:Em,actions:Sm},Im="http://192.168.1.19:3378/",Cm={GetWinner:function(e,t){e.commit("LOADING_STATUS",!1,{root:!0}),Ee.a.get(Im).then((function(t){e.commit("GET_WINNER",t.data)})).catch((function(t){e.commit("LOADING_STATUS",!1,{root:!0})}))}},Om=Cm,Nm={winner_data:[]},$m={getWinner:function(e){return e.winner_data}},wm={GET_WINNER:function(e,t){e.winner_data=t}},Rm={namespaced:!0,state:Nm,getters:$m,mutations:wm,actions:Om},Pm=zs+"/api/authorized/giftcode",Vm={AuthorizedAccess:function(e){console.log(e),e.commit("LOADING_STATUS",!0,{root:!0}),Ee.a.get(Pm).then((function(t){console.log(t),e.commit("LOADING_STATUS",!1,{root:!0})}))}},qm=Vm,Lm={},Um={},jm={},Bm={namespaced:!0,state:Lm,getters:Um,mutations:jm,actions:qm},Mm=zs+"/api/public/branch/segment",Gm=zs+"/api/public/reports/incoming/crb",Fm={fetchBranchSegment:function(e){e.commit("LOADING_STATUS",!0,{root:!0}),Ee.a.get(Mm).then((function(t){e.commit("GET_SEGMENT",t.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},GeneratePaymentCRB:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),Ee.a.post(Gm,t).then((function(t){e.commit("LOADING_STATUS",!1,{root:!0}),e.commit("GET_PAYMENTCRB",t.data);var a=[{status:!0,message:"Fetch Done...!",timeout:3e3}];e.commit("SNACKBAR_STATUS",a,{root:!0})})).catch((function(t){e.commit("PERM_ERROR",t.response.data),e.commit("LOADING_STATUS",!1,{root:!0})}))}},Ym=Fm,zm={paymentcrb_data:[],segment_data:[]},Hm={getPaymentCRB:function(e){return e.paymentcrb_data},getBranchSegment:function(e){return e.segment_data}},Km={GET_PAYMENTCRB:function(e,t){e.paymentcrb_data=t},GET_SEGMENT:function(e,t){e.segment_data=t}},Wm={namespaced:!0,state:zm,getters:Hm,mutations:Km,actions:Ym},Jm=zs+"/api/seriesname/fetch?q=sapprogtbl",Qm=zs+"/api/public/reports/queries/adjustmentsalesdiscount?q=queries",Xm={fetchBranchSegment:function(e){e.commit("LOADING_STATUS",!0,{root:!0}),Ee.a.get(Jm).then((function(t){e.commit("GET_SEGMENT",t.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},generatequery:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),Ee.a.get(Qm+"&datefrom="+t["date"][0]+"&dateto="+t["date"][1]+"&series="+t.branch.U_Branch1).then((function(t){e.commit("GET_QUERY",t.data),e.commit("LOADING_STATUS",!1,{root:!0})}))}},Zm=Xm,ep={query_data:[],segment_data:[]},tp={QUERY:function(e){return e.query_data},getBranchSegment:function(e){return e.segment_data}},ap={GET_QUERY:function(e,t){e.query_data=t},GET_SEGMENT:function(e,t){e.segment_data=t}},ip={namespaced:!0,state:ep,getters:tp,mutations:ap,actions:Zm},rp=zs+"/api/seriesname/fetch?q=sapprogtbl",np=zs+"/api/public/reports/queries/arinvoiceopenbalance?q=queries",op={fetchBranchSegment:function(e){e.commit("LOADING_STATUS",!0,{root:!0}),Ee.a.get(rp).then((function(t){e.commit("GET_SEGMENT",t.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},generatequery:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),Ee.a.get(np+"&series="+t.branch.U_Branch1).then((function(t){e.commit("GET_QUERY",t.data),e.commit("LOADING_STATUS",!1,{root:!0})}))}},sp=op,cp={query_data:[],segment_data:[]},lp={QUERY:function(e){return e.query_data},getBranchSegment:function(e){return e.segment_data}},dp={GET_QUERY:function(e,t){e.query_data=t},GET_SEGMENT:function(e,t){e.segment_data=t}},up={namespaced:!0,state:cp,getters:lp,mutations:dp,actions:sp},mp=zs+"/api/seriesname/fetch?q=sapprogtbl",pp=zs+"/api/public/reports/queries/incomingpaymentcustomerdeposit?q=queries",vp={fetchBranchSegment:function(e){e.commit("LOADING_STATUS",!0,{root:!0}),Ee.a.get(mp).then((function(t){e.commit("GET_SEGMENT",t.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},generatequery:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),Ee.a.get(pp+"&series="+t.branch.U_Branch1).then((function(t){e.commit("GET_QUERY",t.data),e.commit("LOADING_STATUS",!1,{root:!0})}))}},hp=vp,fp={query_data:[],segment_data:[]},_p={QUERY:function(e){return e.query_data},getBranchSegment:function(e){return e.segment_data}},gp={GET_QUERY:function(e,t){e.query_data=t},GET_SEGMENT:function(e,t){e.segment_data=t}},bp={namespaced:!0,state:fp,getters:_p,mutations:gp,actions:hp},xp=zs+"/api/seriesname/fetch",Tp=zs+"/api/public/reports/queries/incomingpaymentopenbalance?q=queries",yp={fetchBranchSegment:function(e){e.commit("LOADING_STATUS",!0,{root:!0}),Ee.a.get(xp).then((function(t){e.commit("GET_SEGMENT",t.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},generatequery:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),Ee.a.get(Tp+"&series="+t.branch.SeriesName).then((function(t){e.commit("GET_QUERY",t.data),e.commit("LOADING_STATUS",!1,{root:!0})}))}},Sp=yp,Dp={query_data:[],segment_data:[]},kp={QUERY:function(e){return e.query_data},getBranchSegment:function(e){return e.segment_data}},Ep={GET_QUERY:function(e,t){e.query_data=t},GET_SEGMENT:function(e,t){e.segment_data=t}},Ap={namespaced:!0,state:Dp,getters:kp,mutations:Ep,actions:Sp},Ip=zs+"/api/seriesname/fetch",Cp=zs+"/api/public/reports/queries/invoicequeryseriesrevised?q=queries",Op={fetchBranchSegment:function(e){e.commit("LOADING_STATUS",!0,{root:!0}),Ee.a.get(Ip).then((function(t){e.commit("GET_SEGMENT",t.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},generatequery:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),Ee.a.get(Cp+"&datefrom="+t["date"][0]+"&dateto="+t["date"][1]+"&series="+t.branch.SeriesName).then((function(t){e.commit("GET_QUERY",t.data),e.commit("LOADING_STATUS",!1,{root:!0})}))}},Np=Op,$p={query_data:[],segment_data:[]},wp={QUERY:function(e){return e.query_data},getBranchSegment:function(e){return e.segment_data}},Rp={GET_QUERY:function(e,t){e.query_data=t},GET_SEGMENT:function(e,t){e.segment_data=t}},Pp={namespaced:!0,state:$p,getters:wp,mutations:Rp,actions:Np},Vp=zs+"/api/seriesname/fetch",qp=zs+"/api/public/reports/queries/marketingarinvoicequery?q=queries",Lp={fetchBranchSegment:function(e){e.commit("LOADING_STATUS",!0,{root:!0}),Ee.a.get(Vp).then((function(t){e.commit("GET_SEGMENT",t.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},generatequery:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),Ee.a.get(qp+"&datefrom="+t["date"][0]+"&dateto="+t["date"][1]+"&series="+t.branch.SeriesName).then((function(t){e.commit("GET_QUERY",t.data),e.commit("LOADING_STATUS",!1,{root:!0})}))}},Up=Lp,jp={query_data:[],segment_data:[]},Bp={QUERY:function(e){return e.query_data},getBranchSegment:function(e){return e.segment_data}},Mp={GET_QUERY:function(e,t){e.query_data=t},GET_SEGMENT:function(e,t){e.segment_data=t}},Gp={namespaced:!0,state:jp,getters:Bp,mutations:Mp,actions:Up},Fp=zs+"/api/seriesname/fetch?q=sapprogtbl",Yp=zs+"/api/public/reports/queries/recomputedaccount?q=queries",zp={fetchBranchSegment:function(e){e.commit("LOADING_STATUS",!0,{root:!0}),Ee.a.get(Fp).then((function(t){e.commit("GET_SEGMENT",t.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},generatequery:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),Ee.a.get(Yp+"&datefrom="+t["date"][0]+"&dateto="+t["date"][1]+"&series="+t.branch.U_Branch1).then((function(t){e.commit("GET_QUERY",t.data),e.commit("LOADING_STATUS",!1,{root:!0})}))}},Hp=zp,Kp={query_data:[],segment_data:[]},Wp={QUERY:function(e){return e.query_data},getBranchSegment:function(e){return e.segment_data}},Jp={GET_QUERY:function(e,t){e.query_data=t},GET_SEGMENT:function(e,t){e.segment_data=t}},Qp={namespaced:!0,state:Kp,getters:Wp,mutations:Jp,actions:Hp},Xp=zs+"/api/public/reports/queries/searchofvehicleparts?q=items&req=type",Zp=zs+"/api/public/reports/queries/searchofvehicleparts?q=items&req=parts",ev=zs+"/api/public/reports/queries/searchofvehicleparts?q=queries&",tv={fetchVEHICLEPARTS:function(e){e.commit("LOADING_STATUS",!0,{root:!0}),Ee.a.get(Zp).then((function(t){e.commit("GET_VEHICLEPARTS",t.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},fetchVEHICLETYPE:function(e){e.commit("LOADING_STATUS",!0,{root:!0}),Ee.a.get(Xp).then((function(t){e.commit("GET_VEHICLETYPE",t.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},GenerateVEHICLETQUERIES:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),Ee.a.get(ev+"part="+t.part+"&type="+t.type).then((function(t){e.commit("GET_VEHICLETQUERIES",t.data),e.commit("LOADING_STATUS",!1,{root:!0})}))}},av=tv,iv={vehicleparts_data:[],vehicletypes_data:[],vehiclequeries_data:[]},rv={PARTS:function(e){return e.vehicleparts_data},TYPES:function(e){return e.vehicletypes_data},QUERIES:function(e){return e.vehiclequeries_data}},nv={GET_VEHICLEPARTS:function(e,t){e.vehicleparts_data=t},GET_VEHICLETYPE:function(e,t){e.vehicletypes_data=t},GET_VEHICLETQUERIES:function(e,t){e.vehiclequeries_data=t}},ov={namespaced:!0,state:iv,getters:rv,mutations:nv,actions:av},sv=zs+"/api/seriesname/fetch?q=sapprogtbl",cv=zs+"/api/public/reports/queries/summaryofcustomerdepositapplied?q=queries",lv={fetchBranchSegment:function(e){e.commit("LOADING_STATUS",!0,{root:!0}),Ee.a.get(sv).then((function(t){e.commit("GET_SEGMENT",t.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},generatequery:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),Ee.a.get(cv+"&datefrom="+t["date"][0]+"&dateto="+t["date"][1]+"&series="+t.branch.U_Branch1).then((function(t){e.commit("GET_QUERY",t.data),e.commit("LOADING_STATUS",!1,{root:!0})}))}},dv=lv,uv={query_data:[],segment_data:[]},mv={QUERY:function(e){return e.query_data},getBranchSegment:function(e){return e.segment_data}},pv={GET_QUERY:function(e,t){e.query_data=t},GET_SEGMENT:function(e,t){e.segment_data=t}},vv={namespaced:!0,state:uv,getters:mv,mutations:pv,actions:dv},hv=a("53ca"),fv=zs+"/api/booking/store",_v=zs+"/api/booking/jobs",gv=zs+"/api/booking/jobs/action",bv=zs+"/api/booking/jobs/jobsupdate",xv=zs+"/api/booking/jobs/counts",Tv=zs+"/api/booking/jobs/checkrecords",yv=zs+"/api/booking/jobs/salesinvoice/download",Sv=zs+"/api/booking/restore",Dv=zs+"/api/booking/scalate/index",kv=zs+"/api/booking/scalate/create",Ev=zs+"/api/booking/scalate/threads",Av=zs+"/api/jobs/schedules/calendar",Iv=zs+"/api/scalate/count",Cv=zs+"/api/notification",Ov=zs+"/api/notification?q=2",Nv=zs+"/api/booking/jobs/trash",$v=zs+"/api/fetch/fields",wv=zs+"/api/create/fields",Rv=zs+"/api/delete/fields",Pv=zs+"/api/createitem/fields",Vv=zs+"/api/deleteitems/fields",qv=zs+"/api/seen/nofication",Lv=zs+"/api/booking/jobs/updateserial",Uv=zs+"/api/booking/restore/close",jv={storeBooking:function(e,t){var a=new FormData;try{t.customer.attachment[0].path?(a.append("attachment",t.customer.attachment[0].path),a.append("attachmentN",t.customer.attachment[0].name)):a.append("attachment",t.customer.attachment[0])}catch(i){a.append("attachment","")}return"object"===Object(hv["a"])(t.customer.region)&&null!==t.customer.region?a.append("region",t.customer.region.region_code):a.append("region",t.customer.region),a.append("contactperson",t.customer.contactperson),a.append("cpnumber",t.customer.cpnumber),a.append("emailaddress",t.customer.emailaddress),a.append("firstname",t.customer.firstname),a.append("lastname",t.customer.lastname),a.append("middlename",t.customer.middlename),a.append("houseno",t.customer.houseno),a.append("mcity",t.customer.customerCity),a.append("landmark",t.customer.landmark),a.append("organization",t.customer.organization),a.append("barangay",t.customer.barangay),a.append("province",t.customer.province),a.append("specialinstruction",t.customer.specialinstruction),a.append("street",t.customer.street),a.append("telephoneno",t.customer.telephoneno),a.append("additionalrequest1",t.customer.additionalrequest1),a.append("additionalrequest2",t.customer.additionalrequest2),a.append("bookby",t.customer.bookby),a.append("surveylocation",t.customer.locationofinstallation),a.append("locanorg",t.customer.locationunit),a.append("orgname",t.customer.organizationname),a.append("identify",t.identify),a.append("requestType",t.requestType),a.append("requestid",t.requestid),a.append("units",JSON.stringify(t.units)),Ee.a.post(fv,a,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){return e})).catch((function(t){e.commit("SCHEDULE_ERROR",t.response.data),e.commit("LOADING_STATUS",!1,{root:!0})}))},fetchJobs:function(e,t){return Ee.a.get(_v+"?id="+t).then((function(e){return e}))},JobsAction:function(e,t){return Ee.a.post(gv,{data:t}).then((function(e){return e}))},JobsUpdate:function(e,t){return Ee.a.post(bv,{data:t}).then((function(e){return e}))},JobsCount:function(e,t){return Ee.a.get(xv).then((function(e){return e}))},JobsSchedule:function(e,t){return Ee.a.get(Av).then((function(e){return e}))},JobsCheckRecords:function(e,t){return Ee.a.post(Tv,t).then((function(e){return e}))},salesInvoiceDownload:function(e,t){Ee.a.post(yv,t,{responseType:"blob"}).then((function(e){var t=window.URL.createObjectURL(new Blob([e.data],{type:e.data.type})),a=document.createElement("a");a.href=t,console.log(t),a.setAttribute("download","Invoice-Attachment-"+Math.ceil(1e6*Math.random())),document.body.appendChild(a),a.click()}))},restoreBk:function(e,t){return Ee.a.post(Sv,t).then((function(e){return e}))},scalateBk:function(e,t){return Ee.a.post(Dv,t).then((function(e){return e}))},scalateCreateBk:function(e,t){return Ee.a.post(kv,t).then((function(e){return e}))},scalateSendThreadsBk:function(e,t){return Ee.a.post(Ev,t).then((function(e){return e}))},ScalateCount:function(e,t){return Ee.a.get(Iv).then((function(e){return e}))},Notification:function(e,t){return Ee.a.get(Cv).then((function(e){return e}))},ViewNotification:function(e,t){return Ee.a.get(Ov+"&id="+t).then((function(e){return e}))},TrashJobs:function(e,t){return Ee.a.post(Nv,{id:t.id}).then((function(e){return e}))},FetchFields:function(e,t){return Ee.a.get($v+"?id="+t+"&list=1").then((function(e){return e}))},ListDropDownFields:function(e,t){return Ee.a.get($v+"?list=2").then((function(e){return e}))},CreateFields:function(e,t){return Ee.a.post(wv,t).then((function(e){return e}))},DeleteFields:function(e,t){return Ee.a.post(Rv,t).then((function(e){return e}))},CreateITEMS:function(e,t){return Ee.a.post(Pv,t).then((function(e){return e}))},DeleteItems:function(e,t){return Ee.a.post(Vv,t).then((function(e){return e}))},SeenNotification:function(e,t){return Ee.a.post(qv,{id:t}).then((function(e){return e}))},closeRestore:function(e,t){return Ee.a.post(Uv,t).then((function(e){return e}))},updateSerial:function(e,t){return Ee.a.post(Lv,t).then((function(e){return e}))}},Bv=jv,Mv={},Gv={},Fv={},Yv={namespaced:!0,state:Mv,getters:Gv,mutations:Fv,actions:Bv},zv=zs+"/api/date",Hv=zs+"/api/connections/update",Kv=zs+"/api/settings/database",Wv=Oe();i["default"].use(l["a"]);var Jv=new l["a"].Store({modules:{user:Zs,employment:oc,branch:pc,bsched:xc,region:Ac,division:Rc,department:Bc,position:Kc,role:tl,perm:cl,productItem:hl,productBrand:yl,productCategory:Cl,serviceType:Vl,serviceCategory:Gl,serviceProvider:Jl,computerwareTicket:id,connectivityTicket:dd,powerInterruption:_d,pendingTran:Dd,userPermissions:iu,archived:Vd,agencies:Wd,blacklisted:mu,digitized:ku,creditstanding:wu,incomingpayment:Bu,recon:Qu,dunning:om,raffledraw:Rm,Authgiftcode:Bm,validation_template:pm,validation_good_receipt_serial:xm,validation_bp_master_ar_invoice_cardcode:Am,paymentCRB:Wm,adjustment_sales_discount:ip,ar_invoice_open_balance:up,incoming_payment_customer_deposit:bp,incoming_payment_open_balance:Ap,invoice_query_series_revised:Pp,marketing_ar_invoice:Gp,recomputed_account:Qp,searching_of_vehicles_parts:ov,summary_of_customer_depostiapplied:vv,app_booking_sys:Yv},state:{serverdate:[],connections:[],database_data:[],windowSize:{width:0,height:0},drawer:!0,loading:!0,loading2:!0,dialog:!1,dialog2:!1,snackbar:!1,snackbarText:"",snackbarTimeout:0,goDark:!1,currentUser:Wv,isLoggedIn:!!Wv,auth_error:null},getters:{serverDate:function(e){return e.serverdate},mssqlCons:function(e){return e.connections},isLoggedIn:function(e){return e.isLoggedIn},currentUser:function(e){return e.currentUser},authError:function(e){return e.auth_error},goDark:function(e){return e.goDark},getDBLIST:function(e){return e.database_data}},mutations:{SET_DATE:function(e,t){e.serverdate=t,console.log(e.serverdate)},SET_DBLIST:function(e,t){e.database_data=t},SET_DBCONNECTIONS:function(e,t){e.connections=t},WINDOW_SIZE:function(e){e.windowSize.width=window.innerWidth,e.windowSize.height=window.innerHeight},DRAWER_STATUS:function(e,t){e.drawer=t},LOADING_STATUS:function(e,t){e.loading=t},LOADING_STATUS2:function(e,t){e.loading2=t},DIALOG_STATUS:function(e,t){e.dialog=t},SNACKBAR_STATUS:function(e,t){e.loading=!1,e.snackbar=t[0].status,e.snackbarText=t[0].message,e.snackbarTimeout=t[0].timeout,setTimeout((function(){e.snackbar=!1}),t[0].timeout)},login:function(e){e.loading=!0,e.auth_error=null},loginSuccess:function(e,t){e.auth_error=null,e.isLoggedIn=!0,e.loading=!1,e.currentUser=Object.assign({},t.user,{token:t.access_token}),localStorage.setItem("user",JSON.stringify(e.currentUser))},logout:function(e){localStorage.removeItem("user"),e.isLoggedIn=!1,e.currentUser=null,e.loading=!1}},actions:{triggerDialog:function(e,t){e.commit("DIALOG_STATUS",t)},login:function(e){e.commit("login")},fetchDate:function(e){Ee.a.get(zv).then((function(t){e.commit("SET_DATE",t.data)}))},updateDB:function(e,t){e.commit("LOADING_STATUS",!0,{root:!0}),Ee.a.post(Hv,t).then((function(t){e.commit("LOADING_STATUS",!1,{root:!0});var a=new URL(window.location.pathname,window.location.origin);window.location.href=a.toString()}))},createDBcon:function(e,t){return Ee.a.post(Kv+"/create",t).then((function(t){var a=[{status:!0,message:t.data.msg,timeout:3e3}];return e.commit("SNACKBAR_STATUS",a,{root:!0}),t}))},deleteDBcon:function(e,t){return Ee.a.post(Kv+"/delete",t).then((function(t){var a=[{status:!0,message:t.data.msg,timeout:3e3}];return e.commit("SNACKBAR_STATUS",a,{root:!0}),t}))},updateDBcon:function(e,t){return Ee.a.post(Kv+"/update",t).then((function(t){var a=[{status:!0,message:t.data.msg,timeout:3e3}];return e.commit("SNACKBAR_STATUS",a,{root:!0}),t}))}}}),Qv=a("f309"),Xv=a("83df"),Zv=a("5607"),eh=(a("8128"),a("d1e78"),!1);Ee.a.get("http://appletronics.com.ph:8009/api/change/background").then((function(e){eh=!0})),i["default"].use(Qv["a"],{directives:{Ripple:Zv["a"]}}),i["default"].use(Xv["a"],{context:{vuetify:th}});var th=new Qv["a"]({theme:{dark:eh}});console.log(eh);var ah=th,ih=a("574d"),rh=a.n(ih),nh=a("7898"),oh=a.n(nh),sh=(a("04f2"),a("5132")),ch=a.n(sh),lh=a("8055"),dh=a.n(lh),uh=a("b079"),mh=a.n(uh),ph=(a("4238"),a("f9d5")),vh=a.n(ph),hh=(a("4413"),a("f5af")),fh=a.n(hh),_h=(a("e829"),a("7d8d"));i["default"].use(mh.a),i["default"].use(vh.a),fh.a.init(),i["default"].use(_h["a"]);var gh=dh()("http://appletronics.com.ph:3333");i["default"].use(new ch.a({debug:!1,connection:gh}));var bh=a("c986").default;i["default"].use(bh),i["default"].use(rh.a,{}),i["default"].use(oh.a),i["default"].config.productionTip=!1,i["default"].prototype.$http=Ee.a,i["default"].prototype.moment=Hn.a,Ae(Jv,Fs),new i["default"]({router:Fs,store:Jv,vuetify:ah,render:function(e){return e(be)}}).$mount("#app")},"5d1f":function(e,t,a){"use strict";var i=a("4f5f"),r=a.n(i);r.a},"5d71":function(e,t,a){"use strict";var i=a("4ff0"),r=a.n(i);r.a},6033:function(e,t,a){},"656a":function(e,t,a){"use strict";var i=a("97a1"),r=a.n(i);r.a},"6ccc":function(e,t,a){"use strict";var i=a("2c32"),r=a.n(i);r.a},"707c":function(e,t,a){},"747f":function(e,t,a){"use strict";var i=a("922d"),r=a.n(i);r.a},"788d":function(e,t,a){"use strict";var i=a("b414"),r=a.n(i);r.a},"857c":function(e,t,a){},"922d":function(e,t,a){},"97a1":function(e,t,a){},"98b8":function(e,t,a){"use strict";var i=a("707c"),r=a.n(i);r.a},"9ea0":function(e,t,a){},"9fd0":function(e,t,a){"use strict";var i=a("857c"),r=a.n(i);r.a},abe6:function(e,t,a){},ac0a:function(e,t,a){"use strict";var i=a("9ea0"),r=a.n(i);r.a},b414:function(e,t,a){},b6fd:function(e,t,a){},b7a3:function(e,t,a){"use strict";var i=a("c5fc"),r=a.n(i);r.a},c5fc:function(e,t,a){},d5ea:function(e,t,a){"use strict";var i=a("ed09"),r=a.n(i);r.a},da2e:function(e,t,a){"use strict";var i=a("f8ab"),r=a.n(i);r.a},e7cb:function(e,t,a){"use strict";var i=a("2a70"),r=a.n(i);r.a},ed09:function(e,t,a){},f0e2:function(e,t,a){},f8ab:function(e,t,a){}});
//# sourceMappingURL=app.c96de8db.js.map